(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Km={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function jB(){if(VS)return lu;VS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:o}}return lu.Fragment=t,lu.jsx=n,lu.jsxs=n,lu}var KS;function EB(){return KS||(KS=1,Km.exports=jB()),Km.exports}var w=EB(),Hm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function CB(){if(HS)return ke;HS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(B,X,Q){this.props=B,this.context=X,this.refs=S,this.updater=Q||b}_.prototype.isReactComponent={},_.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},_.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=_.prototype;function T(B,X,Q){this.props=B,this.context=X,this.refs=S,this.updater=Q||b}var j=T.prototype=new O;j.constructor=T,x(j,_.prototype),j.isPureReactComponent=!0;var M=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function R(B,X,Q,re,pe,_e){return Q=_e.ref,{$$typeof:e,type:B,key:X,ref:Q!==void 0?Q:null,props:_e}}function D(B,X){return R(B.type,X,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function J(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Q){return X[Q]})}var W=/\/+/g;function H(B,X){return typeof B=="object"&&B!==null&&B.key!=null?J(""+B.key):X.toString(36)}function ie(){}function oe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ie,ie):(B.status="pending",B.then(function(X){B.status==="pending"&&(B.status="fulfilled",B.value=X)},function(X){B.status==="pending"&&(B.status="rejected",B.reason=X)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function me(B,X,Q,re,pe){var _e=typeof B;(_e==="undefined"||_e==="boolean")&&(B=null);var Oe=!1;if(B===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(B.$$typeof){case e:case t:Oe=!0;break;case p:return Oe=B._init,me(Oe(B._payload),X,Q,re,pe)}}if(Oe)return pe=pe(B),Oe=re===""?"."+H(B,0):re,M(pe)?(Q="",Oe!=null&&(Q=Oe.replace(W,"$&/")+"/"),me(pe,X,Q,"",function(ue){return ue})):pe!=null&&(I(pe)&&(pe=D(pe,Q+(pe.key==null||B&&B.key===pe.key?"":(""+pe.key).replace(W,"$&/")+"/")+Oe)),X.push(pe)),1;Oe=0;var Ft=re===""?".":re+":";if(M(B))for(var Ge=0;Ge<B.length;Ge++)re=B[Ge],_e=Ft+H(re,Ge),Oe+=me(re,X,Q,_e,pe);else if(Ge=v(B),typeof Ge=="function")for(B=Ge.call(B),Ge=0;!(re=B.next()).done;)re=re.value,_e=Ft+H(re,Ge++),Oe+=me(re,X,Q,_e,pe);else if(_e==="object"){if(typeof B.then=="function")return me(oe(B),X,Q,re,pe);throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function q(B,X,Q){if(B==null)return B;var re=[],pe=0;return me(B,re,"","",function(_e){return X.call(Q,_e,pe++)}),re}function G(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(Q){(B._status===0||B._status===-1)&&(B._status=1,B._result=Q)},function(Q){(B._status===0||B._status===-1)&&(B._status=2,B._result=Q)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var se=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function be(){}return ke.Children={map:q,forEach:function(B,X,Q){q(B,function(){X.apply(this,arguments)},Q)},count:function(B){var X=0;return q(B,function(){X++}),X},toArray:function(B){return q(B,function(X){return X})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ke.Component=_,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=T,ke.StrictMode=r,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ke.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},ke.cache=function(B){return function(){return B.apply(null,arguments)}},ke.cloneElement=function(B,X,Q){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var re=x({},B.props),pe=B.key,_e=void 0;if(X!=null)for(Oe in X.ref!==void 0&&(_e=void 0),X.key!==void 0&&(pe=""+X.key),X)!k.call(X,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&X.ref===void 0||(re[Oe]=X[Oe]);var Oe=arguments.length-2;if(Oe===1)re.children=Q;else if(1<Oe){for(var Ft=Array(Oe),Ge=0;Ge<Oe;Ge++)Ft[Ge]=arguments[Ge+2];re.children=Ft}return R(B.type,pe,void 0,void 0,_e,re)},ke.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},ke.createElement=function(B,X,Q){var re,pe={},_e=null;if(X!=null)for(re in X.key!==void 0&&(_e=""+X.key),X)k.call(X,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=X[re]);var Oe=arguments.length-2;if(Oe===1)pe.children=Q;else if(1<Oe){for(var Ft=Array(Oe),Ge=0;Ge<Oe;Ge++)Ft[Ge]=arguments[Ge+2];pe.children=Ft}if(B&&B.defaultProps)for(re in Oe=B.defaultProps,Oe)pe[re]===void 0&&(pe[re]=Oe[re]);return R(B,_e,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(B){return{$$typeof:c,render:B}},ke.isValidElement=I,ke.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:G}},ke.memo=function(B,X){return{$$typeof:d,type:B,compare:X===void 0?null:X}},ke.startTransition=function(B){var X=P.T,Q={};P.T=Q;try{var re=B(),pe=P.S;pe!==null&&pe(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,se)}catch(_e){se(_e)}finally{P.T=X}},ke.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ke.use=function(B){return P.H.use(B)},ke.useActionState=function(B,X,Q){return P.H.useActionState(B,X,Q)},ke.useCallback=function(B,X){return P.H.useCallback(B,X)},ke.useContext=function(B){return P.H.useContext(B)},ke.useDebugValue=function(){},ke.useDeferredValue=function(B,X){return P.H.useDeferredValue(B,X)},ke.useEffect=function(B,X,Q){var re=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(B,X)},ke.useId=function(){return P.H.useId()},ke.useImperativeHandle=function(B,X,Q){return P.H.useImperativeHandle(B,X,Q)},ke.useInsertionEffect=function(B,X){return P.H.useInsertionEffect(B,X)},ke.useLayoutEffect=function(B,X){return P.H.useLayoutEffect(B,X)},ke.useMemo=function(B,X){return P.H.useMemo(B,X)},ke.useOptimistic=function(B,X){return P.H.useOptimistic(B,X)},ke.useReducer=function(B,X,Q){return P.H.useReducer(B,X,Q)},ke.useRef=function(B){return P.H.useRef(B)},ke.useState=function(B){return P.H.useState(B)},ke.useSyncExternalStore=function(B,X,Q){return P.H.useSyncExternalStore(B,X,Q)},ke.useTransition=function(){return P.H.useTransition()},ke.version="19.1.0",ke}var FS;function nl(){return FS||(FS=1,Hm.exports=CB()),Hm.exports}var A=nl(),Fm={exports:{}},uu={},Gm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function PB(){return GS||(GS=1,function(e){function t(q,G){var se=q.length;q.push(G);e:for(;0<se;){var be=se-1>>>1,B=q[be];if(0<a(B,G))q[be]=G,q[se]=B,se=be;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],se=q.pop();if(se!==G){q[0]=se;e:for(var be=0,B=q.length,X=B>>>1;be<X;){var Q=2*(be+1)-1,re=q[Q],pe=Q+1,_e=q[pe];if(0>a(re,se))pe<B&&0>a(_e,re)?(q[be]=_e,q[pe]=se,be=pe):(q[be]=re,q[Q]=se,be=Q);else if(pe<B&&0>a(_e,se))q[be]=_e,q[pe]=se,be=pe;else break e}}return G}function a(q,G){var se=q.sortIndex-G.sortIndex;return se!==0?se:q.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,m=null,v=3,b=!1,x=!1,S=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=q)r(d),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(d)}}function P(q){if(S=!1,M(q),!x)if(n(f)!==null)x=!0,k||(k=!0,H());else{var G=n(d);G!==null&&me(P,G.startTime-q)}}var k=!1,R=-1,D=5,I=-1;function J(){return _?!0:!(e.unstable_now()-I<D)}function W(){if(_=!1,k){var q=e.unstable_now();I=q;var G=!0;try{e:{x=!1,S&&(S=!1,T(R),R=-1),b=!0;var se=v;try{t:{for(M(q),m=n(f);m!==null&&!(m.expirationTime>q&&J());){var be=m.callback;if(typeof be=="function"){m.callback=null,v=m.priorityLevel;var B=be(m.expirationTime<=q);if(q=e.unstable_now(),typeof B=="function"){m.callback=B,M(q),G=!0;break t}m===n(f)&&r(f),M(q)}else r(f);m=n(f)}if(m!==null)G=!0;else{var X=n(d);X!==null&&me(P,X.startTime-q),G=!1}}break e}finally{m=null,v=se,b=!1}G=void 0}}finally{G?H():k=!1}}}var H;if(typeof j=="function")H=function(){j(W)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=W,H=function(){oe.postMessage(null)}}else H=function(){O(W,0)};function me(q,G){R=O(function(){q(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(q){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var se=v;v=G;try{return q()}finally{v=se}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=v;v=q;try{return G()}finally{v=se}},e.unstable_scheduleCallback=function(q,G,se){var be=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=se+B,q={id:p++,callback:G,priorityLevel:q,startTime:se,expirationTime:B,sortIndex:-1},se>be?(q.sortIndex=se,t(d,q),n(f)===null&&q===n(d)&&(S?(T(R),R=-1):S=!0,me(P,se-be))):(q.sortIndex=B,t(f,q),x||b||(x=!0,k||(k=!0,H()))),q},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(q){var G=v;return function(){var se=v;v=G;try{return q.apply(this,arguments)}finally{v=se}}}}(Ym)),Ym}var YS;function MB(){return YS||(YS=1,Gm.exports=PB()),Gm.exports}var Wm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function DB(){if(WS)return hn;WS=1;var e=nl();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},hn.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},hn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},hn.requestFormReset=function(f){r.d.r(f)},hn.unstable_batchedUpdates=function(f,d){return f(d)},hn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var XS;function qC(){if(XS)return Wm.exports;XS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wm.exports=DB(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function kB(){if(ZS)return uu;ZS=1;var e=MB(),t=nl(),n=qC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return c(g),i;if(y===h)return c(g),s;y=y.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=y;else{for(var E=!1,C=g.child;C;){if(C===u){E=!0,u=g,h=y;break}if(C===h){E=!0,h=g,u=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===u){E=!0,u=y,h=g;break}if(C===h){E=!0,h=y,u=g;break}C=C.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case j:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var me=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},be=[],B=-1;function X(i){return{current:i}}function Q(i){0>B||(i.current=be[B],be[B]=null,B--)}function re(i,s){B++,be[B]=i.current,i.current=s}var pe=X(null),_e=X(null),Oe=X(null),Ft=X(null);function Ge(i,s){switch(re(Oe,s),re(_e,i),re(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?vS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=vS(s),i=yS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(pe),re(pe,i)}function ue(){Q(pe),Q(_e),Q(Oe)}function Me(i){i.memoizedState!==null&&re(Ft,i);var s=pe.current,u=yS(s,i.type);s!==u&&(re(_e,i),re(pe,u))}function Re(i){_e.current===i&&(Q(pe),Q(_e)),Ft.current===i&&(Q(Ft),ru._currentValue=se)}var ne=Object.prototype.hasOwnProperty,Tt=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,nn=e.unstable_shouldYield,rn=e.unstable_requestPaint,xt=e.unstable_now,Es=e.unstable_getCurrentPriorityLevel,wc=e.unstable_ImmediatePriority,_c=e.unstable_UserBlockingPriority,Cs=e.unstable_NormalPriority,Rh=e.unstable_LowPriority,Ps=e.unstable_IdlePriority,Sc=e.log,Ac=e.unstable_setDisableYieldValue,Aa=null,bn=null;function kr(i){if(typeof Sc=="function"&&Ac(i),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Aa,i)}catch{}}var xn=Math.clz32?Math.clz32:Lh,Nh=Math.log,Bh=Math.LN2;function Lh(i){return i>>>=0,i===0?32:31-(Nh(i)/Bh|0)|0}var Ms=256,Mi=4194304;function Rr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ds(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?g=Rr(h):(E&=C,E!==0?g=Rr(E):u||(u=C&~i,u!==0&&(g=Rr(u))))):(C=h&~y,C!==0?g=Rr(C):E!==0?g=Rr(E):u||(u=h&~i,u!==0&&(g=Rr(u)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:g}function te(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ce(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function le(){var i=Ms;return Ms<<=1,(Ms&4194048)===0&&(Ms=256),i}function xe(){var i=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),i}function ae(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Pe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ce(i,s,u,h,g,y){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var C=i.entanglements,N=i.expirationTimes,z=i.hiddenUpdates;for(u=E&~u;0<u;){var Y=31-xn(u),ee=1<<Y;C[Y]=0,N[Y]=-1;var V=z[Y];if(V!==null)for(z[Y]=null,Y=0;Y<V.length;Y++){var K=V[Y];K!==null&&(K.lane&=-536870913)}u&=~ee}h!==0&&ze(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function ze(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-xn(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194090}function qe(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-xn(u),g=1<<h;g&s|i[h]&s&&(i[h]|=s),u&=~g}}function Te(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ye(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:LS(i.type))}function Ye(i,s){var u=G.p;try{return G.p=i,s()}finally{G.p=u}}var We=Math.random().toString(36).slice(2),ht="__reactFiber$"+We,jt="__reactProps$"+We,Jn="__reactContainer$"+We,Di="__reactEvents$"+We,Oa="__reactListeners$"+We,ks="__reactHandles$"+We,Ta="__reactResources$"+We,Nr="__reactMarker$"+We;function ki(i){delete i[ht],delete i[jt],delete i[Di],delete i[Oa],delete i[ks]}function Nn(i){var s=i[ht];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Jn]||u[ht]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=_S(i);i!==null;){if(u=i[ht])return u;i=_S(i)}return s}i=u,u=i.parentNode}return null}function Br(i){if(i=i[ht]||i[Jn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ja(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function _r(i){var s=i[Ta];return s||(s=i[Ta]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(i){i[Nr]=!0}var Oc=new Set,Rs={};function Ea(i,s){Ns(i,s),Ns(i+"Capture",s)}function Ns(i,s){for(Rs[i]=s,i=0;i<s.length;i++)Oc.add(s[i])}var yN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lw={},uw={};function bN(i){return ne.call(uw,i)?!0:ne.call(lw,i)?!1:yN.test(i)?uw[i]=!0:(lw[i]=!0,!1)}function Tc(i,s,u){if(bN(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function jc(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function Xr(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}var Uh,cw;function Bs(i){if(Uh===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Uh=s&&s[1]||"",cw=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+i+cw}var $h=!1;function zh(i,s){if(!i||$h)return"";$h=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var V=K}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(K){V=K}i.call(ee.prototype)}}else{try{throw Error()}catch(K){V=K}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var N=E.split(`
`),z=C.split(`
`);for(g=h=0;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(h===N.length||g===z.length)for(h=N.length-1,g=z.length-1;1<=h&&0<=g&&N[h]!==z[g];)g--;for(;1<=h&&0<=g;h--,g--)if(N[h]!==z[g]){if(h!==1||g!==1)do if(h--,g--,0>g||N[h]!==z[g]){var Y=`
`+N[h].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=h&&0<=g);break}}}finally{$h=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Bs(u):""}function xN(i){switch(i.tag){case 26:case 27:case 5:return Bs(i.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 15:return zh(i.type,!1);case 11:return zh(i.type.render,!1);case 1:return zh(i.type,!0);case 31:return Bs("Activity");default:return""}}function fw(i){try{var s="";do s+=xN(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dw(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wN(i){var s=dw(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ec(i){i._valueTracker||(i._valueTracker=wN(i))}function hw(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=dw(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function Cc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _N=/[\n"\\]/g;function tr(i){return i.replace(_N,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ih(i,s,u,h,g,y,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+er(s)):i.value!==""+er(s)&&(i.value=""+er(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?qh(i,E,er(s)):u!=null?qh(i,E,er(u)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+er(C):i.removeAttribute("name")}function pw(i,s,u,h,g,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+er(u):"",s=s!=null?""+er(s):u,C||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=C?i.checked:!!h,i.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function qh(i,s,u){s==="number"&&Cc(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ls(i,s,u,h){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+er(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function mw(i,s,u){if(s!=null&&(s=""+er(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+er(u):""}function gw(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(me(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=er(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function Us(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var SN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vw(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||SN.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function yw(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&u[g]!==h&&vw(i,g,h)}else for(var y in s)s.hasOwnProperty(y)&&vw(i,y,s[y])}function Vh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ON=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(i){return ON.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Kh=null;function Hh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,zs=null;function bw(i){var s=Br(i);if(s&&(i=s.stateNode)){var u=i[jt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ih(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var g=h[jt]||null;if(!g)throw Error(r(90));Ih(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&hw(h)}break e;case"textarea":mw(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ls(i,!!u.multiple,s,!1)}}}var Fh=!1;function xw(i,s,u){if(Fh)return i(s,u);Fh=!0;try{var h=i(s);return h}finally{if(Fh=!1,($s!==null||zs!==null)&&(gf(),$s&&(s=$s,i=zs,zs=$s=null,bw(s),i)))for(s=0;s<i.length;s++)bw(i[s])}}function gl(i,s){var u=i.stateNode;if(u===null)return null;var h=u[jt]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=!1;if(Zr)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Gh=!1}var Ri=null,Yh=null,Mc=null;function ww(){if(Mc)return Mc;var i,s=Yh,u=s.length,h,g="value"in Ri?Ri.value:Ri.textContent,y=g.length;for(i=0;i<u&&s[i]===g[i];i++);var E=u-i;for(h=1;h<=E&&s[u-h]===g[y-h];h++);return Mc=g.slice(i,1<h?1-h:void 0)}function Dc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function kc(){return!0}function _w(){return!1}function Tn(i){function s(u,h,g,y,E){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?kc:_w,this.isPropagationStopped=_w,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),s}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Tn(Ca),yl=p({},Ca,{view:0,detail:0}),TN=Tn(yl),Wh,Xh,bl,Nc=p({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bl&&(bl&&i.type==="mousemove"?(Wh=i.screenX-bl.screenX,Xh=i.screenY-bl.screenY):Xh=Wh=0,bl=i),Wh)},movementY:function(i){return"movementY"in i?i.movementY:Xh}}),Sw=Tn(Nc),jN=p({},Nc,{dataTransfer:0}),EN=Tn(jN),CN=p({},yl,{relatedTarget:0}),Zh=Tn(CN),PN=p({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=Tn(PN),DN=p({},Ca,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kN=Tn(DN),RN=p({},Ca,{data:0}),Aw=Tn(RN),NN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=LN[i])?!!s[i]:!1}function Qh(){return UN}var $N=p({},yl,{key:function(i){if(i.key){var s=NN[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Dc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?BN[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(i){return i.type==="keypress"?Dc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zN=Tn($N),IN=p({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=Tn(IN),qN=p({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),VN=Tn(qN),KN=p({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),HN=Tn(KN),FN=p({},Nc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GN=Tn(FN),YN=p({},Ca,{newState:0,oldState:0}),WN=Tn(YN),XN=[9,13,27,32],Jh=Zr&&"CompositionEvent"in window,xl=null;Zr&&"documentMode"in document&&(xl=document.documentMode);var ZN=Zr&&"TextEvent"in window&&!xl,Tw=Zr&&(!Jh||xl&&8<xl&&11>=xl),jw=" ",Ew=!1;function Cw(i,s){switch(i){case"keyup":return XN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Is=!1;function QN(i,s){switch(i){case"compositionend":return Pw(s);case"keypress":return s.which!==32?null:(Ew=!0,jw);case"textInput":return i=s.data,i===jw&&Ew?null:i;default:return null}}function JN(i,s){if(Is)return i==="compositionend"||!Jh&&Cw(i,s)?(i=ww(),Mc=Yh=Ri=null,Is=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Tw&&s.locale!=="ko"?null:s.data;default:return null}}var e3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!e3[i.type]:s==="textarea"}function Dw(i,s,u,h){$s?zs?zs.push(h):zs=[h]:$s=h,s=_f(s,"onChange"),0<s.length&&(u=new Rc("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var wl=null,_l=null;function t3(i){dS(i,0)}function Bc(i){var s=ja(i);if(hw(s))return i}function kw(i,s){if(i==="change")return s}var Rw=!1;if(Zr){var ep;if(Zr){var tp="oninput"in document;if(!tp){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),tp=typeof Nw.oninput=="function"}ep=tp}else ep=!1;Rw=ep&&(!document.documentMode||9<document.documentMode)}function Bw(){wl&&(wl.detachEvent("onpropertychange",Lw),_l=wl=null)}function Lw(i){if(i.propertyName==="value"&&Bc(_l)){var s=[];Dw(s,_l,i,Hh(i)),xw(t3,s)}}function n3(i,s,u){i==="focusin"?(Bw(),wl=s,_l=u,wl.attachEvent("onpropertychange",Lw)):i==="focusout"&&Bw()}function r3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bc(_l)}function i3(i,s){if(i==="click")return Bc(s)}function a3(i,s){if(i==="input"||i==="change")return Bc(s)}function s3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Bn=typeof Object.is=="function"?Object.is:s3;function Sl(i,s){if(Bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!ne.call(s,g)||!Bn(i[g],s[g]))return!1}return!0}function Uw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $w(i,s){var u=Uw(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uw(u)}}function zw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?zw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Iw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Cc(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Cc(i.document)}return s}function np(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var o3=Zr&&"documentMode"in document&&11>=document.documentMode,qs=null,rp=null,Al=null,ip=!1;function qw(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ip||qs==null||qs!==Cc(h)||(h=qs,"selectionStart"in h&&np(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Al&&Sl(Al,h)||(Al=h,h=_f(rp,"onSelect"),0<h.length&&(s=new Rc("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=qs)))}function Pa(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Vs={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},ap={},Vw={};Zr&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Ma(i){if(ap[i])return ap[i];if(!Vs[i])return i;var s=Vs[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Vw)return ap[i]=s[u];return i}var Kw=Ma("animationend"),Hw=Ma("animationiteration"),Fw=Ma("animationstart"),l3=Ma("transitionrun"),u3=Ma("transitionstart"),c3=Ma("transitioncancel"),Gw=Ma("transitionend"),Yw=new Map,sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sp.push("scrollEnd");function Sr(i,s){Yw.set(i,s),Ea(s,[i])}var Ww=new WeakMap;function nr(i,s){if(typeof i=="object"&&i!==null){var u=Ww.get(i);return u!==void 0?u:(s={value:i,source:s,stack:fw(s)},Ww.set(i,s),s)}return{value:i,source:s,stack:fw(s)}}var rr=[],Ks=0,op=0;function Lc(){for(var i=Ks,s=op=Ks=0;s<i;){var u=rr[s];rr[s++]=null;var h=rr[s];rr[s++]=null;var g=rr[s];rr[s++]=null;var y=rr[s];if(rr[s++]=null,h!==null&&g!==null){var E=h.pending;E===null?g.next=g:(g.next=E.next,E.next=g),h.pending=g}y!==0&&Xw(u,g,y)}}function Uc(i,s,u,h){rr[Ks++]=i,rr[Ks++]=s,rr[Ks++]=u,rr[Ks++]=h,op|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function lp(i,s,u,h){return Uc(i,s,u,h),$c(i)}function Hs(i,s){return Uc(i,null,null,s),$c(i)}function Xw(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=i.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-xn(u),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=u|536870912),y):null}function $c(i){if(50<Wl)throw Wl=0,pm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fs={};function f3(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,s,u,h){return new f3(i,s,u,h)}function up(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qr(i,s){var u=i.alternate;return u===null?(u=Ln(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Zw(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zc(i,s,u,h,g,y){var E=0;if(h=i,typeof i=="function")up(i)&&(E=1);else if(typeof i=="string")E=hB(i,u,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Ln(31,u,s,g),i.elementType=I,i.lanes=y,i;case x:return Da(u.children,g,y,s);case S:E=8,g|=24;break;case _:return i=Ln(12,u,s,g|2),i.elementType=_,i.lanes=y,i;case P:return i=Ln(13,u,s,g),i.elementType=P,i.lanes=y,i;case k:return i=Ln(19,u,s,g),i.elementType=k,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case j:E=10;break e;case T:E=9;break e;case M:E=11;break e;case R:E=14;break e;case D:E=16,h=null;break e}E=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Ln(E,u,s,g),s.elementType=i,s.type=h,s.lanes=y,s}function Da(i,s,u,h){return i=Ln(7,i,h,s),i.lanes=u,i}function cp(i,s,u){return i=Ln(6,i,null,s),i.lanes=u,i}function fp(i,s,u){return s=Ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Gs=[],Ys=0,Ic=null,qc=0,ir=[],ar=0,ka=null,Jr=1,ei="";function Ra(i,s){Gs[Ys++]=qc,Gs[Ys++]=Ic,Ic=i,qc=s}function Qw(i,s,u){ir[ar++]=Jr,ir[ar++]=ei,ir[ar++]=ka,ka=i;var h=Jr;i=ei;var g=32-xn(h)-1;h&=~(1<<g),u+=1;var y=32-xn(s)+g;if(30<y){var E=g-g%5;y=(h&(1<<E)-1).toString(32),h>>=E,g-=E,Jr=1<<32-xn(s)+g|u<<g|h,ei=y+i}else Jr=1<<y|u<<g|h,ei=i}function dp(i){i.return!==null&&(Ra(i,1),Qw(i,1,0))}function hp(i){for(;i===Ic;)Ic=Gs[--Ys],Gs[Ys]=null,qc=Gs[--Ys],Gs[Ys]=null;for(;i===ka;)ka=ir[--ar],ir[ar]=null,ei=ir[--ar],ir[ar]=null,Jr=ir[--ar],ir[ar]=null}var wn=null,wt=null,Fe=!1,Na=null,Lr=!1,pp=Error(r(519));function Ba(i){var s=Error(r(418,""));throw jl(nr(s,i)),pp}function Jw(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[ht]=i,s[jt]=h,u){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(u=0;u<Zl.length;u++)Ue(Zl[u],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),pw(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ec(s);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),gw(s,h.value,h.defaultValue,h.children),Ec(s)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||gS(s.textContent,u)?(h.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),h.onScroll!=null&&Ue("scroll",s),h.onScrollEnd!=null&&Ue("scrollend",s),h.onClick!=null&&(s.onclick=Sf),s=!0):s=!1,s||Ba(i)}function e_(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:wn=wn.return}}function Ol(i){if(i!==wn)return!1;if(!Fe)return e_(i),Fe=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Pm(i.type,i.memoizedProps)),u=!u),u&&wt&&Ba(i),e_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){wt=Or(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}wt=null}}else s===27?(s=wt,Xi(i.type)?(i=Rm,Rm=null,wt=i):wt=s):wt=wn?Or(i.stateNode.nextSibling):null;return!0}function Tl(){wt=wn=null,Fe=!1}function t_(){var i=Na;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),Na=null),i}function jl(i){Na===null?Na=[i]:Na.push(i)}var mp=X(null),La=null,ti=null;function Ni(i,s,u){re(mp,s._currentValue),s._currentValue=u}function ni(i){i._currentValue=mp.current,Q(mp)}function gp(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function vp(i,s,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=g;for(var N=0;N<s.length;N++)if(C.context===s[N]){y.lanes|=u,C=y.alternate,C!==null&&(C.lanes|=u),gp(y.return,u,i),h||(E=null);break e}y=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),gp(E,u,i),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function El(i,s,u,h){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var C=g.type;Bn(g.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(g===Ft.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ru):i=[ru])}g=g.return}i!==null&&vp(s,i,u,h),s.flags|=262144}function Vc(i){for(i=i.firstContext;i!==null;){if(!Bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ua(i){La=i,ti=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dn(i){return n_(La,i)}function Kc(i,s){return La===null&&Ua(i),n_(i,s)}function n_(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},ti===null){if(i===null)throw Error(r(308));ti=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ti=ti.next=s;return u}var d3=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},h3=e.unstable_scheduleCallback,p3=e.unstable_NormalPriority,It={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new d3,data:new Map,refCount:0}}function Cl(i){i.refCount--,i.refCount===0&&h3(p3,function(){i.controller.abort()})}var Pl=null,bp=0,Ws=0,Xs=null;function m3(i,s){if(Pl===null){var u=Pl=[];bp=0,Ws=wm(),Xs={status:"pending",value:void 0,then:function(h){u.push(h)}}}return bp++,s.then(r_,r_),s}function r_(){if(--bp===0&&Pl!==null){Xs!==null&&(Xs.status="fulfilled");var i=Pl;Pl=null,Ws=0,Xs=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function g3(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<u.length;g++)(0,u[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var i_=q.S;q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&m3(i,s),i_!==null&&i_(i,s)};var $a=X(null);function xp(){var i=$a.current;return i!==null?i:ut.pooledCache}function Hc(i,s){s===null?re($a,$a.current):re($a,s.pool)}function a_(){var i=xp();return i===null?null:{parent:It._currentValue,pool:i}}var Ml=Error(r(460)),s_=Error(r(474)),Fc=Error(r(542)),wp={then:function(){}};function o_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gc(){}function l_(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Gc,Gc),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,c_(i),i;default:if(typeof s.status=="string")s.then(Gc,Gc);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,c_(i),i}throw Dl=s,Ml}}var Dl=null;function u_(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function c_(i){if(i===Ml||i===Fc)throw Error(r(483))}var Bi=!1;function _p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Li(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=$c(i),Xw(i,null,u),s}return Uc(i,h,s,u),$c(i)}function kl(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,qe(i,u)}}function Ap(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?g=y=s:y=y.next=s}else g=y=s;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Op=!1;function Rl(){if(Op){var i=Xs;if(i!==null)throw i}}function Nl(i,s,u,h){Op=!1;var g=i.updateQueue;Bi=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var N=C,z=N.next;N.next=null,E===null?y=z:E.next=z,E=N;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==E&&(C===null?Y.firstBaseUpdate=z:C.next=z,Y.lastBaseUpdate=N))}if(y!==null){var ee=g.baseState;E=0,Y=z=N=null,C=y;do{var V=C.lane&-536870913,K=V!==C.lane;if(K?(Ve&V)===V:(h&V)===V){V!==0&&V===Ws&&(Op=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var je=i,Se=C;V=s;var at=u;switch(Se.tag){case 1:if(je=Se.payload,typeof je=="function"){ee=je.call(at,ee,V);break e}ee=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,V=typeof je=="function"?je.call(at,ee,V):je,V==null)break e;ee=p({},ee,V);break e;case 2:Bi=!0}}V=C.callback,V!==null&&(i.flags|=64,K&&(i.flags|=8192),K=g.callbacks,K===null?g.callbacks=[V]:K.push(V))}else K={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(z=Y=K,N=ee):Y=Y.next=K,E|=V;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;K=C,C=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);Y===null&&(N=ee),g.baseState=N,g.firstBaseUpdate=z,g.lastBaseUpdate=Y,y===null&&(g.shared.lanes=0),Fi|=E,i.lanes=E,i.memoizedState=ee}}function f_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function d_(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)f_(u[i],s)}var Zs=X(null),Yc=X(0);function h_(i,s){i=ui,re(Yc,i),re(Zs,s),ui=i|s.baseLanes}function Tp(){re(Yc,ui),re(Zs,Zs.current)}function jp(){ui=Yc.current,Q(Zs),Q(Yc)}var $i=0,Ne=null,rt=null,Rt=null,Wc=!1,Qs=!1,za=!1,Xc=0,Bl=0,Js=null,v3=0;function Et(){throw Error(r(321))}function Ep(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Bn(i[u],s[u]))return!1;return!0}function Cp(i,s,u,h,g,y){return $i=y,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?X_:Z_,za=!1,y=u(h,g),za=!1,Qs&&(y=m_(s,u,h,g)),p_(i),y}function p_(i){q.H=nf;var s=rt!==null&&rt.next!==null;if($i=0,Rt=rt=Ne=null,Wc=!1,Bl=0,Js=null,s)throw Error(r(300));i===null||Gt||(i=i.dependencies,i!==null&&Vc(i)&&(Gt=!0))}function m_(i,s,u,h){Ne=i;var g=0;do{if(Qs&&(Js=null),Bl=0,Qs=!1,25<=g)throw Error(r(301));if(g+=1,Rt=rt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=A3,y=s(u,h)}while(Qs);return y}function y3(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Ll(s):s,i=i.useState()[0],(rt!==null?rt.memoizedState:null)!==i&&(Ne.flags|=1024),s}function Pp(){var i=Xc!==0;return Xc=0,i}function Mp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Dp(i){if(Wc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wc=!1}$i=0,Rt=rt=Ne=null,Qs=!1,Bl=Xc=0,Js=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Nt(){if(rt===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var s=Rt===null?Ne.memoizedState:Rt.next;if(s!==null)Rt=s,rt=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Rt===null?Ne.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(i){var s=Bl;return Bl+=1,Js===null&&(Js=[]),i=l_(Js,i,s),s=Ne,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?X_:Z_),i}function Zc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ll(i);if(i.$$typeof===j)return dn(i)}throw Error(r(438,String(i)))}function Rp(i){var s=null,u=Ne.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=Ne.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=kp(),Ne.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=J;return s.index++,u}function ri(i,s){return typeof s=="function"?s(i):s}function Qc(i){var s=Nt();return Np(s,rt,i)}function Np(i,s,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}s.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var C=E=null,N=null,z=s,Y=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(Ve&ee)===ee:($i&ee)===ee){var V=z.revertLane;if(V===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===Ws&&(Y=!0);else if(($i&V)===V){z=z.next,V===Ws&&(Y=!0);continue}else ee={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(C=N=ee,E=y):N=N.next=ee,Ne.lanes|=V,Fi|=V;ee=z.action,za&&u(y,ee),y=z.hasEagerState?z.eagerState:u(y,ee)}else V={lane:ee,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(C=N=V,E=y):N=N.next=V,Ne.lanes|=ee,Fi|=ee;z=z.next}while(z!==null&&z!==s);if(N===null?E=y:N.next=C,!Bn(y,i.memoizedState)&&(Gt=!0,Y&&(u=Xs,u!==null)))throw u;i.memoizedState=y,i.baseState=E,i.baseQueue=N,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Bp(i){var s=Nt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,y=s.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do y=i(y,E.action),E=E.next;while(E!==g);Bn(y,s.memoizedState)||(Gt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,h]}function g_(i,s,u){var h=Ne,g=Nt(),y=Fe;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var E=!Bn((rt||g).memoizedState,u);E&&(g.memoizedState=u,Gt=!0),g=g.queue;var C=b_.bind(null,h,g,i);if(Ul(2048,8,C,[i]),g.getSnapshot!==s||E||Rt!==null&&Rt.memoizedState.tag&1){if(h.flags|=2048,eo(9,Jc(),y_.bind(null,h,g,u,s),null),ut===null)throw Error(r(349));y||($i&124)!==0||v_(h,s,u)}return u}function v_(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ne.updateQueue,s===null?(s=kp(),Ne.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function y_(i,s,u,h){s.value=u,s.getSnapshot=h,x_(s)&&w_(i)}function b_(i,s,u){return u(function(){x_(s)&&w_(i)})}function x_(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Bn(i,u)}catch{return!0}}function w_(i){var s=Hs(i,2);s!==null&&qn(s,i,2)}function Lp(i){var s=jn();if(typeof i=="function"){var u=i;if(i=u(),za){kr(!0);try{u()}finally{kr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:i},s}function __(i,s,u,h){return i.baseState=u,Np(i,rt,typeof h=="function"?h:ri)}function b3(i,s,u,h,g){if(tf(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};q.T!==null?u(!0):y.isTransition=!1,h(y),u=s.pending,u===null?(y.next=s.pending=y,S_(s,y)):(y.next=u.next,s.pending=u.next=y)}}function S_(i,s){var u=s.action,h=s.payload,g=i.state;if(s.isTransition){var y=q.T,E={};q.T=E;try{var C=u(g,h),N=q.S;N!==null&&N(E,C),A_(i,s,C)}catch(z){Up(i,s,z)}finally{q.T=y}}else try{y=u(g,h),A_(i,s,y)}catch(z){Up(i,s,z)}}function A_(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){O_(i,s,h)},function(h){return Up(i,s,h)}):O_(i,s,u)}function O_(i,s,u){s.status="fulfilled",s.value=u,T_(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,S_(i,u)))}function Up(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,T_(s),s=s.next;while(s!==h)}i.action=null}function T_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function j_(i,s){return s}function E_(i,s){if(Fe){var u=ut.formState;if(u!==null){e:{var h=Ne;if(Fe){if(wt){t:{for(var g=wt,y=Lr;g.nodeType!==8;){if(!y){g=null;break t}if(g=Or(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){wt=Or(g.nextSibling),h=g.data==="F!";break e}}Ba(h)}h=!1}h&&(s=u[0])}}return u=jn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j_,lastRenderedState:s},u.queue=h,u=G_.bind(null,Ne,h),h.dispatch=u,h=Lp(!1),y=Vp.bind(null,Ne,!1,h.queue),h=jn(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,u=b3.bind(null,Ne,g,y,u),g.dispatch=u,h.memoizedState=i,[s,u,!1]}function C_(i){var s=Nt();return P_(s,rt,i)}function P_(i,s,u){if(s=Np(i,s,j_)[0],i=Qc(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ll(s)}catch(E){throw E===Ml?Fc:E}else h=s;s=Nt();var g=s.queue,y=g.dispatch;return u!==s.memoizedState&&(Ne.flags|=2048,eo(9,Jc(),x3.bind(null,g,u),null)),[h,y,i]}function x3(i,s){i.action=s}function M_(i){var s=Nt(),u=rt;if(u!==null)return P_(s,u,i);Nt(),s=s.memoizedState,u=Nt();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function eo(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=kp(),Ne.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function Jc(){return{destroy:void 0,resource:void 0}}function D_(){return Nt().memoizedState}function ef(i,s,u,h){var g=jn();h=h===void 0?null:h,Ne.flags|=i,g.memoizedState=eo(1|s,Jc(),u,h)}function Ul(i,s,u,h){var g=Nt();h=h===void 0?null:h;var y=g.memoizedState.inst;rt!==null&&h!==null&&Ep(h,rt.memoizedState.deps)?g.memoizedState=eo(s,y,u,h):(Ne.flags|=i,g.memoizedState=eo(1|s,y,u,h))}function k_(i,s){ef(8390656,8,i,s)}function R_(i,s){Ul(2048,8,i,s)}function N_(i,s){return Ul(4,2,i,s)}function B_(i,s){return Ul(4,4,i,s)}function L_(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function U_(i,s,u){u=u!=null?u.concat([i]):null,Ul(4,4,L_.bind(null,s,i),u)}function $p(){}function $_(i,s){var u=Nt();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Ep(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function z_(i,s){var u=Nt();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Ep(s,h[1]))return h[0];if(h=i(),za){kr(!0);try{i()}finally{kr(!1)}}return u.memoizedState=[h,s],h}function zp(i,s,u){return u===void 0||($i&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=V1(),Ne.lanes|=i,Fi|=i,u)}function I_(i,s,u,h){return Bn(u,s)?u:Zs.current!==null?(i=zp(i,u,h),Bn(i,s)||(Gt=!0),i):($i&42)===0?(Gt=!0,i.memoizedState=u):(i=V1(),Ne.lanes|=i,Fi|=i,s)}function q_(i,s,u,h,g){var y=G.p;G.p=y!==0&&8>y?y:8;var E=q.T,C={};q.T=C,Vp(i,!1,s,u);try{var N=g(),z=q.S;if(z!==null&&z(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=g3(N,h);$l(i,s,Y,In(i))}else $l(i,s,h,In(i))}catch(ee){$l(i,s,{then:function(){},status:"rejected",reason:ee},In())}finally{G.p=y,q.T=E}}function w3(){}function Ip(i,s,u,h){if(i.tag!==5)throw Error(r(476));var g=V_(i).queue;q_(i,g,s,se,u===null?w3:function(){return K_(i),u(h)})}function V_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:se},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function K_(i){var s=V_(i).next.queue;$l(i,s,{},In())}function qp(){return dn(ru)}function H_(){return Nt().memoizedState}function F_(){return Nt().memoizedState}function _3(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=In();i=Li(u);var h=Ui(s,i,u);h!==null&&(qn(h,s,u),kl(h,s,u)),s={cache:yp()},i.payload=s;return}s=s.return}}function S3(i,s,u){var h=In();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},tf(i)?Y_(s,u):(u=lp(i,s,u,h),u!==null&&(qn(u,i,h),W_(u,s,h)))}function G_(i,s,u){var h=In();$l(i,s,u,h)}function $l(i,s,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(tf(i))Y_(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,u);if(g.hasEagerState=!0,g.eagerState=C,Bn(C,E))return Uc(i,s,g,0),ut===null&&Lc(),!1}catch{}finally{}if(u=lp(i,s,g,h),u!==null)return qn(u,i,h),W_(u,s,h),!0}return!1}function Vp(i,s,u,h){if(h={lane:2,revertLane:wm(),action:h,hasEagerState:!1,eagerState:null,next:null},tf(i)){if(s)throw Error(r(479))}else s=lp(i,u,h,2),s!==null&&qn(s,i,2)}function tf(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function Y_(i,s){Qs=Wc=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function W_(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,qe(i,u)}}var nf={readContext:dn,use:Zc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},X_={readContext:dn,use:Zc,useCallback:function(i,s){return jn().memoizedState=[i,s===void 0?null:s],i},useContext:dn,useEffect:k_,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,ef(4194308,4,L_.bind(null,s,i),u)},useLayoutEffect:function(i,s){return ef(4194308,4,i,s)},useInsertionEffect:function(i,s){ef(4,2,i,s)},useMemo:function(i,s){var u=jn();s=s===void 0?null:s;var h=i();if(za){kr(!0);try{i()}finally{kr(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=jn();if(u!==void 0){var g=u(s);if(za){kr(!0);try{u(s)}finally{kr(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=S3.bind(null,Ne,i),[h.memoizedState,i]},useRef:function(i){var s=jn();return i={current:i},s.memoizedState=i},useState:function(i){i=Lp(i);var s=i.queue,u=G_.bind(null,Ne,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:$p,useDeferredValue:function(i,s){var u=jn();return zp(u,i,s)},useTransition:function(){var i=Lp(!1);return i=q_.bind(null,Ne,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=Ne,g=jn();if(Fe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),ut===null)throw Error(r(349));(Ve&124)!==0||v_(h,s,u)}g.memoizedState=u;var y={value:u,getSnapshot:s};return g.queue=y,k_(b_.bind(null,h,y,i),[i]),h.flags|=2048,eo(9,Jc(),y_.bind(null,h,y,u,s),null),u},useId:function(){var i=jn(),s=ut.identifierPrefix;if(Fe){var u=ei,h=Jr;u=(h&~(1<<32-xn(h)-1)).toString(32)+u,s="«"+s+"R"+u,u=Xc++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=v3++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:qp,useFormState:E_,useActionState:E_,useOptimistic:function(i){var s=jn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Vp.bind(null,Ne,!0,u),u.dispatch=s,[i,s]},useMemoCache:Rp,useCacheRefresh:function(){return jn().memoizedState=_3.bind(null,Ne)}},Z_={readContext:dn,use:Zc,useCallback:$_,useContext:dn,useEffect:R_,useImperativeHandle:U_,useInsertionEffect:N_,useLayoutEffect:B_,useMemo:z_,useReducer:Qc,useRef:D_,useState:function(){return Qc(ri)},useDebugValue:$p,useDeferredValue:function(i,s){var u=Nt();return I_(u,rt.memoizedState,i,s)},useTransition:function(){var i=Qc(ri)[0],s=Nt().memoizedState;return[typeof i=="boolean"?i:Ll(i),s]},useSyncExternalStore:g_,useId:H_,useHostTransitionStatus:qp,useFormState:C_,useActionState:C_,useOptimistic:function(i,s){var u=Nt();return __(u,rt,i,s)},useMemoCache:Rp,useCacheRefresh:F_},A3={readContext:dn,use:Zc,useCallback:$_,useContext:dn,useEffect:R_,useImperativeHandle:U_,useInsertionEffect:N_,useLayoutEffect:B_,useMemo:z_,useReducer:Bp,useRef:D_,useState:function(){return Bp(ri)},useDebugValue:$p,useDeferredValue:function(i,s){var u=Nt();return rt===null?zp(u,i,s):I_(u,rt.memoizedState,i,s)},useTransition:function(){var i=Bp(ri)[0],s=Nt().memoizedState;return[typeof i=="boolean"?i:Ll(i),s]},useSyncExternalStore:g_,useId:H_,useHostTransitionStatus:qp,useFormState:M_,useActionState:M_,useOptimistic:function(i,s){var u=Nt();return rt!==null?__(u,rt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Rp,useCacheRefresh:F_},to=null,zl=0;function rf(i){var s=zl;return zl+=1,to===null&&(to=[]),l_(to,i,s)}function Il(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function af(i,s){throw s.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Q_(i){var s=i._init;return s(i._payload)}function J_(i){function s(U,L){if(i){var $=U.deletions;$===null?(U.deletions=[L],U.flags|=16):$.push(L)}}function u(U,L){if(!i)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function h(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function g(U,L){return U=Qr(U,L),U.index=0,U.sibling=null,U}function y(U,L,$){return U.index=$,i?($=U.alternate,$!==null?($=$.index,$<L?(U.flags|=67108866,L):$):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function E(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function C(U,L,$,Z){return L===null||L.tag!==6?(L=cp($,U.mode,Z),L.return=U,L):(L=g(L,$),L.return=U,L)}function N(U,L,$,Z){var he=$.type;return he===x?Y(U,L,$.props.children,Z,$.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&Q_(he)===L.type)?(L=g(L,$.props),Il(L,$),L.return=U,L):(L=zc($.type,$.key,$.props,null,U.mode,Z),Il(L,$),L.return=U,L)}function z(U,L,$,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=fp($,U.mode,Z),L.return=U,L):(L=g(L,$.children||[]),L.return=U,L)}function Y(U,L,$,Z,he){return L===null||L.tag!==7?(L=Da($,U.mode,Z,he),L.return=U,L):(L=g(L,$),L.return=U,L)}function ee(U,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=cp(""+L,U.mode,$),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return $=zc(L.type,L.key,L.props,null,U.mode,$),Il($,L),$.return=U,$;case b:return L=fp(L,U.mode,$),L.return=U,L;case D:var Z=L._init;return L=Z(L._payload),ee(U,L,$)}if(me(L)||H(L))return L=Da(L,U.mode,$,null),L.return=U,L;if(typeof L.then=="function")return ee(U,rf(L),$);if(L.$$typeof===j)return ee(U,Kc(U,L),$);af(U,L)}return null}function V(U,L,$,Z){var he=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return he!==null?null:C(U,L,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return $.key===he?N(U,L,$,Z):null;case b:return $.key===he?z(U,L,$,Z):null;case D:return he=$._init,$=he($._payload),V(U,L,$,Z)}if(me($)||H($))return he!==null?null:Y(U,L,$,Z,null);if(typeof $.then=="function")return V(U,L,rf($),Z);if($.$$typeof===j)return V(U,L,Kc(U,$),Z);af(U,$)}return null}function K(U,L,$,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get($)||null,C(L,U,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return U=U.get(Z.key===null?$:Z.key)||null,N(L,U,Z,he);case b:return U=U.get(Z.key===null?$:Z.key)||null,z(L,U,Z,he);case D:var Be=Z._init;return Z=Be(Z._payload),K(U,L,$,Z,he)}if(me(Z)||H(Z))return U=U.get($)||null,Y(L,U,Z,he,null);if(typeof Z.then=="function")return K(U,L,$,rf(Z),he);if(Z.$$typeof===j)return K(U,L,$,Kc(L,Z),he);af(L,Z)}return null}function je(U,L,$,Z){for(var he=null,Be=null,ve=L,Ae=L=0,Wt=null;ve!==null&&Ae<$.length;Ae++){ve.index>Ae?(Wt=ve,ve=null):Wt=ve.sibling;var Ke=V(U,ve,$[Ae],Z);if(Ke===null){ve===null&&(ve=Wt);break}i&&ve&&Ke.alternate===null&&s(U,ve),L=y(Ke,L,Ae),Be===null?he=Ke:Be.sibling=Ke,Be=Ke,ve=Wt}if(Ae===$.length)return u(U,ve),Fe&&Ra(U,Ae),he;if(ve===null){for(;Ae<$.length;Ae++)ve=ee(U,$[Ae],Z),ve!==null&&(L=y(ve,L,Ae),Be===null?he=ve:Be.sibling=ve,Be=ve);return Fe&&Ra(U,Ae),he}for(ve=h(ve);Ae<$.length;Ae++)Wt=K(ve,U,Ae,$[Ae],Z),Wt!==null&&(i&&Wt.alternate!==null&&ve.delete(Wt.key===null?Ae:Wt.key),L=y(Wt,L,Ae),Be===null?he=Wt:Be.sibling=Wt,Be=Wt);return i&&ve.forEach(function(ta){return s(U,ta)}),Fe&&Ra(U,Ae),he}function Se(U,L,$,Z){if($==null)throw Error(r(151));for(var he=null,Be=null,ve=L,Ae=L=0,Wt=null,Ke=$.next();ve!==null&&!Ke.done;Ae++,Ke=$.next()){ve.index>Ae?(Wt=ve,ve=null):Wt=ve.sibling;var ta=V(U,ve,Ke.value,Z);if(ta===null){ve===null&&(ve=Wt);break}i&&ve&&ta.alternate===null&&s(U,ve),L=y(ta,L,Ae),Be===null?he=ta:Be.sibling=ta,Be=ta,ve=Wt}if(Ke.done)return u(U,ve),Fe&&Ra(U,Ae),he;if(ve===null){for(;!Ke.done;Ae++,Ke=$.next())Ke=ee(U,Ke.value,Z),Ke!==null&&(L=y(Ke,L,Ae),Be===null?he=Ke:Be.sibling=Ke,Be=Ke);return Fe&&Ra(U,Ae),he}for(ve=h(ve);!Ke.done;Ae++,Ke=$.next())Ke=K(ve,U,Ae,Ke.value,Z),Ke!==null&&(i&&Ke.alternate!==null&&ve.delete(Ke.key===null?Ae:Ke.key),L=y(Ke,L,Ae),Be===null?he=Ke:Be.sibling=Ke,Be=Ke);return i&&ve.forEach(function(OB){return s(U,OB)}),Fe&&Ra(U,Ae),he}function at(U,L,$,Z){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case v:e:{for(var he=$.key;L!==null;){if(L.key===he){if(he=$.type,he===x){if(L.tag===7){u(U,L.sibling),Z=g(L,$.props.children),Z.return=U,U=Z;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&Q_(he)===L.type){u(U,L.sibling),Z=g(L,$.props),Il(Z,$),Z.return=U,U=Z;break e}u(U,L);break}else s(U,L);L=L.sibling}$.type===x?(Z=Da($.props.children,U.mode,Z,$.key),Z.return=U,U=Z):(Z=zc($.type,$.key,$.props,null,U.mode,Z),Il(Z,$),Z.return=U,U=Z)}return E(U);case b:e:{for(he=$.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){u(U,L.sibling),Z=g(L,$.children||[]),Z.return=U,U=Z;break e}else{u(U,L);break}else s(U,L);L=L.sibling}Z=fp($,U.mode,Z),Z.return=U,U=Z}return E(U);case D:return he=$._init,$=he($._payload),at(U,L,$,Z)}if(me($))return je(U,L,$,Z);if(H($)){if(he=H($),typeof he!="function")throw Error(r(150));return $=he.call($),Se(U,L,$,Z)}if(typeof $.then=="function")return at(U,L,rf($),Z);if($.$$typeof===j)return at(U,L,Kc(U,$),Z);af(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,L!==null&&L.tag===6?(u(U,L.sibling),Z=g(L,$),Z.return=U,U=Z):(u(U,L),Z=cp($,U.mode,Z),Z.return=U,U=Z),E(U)):u(U,L)}return function(U,L,$,Z){try{zl=0;var he=at(U,L,$,Z);return to=null,he}catch(ve){if(ve===Ml||ve===Fc)throw ve;var Be=Ln(29,ve,null,U.mode);return Be.lanes=Z,Be.return=U,Be}finally{}}}var no=J_(!0),e1=J_(!1),sr=X(null),Ur=null;function zi(i){var s=i.alternate;re(qt,qt.current&1),re(sr,i),Ur===null&&(s===null||Zs.current!==null||s.memoizedState!==null)&&(Ur=i)}function t1(i){if(i.tag===22){if(re(qt,qt.current),re(sr,i),Ur===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ur=i)}}else Ii()}function Ii(){re(qt,qt.current),re(sr,sr.current)}function ii(i){Q(sr),Ur===i&&(Ur=null),Q(qt)}var qt=X(0);function sf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||km(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Kp(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:p({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hp={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=In(),g=Li(h);g.payload=s,u!=null&&(g.callback=u),s=Ui(i,g,h),s!==null&&(qn(s,i,h),kl(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=In(),g=Li(h);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=Ui(i,g,h),s!==null&&(qn(s,i,h),kl(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=In(),h=Li(u);h.tag=2,s!=null&&(h.callback=s),s=Ui(i,h,u),s!==null&&(qn(s,i,u),kl(s,i,u))}};function n1(i,s,u,h,g,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Sl(u,h)||!Sl(g,y):!0}function r1(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Hp.enqueueReplaceState(s,s.state,null)}function Ia(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=p({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function i1(i){of(i)}function a1(i){console.error(i)}function s1(i){of(i)}function lf(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function o1(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Fp(i,s,u){return u=Li(u),u.tag=3,u.payload={element:null},u.callback=function(){lf(i,s)},u}function l1(i){return i=Li(i),i.tag=3,i}function u1(i,s,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){o1(s,u,h)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){o1(s,u,h),typeof g!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function O3(i,s,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&El(s,u,g,!0),u=sr.current,u!==null){switch(u.tag){case 13:return Ur===null?gm():u.alternate===null&&_t===0&&(_t=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===wp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),ym(i,h,g)),!1;case 22:return u.flags|=65536,h===wp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),ym(i,h,g)),!1}throw Error(r(435,u.tag))}return ym(i,h,g),gm(),!1}if(Fe)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==pp&&(i=Error(r(422),{cause:h}),jl(nr(i,u)))):(h!==pp&&(s=Error(r(423),{cause:h}),jl(nr(s,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=nr(h,u),g=Fp(i.stateNode,h,g),Ap(i,g),_t!==4&&(_t=2)),!1;var y=Error(r(520),{cause:h});if(y=nr(y,u),Yl===null?Yl=[y]:Yl.push(y),_t!==4&&(_t=2),s===null)return!0;h=nr(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=Fp(u.stateNode,h,i),Ap(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=l1(g),u1(g,i,u,h),Ap(u,g),!1}u=u.return}while(u!==null);return!1}var c1=Error(r(461)),Gt=!1;function an(i,s,u,h){s.child=i===null?e1(s,null,u,h):no(s,i.child,u,h)}function f1(i,s,u,h,g){u=u.render;var y=s.ref;if("ref"in h){var E={};for(var C in h)C!=="ref"&&(E[C]=h[C])}else E=h;return Ua(s),h=Cp(i,s,u,E,y,g),C=Pp(),i!==null&&!Gt?(Mp(i,s,g),ai(i,s,g)):(Fe&&C&&dp(s),s.flags|=1,an(i,s,h,g),s.child)}function d1(i,s,u,h,g){if(i===null){var y=u.type;return typeof y=="function"&&!up(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,h1(i,s,y,h,g)):(i=zc(u.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!em(i,g)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:Sl,u(E,h)&&i.ref===s.ref)return ai(i,s,g)}return s.flags|=1,i=Qr(y,h),i.ref=s.ref,i.return=s,s.child=i}function h1(i,s,u,h,g){if(i!==null){var y=i.memoizedProps;if(Sl(y,h)&&i.ref===s.ref)if(Gt=!1,s.pendingProps=h=y,em(i,g))(i.flags&131072)!==0&&(Gt=!0);else return s.lanes=i.lanes,ai(i,s,g)}return Gp(i,s,u,h,g)}function p1(i,s,u){var h=s.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=y!==null?y.baseLanes|u:u,i!==null){for(g=s.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return m1(i,s,h,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(s,y!==null?y.cachePool:null),y!==null?h_(s,y):Tp(),t1(s);else return s.lanes=s.childLanes=536870912,m1(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(Hc(s,y.cachePool),h_(s,y),Ii(),s.memoizedState=null):(i!==null&&Hc(s,null),Tp(),Ii());return an(i,s,g,u),s.child}function m1(i,s,u,h){var g=xp();return g=g===null?null:{parent:It._currentValue,pool:g},s.memoizedState={baseLanes:u,cachePool:g},i!==null&&Hc(s,null),Tp(),t1(s),i!==null&&El(i,s,h,!0),null}function uf(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Gp(i,s,u,h,g){return Ua(s),u=Cp(i,s,u,h,void 0,g),h=Pp(),i!==null&&!Gt?(Mp(i,s,g),ai(i,s,g)):(Fe&&h&&dp(s),s.flags|=1,an(i,s,u,g),s.child)}function g1(i,s,u,h,g,y){return Ua(s),s.updateQueue=null,u=m_(s,h,u,g),p_(i),h=Pp(),i!==null&&!Gt?(Mp(i,s,y),ai(i,s,y)):(Fe&&h&&dp(s),s.flags|=1,an(i,s,u,y),s.child)}function v1(i,s,u,h,g){if(Ua(s),s.stateNode===null){var y=Fs,E=u.contextType;typeof E=="object"&&E!==null&&(y=dn(E)),y=new u(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Hp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},_p(s),E=u.contextType,y.context=typeof E=="object"&&E!==null?dn(E):Fs,y.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Kp(s,u,E,h),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Hp.enqueueReplaceState(y,y.state,null),Nl(s,h,y,g),Rl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,N=Ia(u,C);y.props=N;var z=y.context,Y=u.contextType;E=Fs,typeof Y=="object"&&Y!==null&&(E=dn(Y));var ee=u.getDerivedStateFromProps;Y=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||z!==E)&&r1(s,y,h,E),Bi=!1;var V=s.memoizedState;y.state=V,Nl(s,h,y,g),Rl(),z=s.memoizedState,C||V!==z||Bi?(typeof ee=="function"&&(Kp(s,u,ee,h),z=s.memoizedState),(N=Bi||n1(s,u,N,h,V,z,E))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),y.props=h,y.state=z,y.context=E,h=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Sp(i,s),E=s.memoizedProps,Y=Ia(u,E),y.props=Y,ee=s.pendingProps,V=y.context,z=u.contextType,N=Fs,typeof z=="object"&&z!==null&&(N=dn(z)),C=u.getDerivedStateFromProps,(z=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ee||V!==N)&&r1(s,y,h,N),Bi=!1,V=s.memoizedState,y.state=V,Nl(s,h,y,g),Rl();var K=s.memoizedState;E!==ee||V!==K||Bi||i!==null&&i.dependencies!==null&&Vc(i.dependencies)?(typeof C=="function"&&(Kp(s,u,C,h),K=s.memoizedState),(Y=Bi||n1(s,u,Y,h,V,K,N)||i!==null&&i.dependencies!==null&&Vc(i.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,K,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,K,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=K),y.props=h,y.state=K,y.context=N,h=Y):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,uf(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=no(s,i.child,null,g),s.child=no(s,null,u,g)):an(i,s,u,g),s.memoizedState=y.state,i=s.child):i=ai(i,s,g),i}function y1(i,s,u,h){return Tl(),s.flags|=256,an(i,s,u,h),s.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(i){return{baseLanes:i,cachePool:a_()}}function Xp(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=or),i}function b1(i,s,u){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),E&&(g=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Fe){if(g?zi(s):Ii(),Fe){var C=wt,N;if(N=C){e:{for(N=C,C=Lr;N.nodeType!==8;){if(!C){C=null;break e}if(N=Or(N.nextSibling),N===null){C=null;break e}}C=N}C!==null?(s.memoizedState={dehydrated:C,treeContext:ka!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},N=Ln(18,null,null,0),N.stateNode=C,N.return=s,s.child=N,wn=s,wt=null,N=!0):N=!1}N||Ba(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return km(C)?s.lanes=32:s.lanes=536870912,null;ii(s)}return C=h.children,h=h.fallback,g?(Ii(),g=s.mode,C=cf({mode:"hidden",children:C},g),h=Da(h,g,u,null),C.return=s,h.return=s,C.sibling=h,s.child=C,g=s.child,g.memoizedState=Wp(u),g.childLanes=Xp(i,E,u),s.memoizedState=Yp,h):(zi(s),Zp(s,C))}if(N=i.memoizedState,N!==null&&(C=N.dehydrated,C!==null)){if(y)s.flags&256?(zi(s),s.flags&=-257,s=Qp(i,s,u)):s.memoizedState!==null?(Ii(),s.child=i.child,s.flags|=128,s=null):(Ii(),g=h.fallback,C=s.mode,h=cf({mode:"visible",children:h.children},C),g=Da(g,C,u,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,no(s,i.child,null,u),h=s.child,h.memoizedState=Wp(u),h.childLanes=Xp(i,E,u),s.memoizedState=Yp,s=g);else if(zi(s),km(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var z=E.dgst;E=z,h=Error(r(419)),h.stack="",h.digest=E,jl({value:h,source:null,stack:null}),s=Qp(i,s,u)}else if(Gt||El(i,s,u,!1),E=(u&i.childLanes)!==0,Gt||E){if(E=ut,E!==null&&(h=u&-u,h=(h&42)!==0?1:Te(h),h=(h&(E.suspendedLanes|u))!==0?0:h,h!==0&&h!==N.retryLane))throw N.retryLane=h,Hs(i,h),qn(E,i,h),c1;C.data==="$?"||gm(),s=Qp(i,s,u)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,wt=Or(C.nextSibling),wn=s,Fe=!0,Na=null,Lr=!1,i!==null&&(ir[ar++]=Jr,ir[ar++]=ei,ir[ar++]=ka,Jr=i.id,ei=i.overflow,ka=s),s=Zp(s,h.children),s.flags|=4096);return s}return g?(Ii(),g=h.fallback,C=s.mode,N=i.child,z=N.sibling,h=Qr(N,{mode:"hidden",children:h.children}),h.subtreeFlags=N.subtreeFlags&65011712,z!==null?g=Qr(z,g):(g=Da(g,C,u,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,C=i.child.memoizedState,C===null?C=Wp(u):(N=C.cachePool,N!==null?(z=It._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=a_(),C={baseLanes:C.baseLanes|u,cachePool:N}),g.memoizedState=C,g.childLanes=Xp(i,E,u),s.memoizedState=Yp,h):(zi(s),u=i.child,i=u.sibling,u=Qr(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=u,s.memoizedState=null,u)}function Zp(i,s){return s=cf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function cf(i,s){return i=Ln(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qp(i,s,u){return no(s,i.child,null,u),i=Zp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function x1(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),gp(i.return,s,u)}function Jp(i,s,u,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function w1(i,s,u){var h=s.pendingProps,g=h.revealOrder,y=h.tail;if(an(i,s,h.children,u),h=qt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x1(i,u,s);else if(i.tag===19)x1(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(re(qt,h),g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&sf(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),Jp(s,!1,g,u,y);break;case"backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&sf(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Jp(s,!0,u,null,y);break;case"together":Jp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ai(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Fi|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(El(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Qr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Qr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function em(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vc(i)))}function T3(i,s,u){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),Ni(s,It,i.memoizedState.cache),Tl();break;case 27:case 5:Me(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:Ni(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(zi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?b1(i,s,u):(zi(s),i=ai(i,s,u),i!==null?i.sibling:null);zi(s);break;case 19:var g=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(El(i,s,u,!1),h=(u&s.childLanes)!==0),g){if(h)return w1(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re(qt,qt.current),h)break;return null;case 22:case 23:return s.lanes=0,p1(i,s,u);case 24:Ni(s,It,i.memoizedState.cache)}return ai(i,s,u)}function _1(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Gt=!0;else{if(!em(i,u)&&(s.flags&128)===0)return Gt=!1,T3(i,s,u);Gt=(i.flags&131072)!==0}else Gt=!1,Fe&&(s.flags&1048576)!==0&&Qw(s,qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")up(h)?(i=Ia(h,i),s.tag=1,s=v1(null,s,h,i,u)):(s.tag=0,s=Gp(null,s,h,i,u));else{if(h!=null){if(g=h.$$typeof,g===M){s.tag=11,s=f1(null,s,h,i,u);break e}else if(g===R){s.tag=14,s=d1(null,s,h,i,u);break e}}throw s=oe(h)||h,Error(r(306,s,""))}}return s;case 0:return Gp(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,g=Ia(h,s.pendingProps),v1(i,s,h,g,u);case 3:e:{if(Ge(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Sp(i,s),Nl(s,h,null,u);var E=s.memoizedState;if(h=E.cache,Ni(s,It,h),h!==y.cache&&vp(s,[It],u,!0),Rl(),h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=y1(i,s,h,u);break e}else if(h!==g){g=nr(Error(r(424)),s),jl(g),s=y1(i,s,h,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=Or(i.firstChild),wn=s,Fe=!0,Na=null,Lr=!0,u=e1(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Tl(),h===g){s=ai(i,s,u);break e}an(i,s,h,u)}s=s.child}return s;case 26:return uf(i,s),i===null?(u=TS(s.type,null,s.pendingProps,null))?s.memoizedState=u:Fe||(u=s.type,i=s.pendingProps,h=Af(Oe.current).createElement(u),h[ht]=s,h[jt]=i,on(h,u,i),kt(h),s.stateNode=h):s.memoizedState=TS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Me(s),i===null&&Fe&&(h=s.stateNode=SS(s.type,s.pendingProps,Oe.current),wn=s,Lr=!0,g=wt,Xi(s.type)?(Rm=g,wt=Or(h.firstChild)):wt=g),an(i,s,s.pendingProps.children,u),uf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Fe&&((g=h=wt)&&(h=eB(h,s.type,s.pendingProps,Lr),h!==null?(s.stateNode=h,wn=s,wt=Or(h.firstChild),Lr=!1,g=!0):g=!1),g||Ba(s)),Me(s),g=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,h=y.children,Pm(g,y)?h=null:E!==null&&Pm(g,E)&&(s.flags|=32),s.memoizedState!==null&&(g=Cp(i,s,y3,null,null,u),ru._currentValue=g),uf(i,s),an(i,s,h,u),s.child;case 6:return i===null&&Fe&&((i=u=wt)&&(u=tB(u,s.pendingProps,Lr),u!==null?(s.stateNode=u,wn=s,wt=null,i=!0):i=!1),i||Ba(s)),null;case 13:return b1(i,s,u);case 4:return Ge(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=no(s,null,h,u):an(i,s,h,u),s.child;case 11:return f1(i,s,s.type,s.pendingProps,u);case 7:return an(i,s,s.pendingProps,u),s.child;case 8:return an(i,s,s.pendingProps.children,u),s.child;case 12:return an(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Ni(s,s.type,h.value),an(i,s,h.children,u),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Ua(s),g=dn(g),h=h(g),s.flags|=1,an(i,s,h,u),s.child;case 14:return d1(i,s,s.type,s.pendingProps,u);case 15:return h1(i,s,s.type,s.pendingProps,u);case 19:return w1(i,s,u);case 31:return h=s.pendingProps,u=s.mode,h={mode:h.mode,children:h.children},i===null?(u=cf(h,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Qr(i.child,h),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return p1(i,s,u);case 24:return Ua(s),h=dn(It),i===null?(g=xp(),g===null&&(g=ut,y=yp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),s.memoizedState={parent:h,cache:g},_p(s),Ni(s,It,g)):((i.lanes&u)!==0&&(Sp(i,s),Nl(s,null,null,u),Rl()),g=i.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ni(s,It,h)):(h=y.cache,Ni(s,It,h),h!==g.cache&&vp(s,[It],u,!0))),an(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function si(i){i.flags|=4}function S1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!MS(s)){if(s=sr.current,s!==null&&((Ve&4194048)===Ve?Ur!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||s!==Ur))throw Dl=wp,s_;i.flags|=8192}}function ff(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xe():536870912,i.lanes|=s,so|=s)}function ql(i,s){if(!Fe)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function yt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function j3(i,s,u){var h=s.pendingProps;switch(hp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ni(It),ue(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Ol(s)?si(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,t_())),yt(s),null;case 26:return u=s.memoizedState,i===null?(si(s),u!==null?(yt(s),S1(s,u)):(yt(s),s.flags&=-16777217)):u?u!==i.memoizedState?(si(s),yt(s),S1(s,u)):(yt(s),s.flags&=-16777217):(i.memoizedProps!==h&&si(s),yt(s),s.flags&=-16777217),null;case 27:Re(s),u=Oe.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&si(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return yt(s),null}i=pe.current,Ol(s)?Jw(s):(i=SS(g,h,u),s.stateNode=i,si(s))}return yt(s),null;case 5:if(Re(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&si(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return yt(s),null}if(i=pe.current,Ol(s))Jw(s);else{switch(g=Af(Oe.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}i[ht]=s,i[jt]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(on(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&si(s)}}return yt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&si(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=Oe.current,Ol(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,g=wn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[ht]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||gS(i.nodeValue,u)),i||Ba(s)}else i=Af(i).createTextNode(h),i[ht]=s,s.stateNode=i}return yt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ol(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[ht]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),g=!1}else g=t_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(ii(s),s):(ii(s),null)}if(ii(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),ff(s,s.updateQueue),yt(s),null;case 4:return ue(),i===null&&Om(s.stateNode.containerInfo),yt(s),null;case 10:return ni(s.type),yt(s),null;case 19:if(Q(qt),g=s.memoizedState,g===null)return yt(s),null;if(h=(s.flags&128)!==0,y=g.rendering,y===null)if(h)ql(g,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=sf(i),y!==null){for(s.flags|=128,ql(g,!1),i=y.updateQueue,s.updateQueue=i,ff(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Zw(u,i),u=u.sibling;return re(qt,qt.current&1|2),s.child}i=i.sibling}g.tail!==null&&xt()>pf&&(s.flags|=128,h=!0,ql(g,!1),s.lanes=4194304)}else{if(!h)if(i=sf(y),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,ff(s,i),ql(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Fe)return yt(s),null}else 2*xt()-g.renderingStartTime>pf&&u!==536870912&&(s.flags|=128,h=!0,ql(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(i=g.last,i!==null?i.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=xt(),s.sibling=null,i=qt.current,re(qt,h?i&1|2:i&1),s):(yt(s),null);case 22:case 23:return ii(s),jp(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),u=s.updateQueue,u!==null&&ff(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&Q($a),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ni(It),yt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function E3(i,s){switch(hp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ni(It),ue(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Re(s),null;case 13:if(ii(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Tl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(qt),null;case 4:return ue(),null;case 10:return ni(s.type),null;case 22:case 23:return ii(s),jp(),i!==null&&Q($a),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ni(It),null;case 25:return null;default:return null}}function A1(i,s){switch(hp(s),s.tag){case 3:ni(It),ue();break;case 26:case 27:case 5:Re(s);break;case 4:ue();break;case 13:ii(s);break;case 19:Q(qt);break;case 10:ni(s.type);break;case 22:case 23:ii(s),jp(),i!==null&&Q($a);break;case 24:ni(It)}}function Vl(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var y=u.create,E=u.inst;h=y(),E.destroy=h}u=u.next}while(u!==g)}}catch(C){ot(s,s.return,C)}}function qi(i,s,u){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var E=h.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=s;var N=u,z=C;try{z()}catch(Y){ot(g,N,Y)}}}h=h.next}while(h!==y)}}catch(Y){ot(s,s.return,Y)}}function O1(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{d_(s,u)}catch(h){ot(i,i.return,h)}}}function T1(i,s,u){u.props=Ia(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){ot(i,s,h)}}function Kl(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(g){ot(i,s,g)}}function $r(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){ot(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){ot(i,s,g)}else u.current=null}function j1(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){ot(i,i.return,g)}}function tm(i,s,u){try{var h=i.stateNode;W3(h,i.type,u,s),h[jt]=s}catch(g){ot(i,i.return,g)}}function E1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xi(i.type)||i.tag===4}function nm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||E1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rm(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Sf));else if(h!==4&&(h===27&&Xi(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(rm(i,s,u),i=i.sibling;i!==null;)rm(i,s,u),i=i.sibling}function df(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&Xi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(df(i,s,u),i=i.sibling;i!==null;)df(i,s,u),i=i.sibling}function C1(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);on(s,h,u),s[ht]=i,s[jt]=u}catch(y){ot(i,i.return,y)}}var oi=!1,Ct=!1,im=!1,P1=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function C3(i,s){if(i=i.containerInfo,Em=Pf,i=Iw(i),np(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,C=-1,N=-1,z=0,Y=0,ee=i,V=null;t:for(;;){for(var K;ee!==u||g!==0&&ee.nodeType!==3||(C=E+g),ee!==y||h!==0&&ee.nodeType!==3||(N=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(K=ee.firstChild)!==null;)V=ee,ee=K;for(;;){if(ee===i)break t;if(V===u&&++z===g&&(C=E),V===y&&++Y===h&&(N=E),(K=ee.nextSibling)!==null)break;ee=V,V=ee.parentNode}ee=K}u=C===-1||N===-1?null:{start:C,end:N}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cm={focusedElem:i,selectionRange:u},Pf=!1,Yt=s;Yt!==null;)if(s=Yt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Yt=i;else for(;Yt!==null;){switch(s=Yt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var je=Ia(u.type,g,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(je,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Se){ot(u,u.return,Se)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Dm(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yt=i;break}Yt=s.return}}function M1(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Vi(i,u),h&4&&Vl(5,u);break;case 1:if(Vi(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(E){ot(u,u.return,E)}else{var g=Ia(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(u,u.return,E)}}h&64&&O1(u),h&512&&Kl(u,u.return);break;case 3:if(Vi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{d_(i,s)}catch(E){ot(u,u.return,E)}}break;case 27:s===null&&h&4&&C1(u);case 26:case 5:Vi(i,u),s===null&&h&4&&j1(u),h&512&&Kl(u,u.return);break;case 12:Vi(i,u);break;case 13:Vi(i,u),h&4&&R1(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=U3.bind(null,u),nB(i,u))));break;case 22:if(h=u.memoizedState!==null||oi,!h){s=s!==null&&s.memoizedState!==null||Ct,g=oi;var y=Ct;oi=h,(Ct=s)&&!y?Ki(i,u,(u.subtreeFlags&8772)!==0):Vi(i,u),oi=g,Ct=y}break;case 30:break;default:Vi(i,u)}}function D1(i){var s=i.alternate;s!==null&&(i.alternate=null,D1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ki(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,En=!1;function li(i,s,u){for(u=u.child;u!==null;)k1(i,s,u),u=u.sibling}function k1(i,s,u){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Aa,u)}catch{}switch(u.tag){case 26:Ct||$r(u,s),li(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ct||$r(u,s);var h=pt,g=En;Xi(u.type)&&(pt=u.stateNode,En=!1),li(i,s,u),Jl(u.stateNode),pt=h,En=g;break;case 5:Ct||$r(u,s);case 6:if(h=pt,g=En,pt=null,li(i,s,u),pt=h,En=g,pt!==null)if(En)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(u.stateNode)}catch(y){ot(u,s,y)}else try{pt.removeChild(u.stateNode)}catch(y){ot(u,s,y)}break;case 18:pt!==null&&(En?(i=pt,wS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ou(i)):wS(pt,u.stateNode));break;case 4:h=pt,g=En,pt=u.stateNode.containerInfo,En=!0,li(i,s,u),pt=h,En=g;break;case 0:case 11:case 14:case 15:Ct||qi(2,u,s),Ct||qi(4,u,s),li(i,s,u);break;case 1:Ct||($r(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&T1(u,s,h)),li(i,s,u);break;case 21:li(i,s,u);break;case 22:Ct=(h=Ct)||u.memoizedState!==null,li(i,s,u),Ct=h;break;default:li(i,s,u)}}function R1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ou(i)}catch(u){ot(s,s.return,u)}}function P3(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new P1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new P1),s;default:throw Error(r(435,i.tag))}}function am(i,s){var u=P3(i);s.forEach(function(h){var g=$3.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}function Un(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=i,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Xi(C.type)){pt=C.stateNode,En=!1;break e}break;case 5:pt=C.stateNode,En=!1;break e;case 3:case 4:pt=C.stateNode.containerInfo,En=!0;break e}C=C.return}if(pt===null)throw Error(r(160));k1(y,E,g),pt=null,En=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)N1(s,i),s=s.sibling}var Ar=null;function N1(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Un(s,i),$n(i),h&4&&(qi(3,i,i.return),Vl(3,i),qi(5,i,i.return));break;case 1:Un(s,i),$n(i),h&512&&(Ct||u===null||$r(u,u.return)),h&64&&oi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=Ar;if(Un(s,i),$n(i),h&512&&(Ct||u===null||$r(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Nr]||y[ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),on(y,h,u),y[ht]=i,kt(y),h=y;break e;case"link":var E=CS("link","href",g).get(h+(u.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(C,1);break t}}y=g.createElement(h),on(y,h,u),g.head.appendChild(y);break;case"meta":if(E=CS("meta","content",g).get(h+(u.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(C,1);break t}}y=g.createElement(h),on(y,h,u),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[ht]=i,kt(y),h=y}i.stateNode=h}else PS(g,i.type,i.stateNode);else i.stateNode=ES(g,h,i.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?PS(g,i.type,i.stateNode):ES(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&tm(i,i.memoizedProps,u.memoizedProps)}break;case 27:Un(s,i),$n(i),h&512&&(Ct||u===null||$r(u,u.return)),u!==null&&h&4&&tm(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Un(s,i),$n(i),h&512&&(Ct||u===null||$r(u,u.return)),i.flags&32){g=i.stateNode;try{Us(g,"")}catch(K){ot(i,i.return,K)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,tm(i,g,u!==null?u.memoizedProps:g)),h&1024&&(im=!0);break;case 6:if(Un(s,i),$n(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(K){ot(i,i.return,K)}}break;case 3:if(jf=null,g=Ar,Ar=Of(s.containerInfo),Un(s,i),Ar=g,$n(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ou(s.containerInfo)}catch(K){ot(i,i.return,K)}im&&(im=!1,B1(i));break;case 4:h=Ar,Ar=Of(i.stateNode.containerInfo),Un(s,i),$n(i),Ar=h;break;case 12:Un(s,i),$n(i);break;case 13:Un(s,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(fm=xt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,am(i,h)));break;case 22:g=i.memoizedState!==null;var N=u!==null&&u.memoizedState!==null,z=oi,Y=Ct;if(oi=z||g,Ct=Y||N,Un(s,i),Ct=Y,oi=z,$n(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(u===null||N||oi||Ct||qa(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){N=u=s;try{if(y=N.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=N.stateNode;var ee=N.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(K){ot(N,N.return,K)}}}else if(s.tag===6){if(u===null){N=s;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(K){ot(N,N.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,am(i,u))));break;case 19:Un(s,i),$n(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,am(i,h)));break;case 30:break;case 21:break;default:Un(s,i),$n(i)}}function $n(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if(E1(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,y=nm(i);df(i,y,g);break;case 5:var E=u.stateNode;u.flags&32&&(Us(E,""),u.flags&=-33);var C=nm(i);df(i,C,E);break;case 3:case 4:var N=u.stateNode.containerInfo,z=nm(i);rm(i,z,N);break;default:throw Error(r(161))}}catch(Y){ot(i,i.return,Y)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function B1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;B1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Vi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)M1(i,s.alternate,s),s=s.sibling}function qa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qi(4,s,s.return),qa(s);break;case 1:$r(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&T1(s,s.return,u),qa(s);break;case 27:Jl(s.stateNode);case 26:case 5:$r(s,s.return),qa(s);break;case 22:s.memoizedState===null&&qa(s);break;case 30:qa(s);break;default:qa(s)}i=i.sibling}}function Ki(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ki(g,y,u),Vl(4,y);break;case 1:if(Ki(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){ot(h,h.return,z)}if(h=y,g=h.updateQueue,g!==null){var C=h.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)f_(N[g],C)}catch(z){ot(h,h.return,z)}}u&&E&64&&O1(y),Kl(y,y.return);break;case 27:C1(y);case 26:case 5:Ki(g,y,u),u&&h===null&&E&4&&j1(y),Kl(y,y.return);break;case 12:Ki(g,y,u);break;case 13:Ki(g,y,u),u&&E&4&&R1(g,y);break;case 22:y.memoizedState===null&&Ki(g,y,u),Kl(y,y.return);break;case 30:break;default:Ki(g,y,u)}s=s.sibling}}function sm(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Cl(u))}function om(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i))}function zr(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L1(i,s,u,h),s=s.sibling}function L1(i,s,u,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:zr(i,s,u,h),g&2048&&Vl(9,s);break;case 1:zr(i,s,u,h);break;case 3:zr(i,s,u,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cl(i)));break;case 12:if(g&2048){zr(i,s,u,h),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){ot(s,s.return,N)}}else zr(i,s,u,h);break;case 13:zr(i,s,u,h);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?zr(i,s,u,h):Hl(i,s):y._visibility&2?zr(i,s,u,h):(y._visibility|=2,ro(i,s,u,h,(s.subtreeFlags&10256)!==0)),g&2048&&sm(E,s);break;case 24:zr(i,s,u,h),g&2048&&om(s.alternate,s);break;default:zr(i,s,u,h)}}function ro(i,s,u,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,E=s,C=u,N=h,z=E.flags;switch(E.tag){case 0:case 11:case 15:ro(y,E,C,N,g),Vl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?ro(y,E,C,N,g):Hl(y,E):(Y._visibility|=2,ro(y,E,C,N,g)),g&&z&2048&&sm(E.alternate,E);break;case 24:ro(y,E,C,N,g),g&&z&2048&&om(E.alternate,E);break;default:ro(y,E,C,N,g)}s=s.sibling}}function Hl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,g=h.flags;switch(h.tag){case 22:Hl(u,h),g&2048&&sm(h.alternate,h);break;case 24:Hl(u,h),g&2048&&om(h.alternate,h);break;default:Hl(u,h)}s=s.sibling}}var Fl=8192;function io(i){if(i.subtreeFlags&Fl)for(i=i.child;i!==null;)U1(i),i=i.sibling}function U1(i){switch(i.tag){case 26:io(i),i.flags&Fl&&i.memoizedState!==null&&mB(Ar,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var s=Ar;Ar=Of(i.stateNode.containerInfo),io(i),Ar=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Fl,Fl=16777216,io(i),Fl=s):io(i));break;default:io(i)}}function $1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Gl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yt=h,I1(h,i)}$1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z1(i),i=i.sibling}function z1(i){switch(i.tag){case 0:case 11:case 15:Gl(i),i.flags&2048&&qi(9,i,i.return);break;case 3:Gl(i);break;case 12:Gl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hf(i)):Gl(i);break;default:Gl(i)}}function hf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Yt=h,I1(h,i)}$1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qi(8,s,s.return),hf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,hf(s));break;default:hf(s)}i=i.sibling}}function I1(i,s){for(;Yt!==null;){var u=Yt;switch(u.tag){case 0:case 11:case 15:qi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Cl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Yt=h;else e:for(u=i;Yt!==null;){h=Yt;var g=h.sibling,y=h.return;if(D1(h),h===u){Yt=null;break e}if(g!==null){g.return=y,Yt=g;break e}Yt=y}}}var M3={getCacheForType:function(i){var s=dn(It),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},D3=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ut=null,Le=null,Ve=0,Qe=0,zn=null,Hi=!1,ao=!1,lm=!1,ui=0,_t=0,Fi=0,Va=0,um=0,or=0,so=0,Yl=null,Cn=null,cm=!1,fm=0,pf=1/0,mf=null,Gi=null,sn=0,Yi=null,oo=null,lo=0,dm=0,hm=null,q1=null,Wl=0,pm=null;function In(){if((Ze&2)!==0&&Ve!==0)return Ve&-Ve;if(q.T!==null){var i=Ws;return i!==0?i:wm()}return ye()}function V1(){or===0&&(or=(Ve&536870912)===0||Fe?le():536870912);var i=sr.current;return i!==null&&(i.flags|=32),or}function qn(i,s,u){(i===ut&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(uo(i,0),Wi(i,Ve,or,!1)),Pe(i,u),((Ze&2)===0||i!==ut)&&(i===ut&&((Ze&2)===0&&(Va|=u),_t===4&&Wi(i,Ve,or,!1)),Ir(i))}function K1(i,s,u){if((Ze&6)!==0)throw Error(r(327));var h=!u&&(s&124)===0&&(s&i.expiredLanes)===0||te(i,s),g=h?N3(i,s):vm(i,s,!0),y=h;do{if(g===0){ao&&!h&&Wi(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!k3(u)){g=vm(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=i;g=Yl;var N=C.current.memoizedState.isDehydrated;if(N&&(uo(C,E).flags|=256),E=vm(C,E,!1),E!==2){if(lm&&!N){C.errorRecoveryDisabledLanes|=y,Va|=y,g=4;break e}y=Cn,Cn=g,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){uo(i,0),Wi(i,s,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wi(h,s,or,!Hi);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=fm+300-xt(),10<g)){if(Wi(h,s,or,!Hi),Ds(h,0,!0)!==0)break e;h.timeoutHandle=bS(H1.bind(null,h,u,Cn,mf,cm,s,or,Va,so,Hi,y,2,-0,0),g);break e}H1(h,u,Cn,mf,cm,s,or,Va,so,Hi,y,0,-0,0)}}break}while(!0);Ir(i)}function H1(i,s,u,h,g,y,E,C,N,z,Y,ee,V,K){if(i.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:pB},U1(s),ee=gB(),ee!==null)){i.cancelPendingCommit=ee(Q1.bind(null,i,s,y,u,h,g,E,C,N,Y,1,V,K)),Wi(i,y,E,!z);return}Q1(i,s,y,u,h,g,E,C,N)}function k3(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Bn(y(),g))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(i,s,u,h){s&=~um,s&=~Va,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var y=31-xn(g),E=1<<y;h[y]=-1,g&=~E}u!==0&&ze(i,u,s)}function gf(){return(Ze&6)===0?(Xl(0),!1):!0}function mm(){if(Le!==null){if(Qe===0)var i=Le.return;else i=Le,ti=La=null,Dp(i),to=null,zl=0,i=Le;for(;i!==null;)A1(i.alternate,i),i=i.return;Le=null}}function uo(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,Z3(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),mm(),ut=i,Le=u=Qr(i.current,null),Ve=s,Qe=0,zn=null,Hi=!1,ao=te(i,s),lm=!1,so=or=um=Va=Fi=_t=0,Cn=Yl=null,cm=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-xn(h),y=1<<g;s|=i[g],h&=~y}return ui=s,Lc(),u}function F1(i,s){Ne=null,q.H=nf,s===Ml||s===Fc?(s=u_(),Qe=3):s===s_?(s=u_(),Qe=4):Qe=s===c1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Le===null&&(_t=1,lf(i,nr(s,i.current)))}function G1(){var i=q.H;return q.H=nf,i===null?nf:i}function Y1(){var i=q.A;return q.A=M3,i}function gm(){_t=4,Hi||(Ve&4194048)!==Ve&&sr.current!==null||(ao=!0),(Fi&134217727)===0&&(Va&134217727)===0||ut===null||Wi(ut,Ve,or,!1)}function vm(i,s,u){var h=Ze;Ze|=2;var g=G1(),y=Y1();(ut!==i||Ve!==s)&&(mf=null,uo(i,s)),s=!1;var E=_t;e:do try{if(Qe!==0&&Le!==null){var C=Le,N=zn;switch(Qe){case 8:mm(),E=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var z=Qe;if(Qe=0,zn=null,co(i,C,N,z),u&&ao){E=0;break e}break;default:z=Qe,Qe=0,zn=null,co(i,C,N,z)}}R3(),E=_t;break}catch(Y){F1(i,Y)}while(!0);return s&&i.shellSuspendCounter++,ti=La=null,Ze=h,q.H=g,q.A=y,Le===null&&(ut=null,Ve=0,Lc()),E}function R3(){for(;Le!==null;)W1(Le)}function N3(i,s){var u=Ze;Ze|=2;var h=G1(),g=Y1();ut!==i||Ve!==s?(mf=null,pf=xt()+500,uo(i,s)):ao=te(i,s);e:do try{if(Qe!==0&&Le!==null){s=Le;var y=zn;t:switch(Qe){case 1:Qe=0,zn=null,co(i,s,y,1);break;case 2:case 9:if(o_(y)){Qe=0,zn=null,X1(s);break}s=function(){Qe!==2&&Qe!==9||ut!==i||(Qe=7),Ir(i)},y.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:o_(y)?(Qe=0,zn=null,X1(s)):(Qe=0,zn=null,co(i,s,y,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var C=Le;if(!E||MS(E)){Qe=0,zn=null;var N=C.sibling;if(N!==null)Le=N;else{var z=C.return;z!==null?(Le=z,vf(z)):Le=null}break t}}Qe=0,zn=null,co(i,s,y,5);break;case 6:Qe=0,zn=null,co(i,s,y,6);break;case 8:mm(),_t=6;break e;default:throw Error(r(462))}}B3();break}catch(Y){F1(i,Y)}while(!0);return ti=La=null,q.H=h,q.A=g,Ze=u,Le!==null?0:(ut=null,Ve=0,Lc(),_t)}function B3(){for(;Le!==null&&!nn();)W1(Le)}function W1(i){var s=_1(i.alternate,i,ui);i.memoizedProps=i.pendingProps,s===null?vf(i):Le=s}function X1(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=g1(u,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=g1(u,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Dp(s);default:A1(u,s),s=Le=Zw(s,ui),s=_1(u,s,ui)}i.memoizedProps=i.pendingProps,s===null?vf(i):Le=s}function co(i,s,u,h){ti=La=null,Dp(s),to=null,zl=0;var g=s.return;try{if(O3(i,g,s,u,Ve)){_t=1,lf(i,nr(u,i.current)),Le=null;return}}catch(y){if(g!==null)throw Le=g,y;_t=1,lf(i,nr(u,i.current)),Le=null;return}s.flags&32768?(Fe||h===1?i=!0:ao||(Ve&536870912)!==0?i=!1:(Hi=i=!0,(h===2||h===9||h===3||h===6)&&(h=sr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Z1(s,i)):vf(s)}function vf(i){var s=i;do{if((s.flags&32768)!==0){Z1(s,Hi);return}i=s.return;var u=j3(s.alternate,s,ui);if(u!==null){Le=u;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);_t===0&&(_t=5)}function Z1(i,s){do{var u=E3(i.alternate,i);if(u!==null){u.flags&=32767,Le=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=u}while(i!==null);_t=6,Le=null}function Q1(i,s,u,h,g,y,E,C,N){i.cancelPendingCommit=null;do yf();while(sn!==0);if((Ze&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=op,Ce(i,u,y,E,C,N),i===ut&&(Le=ut=null,Ve=0),oo=s,Yi=i,lo=u,dm=y,hm=g,q1=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z3(Cs,function(){return rS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,g=G.p,G.p=2,E=Ze,Ze|=4;try{C3(i,s,u)}finally{Ze=E,G.p=g,q.T=h}}sn=1,J1(),eS(),tS()}}function J1(){if(sn===1){sn=0;var i=Yi,s=oo,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var h=G.p;G.p=2;var g=Ze;Ze|=4;try{N1(s,i);var y=Cm,E=Iw(i.containerInfo),C=y.focusedElem,N=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&zw(C.ownerDocument.documentElement,C)){if(N!==null&&np(C)){var z=N.start,Y=N.end;if(Y===void 0&&(Y=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(Y,C.value.length);else{var ee=C.ownerDocument||document,V=ee&&ee.defaultView||window;if(V.getSelection){var K=V.getSelection(),je=C.textContent.length,Se=Math.min(N.start,je),at=N.end===void 0?Se:Math.min(N.end,je);!K.extend&&Se>at&&(E=at,at=Se,Se=E);var U=$w(C,Se),L=$w(C,at);if(U&&L&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var $=ee.createRange();$.setStart(U.node,U.offset),K.removeAllRanges(),Se>at?(K.addRange($),K.extend(L.node,L.offset)):($.setEnd(L.node,L.offset),K.addRange($))}}}}for(ee=[],K=C;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ee.length;C++){var Z=ee[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Pf=!!Em,Cm=Em=null}finally{Ze=g,G.p=h,q.T=u}}i.current=s,sn=2}}function eS(){if(sn===2){sn=0;var i=Yi,s=oo,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var h=G.p;G.p=2;var g=Ze;Ze|=4;try{M1(i,s.alternate,s)}finally{Ze=g,G.p=h,q.T=u}}sn=3}}function tS(){if(sn===4||sn===3){sn=0,rn();var i=Yi,s=oo,u=lo,h=q1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,oo=Yi=null,nS(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Gi=null),Xe(u),s=s.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Aa,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=q.T,g=G.p,G.p=2,q.T=null;try{for(var y=i.onRecoverableError,E=0;E<h.length;E++){var C=h[E];y(C.value,{componentStack:C.stack})}}finally{q.T=s,G.p=g}}(lo&3)!==0&&yf(),Ir(i),g=i.pendingLanes,(u&4194090)!==0&&(g&42)!==0?i===pm?Wl++:(Wl=0,pm=i):Wl=0,Xl(0)}}function nS(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Cl(s)))}function yf(i){return J1(),eS(),tS(),rS()}function rS(){if(sn!==5)return!1;var i=Yi,s=dm;dm=0;var u=Xe(lo),h=q.T,g=G.p;try{G.p=32>u?32:u,q.T=null,u=hm,hm=null;var y=Yi,E=lo;if(sn=0,oo=Yi=null,lo=0,(Ze&6)!==0)throw Error(r(331));var C=Ze;if(Ze|=4,z1(y.current),L1(y,y.current,E,u),Ze=C,Xl(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Aa,y)}catch{}return!0}finally{G.p=g,q.T=h,nS(i,s)}}function iS(i,s,u){s=nr(u,s),s=Fp(i.stateNode,s,2),i=Ui(i,s,2),i!==null&&(Pe(i,2),Ir(i))}function ot(i,s,u){if(i.tag===3)iS(i,i,u);else for(;s!==null;){if(s.tag===3){iS(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gi===null||!Gi.has(h))){i=nr(u,i),u=l1(2),h=Ui(s,u,2),h!==null&&(u1(u,h,s,i),Pe(h,2),Ir(h));break}}s=s.return}}function ym(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new D3;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(u)||(lm=!0,g.add(u),i=L3.bind(null,i,s,u),s.then(i,i))}function L3(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ut===i&&(Ve&u)===u&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>xt()-fm?(Ze&2)===0&&uo(i,0):um|=u,so===Ve&&(so=0)),Ir(i)}function aS(i,s){s===0&&(s=xe()),i=Hs(i,s),i!==null&&(Pe(i,s),Ir(i))}function U3(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),aS(i,u)}function $3(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),aS(i,u)}function z3(i,s){return Tt(i,s)}var bf=null,fo=null,bm=!1,xf=!1,xm=!1,Ka=0;function Ir(i){i!==fo&&i.next===null&&(fo===null?bf=fo=i:fo=fo.next=i),xf=!0,bm||(bm=!0,q3())}function Xl(i,s){if(!xm&&xf){xm=!0;do for(var u=!1,h=bf;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var E=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-xn(42|i)+1)-1,y&=g&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,uS(h,y))}else y=Ve,y=Ds(h,h===ut?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||te(h,y)||(u=!0,uS(h,y));h=h.next}while(u);xm=!1}}function I3(){sS()}function sS(){xf=bm=!1;var i=0;Ka!==0&&(X3()&&(i=Ka),Ka=0);for(var s=xt(),u=null,h=bf;h!==null;){var g=h.next,y=oS(h,s);y===0?(h.next=null,u===null?bf=g:u.next=g,g===null&&(fo=u)):(u=h,(i!==0||(y&3)!==0)&&(xf=!0)),h=g}Xl(i)}function oS(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-xn(y),C=1<<E,N=g[E];N===-1?((C&u)===0||(C&h)!==0)&&(g[E]=ce(C,s)):N<=s&&(i.expiredLanes|=C),y&=~C}if(s=ut,u=Ve,u=Ds(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ie(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||te(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&Ie(h),Xe(u)){case 2:case 8:u=_c;break;case 32:u=Cs;break;case 268435456:u=Ps;break;default:u=Cs}return h=lS.bind(null,i),u=Tt(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&Ie(h),i.callbackPriority=2,i.callbackNode=null,2}function lS(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(yf()&&i.callbackNode!==u)return null;var h=Ve;return h=Ds(i,i===ut?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(K1(i,h,s),oS(i,xt()),i.callbackNode!=null&&i.callbackNode===u?lS.bind(null,i):null)}function uS(i,s){if(yf())return null;K1(i,s,!0)}function q3(){Q3(function(){(Ze&6)!==0?Tt(wc,I3):sS()})}function wm(){return Ka===0&&(Ka=le()),Ka}function cS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pc(""+i)}function fS(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function V3(i,s,u,h,g){if(s==="submit"&&u&&u.stateNode===g){var y=cS((g[jt]||null).action),E=h.submitter;E&&(s=(s=E[jt]||null)?cS(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var C=new Rc("action","action",null,h,g);i.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ka!==0){var N=E?fS(g,E):new FormData(g);Ip(u,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(C.preventDefault(),N=E?fS(g,E):new FormData(g),Ip(u,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var _m=0;_m<sp.length;_m++){var Sm=sp[_m],K3=Sm.toLowerCase(),H3=Sm[0].toUpperCase()+Sm.slice(1);Sr(K3,"on"+H3)}Sr(Kw,"onAnimationEnd"),Sr(Hw,"onAnimationIteration"),Sr(Fw,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(l3,"onTransitionRun"),Sr(u3,"onTransitionStart"),Sr(c3,"onTransitionCancel"),Sr(Gw,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function dS(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],N=C.instance,z=C.currentTarget;if(C=C.listener,N!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=z;try{y(g)}catch(Y){of(Y)}g.currentTarget=null,y=N}else for(E=0;E<h.length;E++){if(C=h[E],N=C.instance,z=C.currentTarget,C=C.listener,N!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=z;try{y(g)}catch(Y){of(Y)}g.currentTarget=null,y=N}}}}function Ue(i,s){var u=s[Di];u===void 0&&(u=s[Di]=new Set);var h=i+"__bubble";u.has(h)||(hS(s,i,2,!1),u.add(h))}function Am(i,s,u){var h=0;s&&(h|=4),hS(u,i,h,s)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Om(i){if(!i[wf]){i[wf]=!0,Oc.forEach(function(u){u!=="selectionchange"&&(F3.has(u)||Am(u,!1,i),Am(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wf]||(s[wf]=!0,Am("selectionchange",!1,s))}}function hS(i,s,u,h){switch(LS(s)){case 2:var g=bB;break;case 8:g=xB;break;default:g=$m}u=g.bind(null,s,u,i),g=void 0,!Gh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function Tm(i,s,u,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=h.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=Nn(C),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){h=y=E;continue e}C=C.parentNode}}h=h.return}xw(function(){var z=y,Y=Hh(u),ee=[];e:{var V=Yw.get(i);if(V!==void 0){var K=Rc,je=i;switch(i){case"keypress":if(Dc(u)===0)break e;case"keydown":case"keyup":K=zN;break;case"focusin":je="focus",K=Zh;break;case"focusout":je="blur",K=Zh;break;case"beforeblur":case"afterblur":K=Zh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=EN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=VN;break;case Kw:case Hw:case Fw:K=MN;break;case Gw:K=HN;break;case"scroll":case"scrollend":K=TN;break;case"wheel":K=GN;break;case"copy":case"cut":case"paste":K=kN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ow;break;case"toggle":case"beforetoggle":K=WN}var Se=(s&4)!==0,at=!Se&&(i==="scroll"||i==="scrollend"),U=Se?V!==null?V+"Capture":null:V;Se=[];for(var L=z,$;L!==null;){var Z=L;if($=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||$===null||U===null||(Z=gl(L,U),Z!=null&&Se.push(Ql(L,Z,$))),at)break;L=L.return}0<Se.length&&(V=new K(V,je,null,u,Y),ee.push({event:V,listeners:Se}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",V&&u!==Kh&&(je=u.relatedTarget||u.fromElement)&&(Nn(je)||je[Jn]))break e;if((K||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,K?(je=u.relatedTarget||u.toElement,K=z,je=je?Nn(je):null,je!==null&&(at=o(je),Se=je.tag,je!==at||Se!==5&&Se!==27&&Se!==6)&&(je=null)):(K=null,je=z),K!==je)){if(Se=Sw,Z="onMouseLeave",U="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Ow,Z="onPointerLeave",U="onPointerEnter",L="pointer"),at=K==null?V:ja(K),$=je==null?V:ja(je),V=new Se(Z,L+"leave",K,u,Y),V.target=at,V.relatedTarget=$,Z=null,Nn(Y)===z&&(Se=new Se(U,L+"enter",je,u,Y),Se.target=$,Se.relatedTarget=at,Z=Se),at=Z,K&&je)t:{for(Se=K,U=je,L=0,$=Se;$;$=ho($))L++;for($=0,Z=U;Z;Z=ho(Z))$++;for(;0<L-$;)Se=ho(Se),L--;for(;0<$-L;)U=ho(U),$--;for(;L--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=ho(Se),U=ho(U)}Se=null}else Se=null;K!==null&&pS(ee,V,K,Se,!1),je!==null&&at!==null&&pS(ee,at,je,Se,!0)}}e:{if(V=z?ja(z):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var he=kw;else if(Mw(V))if(Rw)he=a3;else{he=r3;var Be=n3}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?z&&Vh(z.elementType)&&(he=kw):he=i3;if(he&&(he=he(i,z))){Dw(ee,he,u,Y);break e}Be&&Be(i,V,z),i==="focusout"&&z&&V.type==="number"&&z.memoizedProps.value!=null&&qh(V,"number",V.value)}switch(Be=z?ja(z):window,i){case"focusin":(Mw(Be)||Be.contentEditable==="true")&&(qs=Be,rp=z,Al=null);break;case"focusout":Al=rp=qs=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,qw(ee,u,Y);break;case"selectionchange":if(o3)break;case"keydown":case"keyup":qw(ee,u,Y)}var ve;if(Jh)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Is?Cw(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(Tw&&u.locale!=="ko"&&(Is||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Is&&(ve=ww()):(Ri=Y,Yh="value"in Ri?Ri.value:Ri.textContent,Is=!0)),Be=_f(z,Ae),0<Be.length&&(Ae=new Aw(Ae,i,null,u,Y),ee.push({event:Ae,listeners:Be}),ve?Ae.data=ve:(ve=Pw(u),ve!==null&&(Ae.data=ve)))),(ve=ZN?QN(i,u):JN(i,u))&&(Ae=_f(z,"onBeforeInput"),0<Ae.length&&(Be=new Aw("onBeforeInput","beforeinput",null,u,Y),ee.push({event:Be,listeners:Ae}),Be.data=ve)),V3(ee,i,z,u,Y)}dS(ee,s)})}function Ql(i,s,u){return{instance:i,listener:s,currentTarget:u}}function _f(i,s){for(var u=s+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=gl(i,u),g!=null&&h.unshift(Ql(i,g,y)),g=gl(i,s),g!=null&&h.push(Ql(i,g,y))),i.tag===3)return h;i=i.return}return[]}function ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pS(i,s,u,h,g){for(var y=s._reactName,E=[];u!==null&&u!==h;){var C=u,N=C.alternate,z=C.stateNode;if(C=C.tag,N!==null&&N===h)break;C!==5&&C!==26&&C!==27||z===null||(N=z,g?(z=gl(u,y),z!=null&&E.unshift(Ql(u,z,N))):g||(z=gl(u,y),z!=null&&E.push(Ql(u,z,N)))),u=u.return}E.length!==0&&i.push({event:s,listeners:E})}var G3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function mS(i){return(typeof i=="string"?i:""+i).replace(G3,`
`).replace(Y3,"")}function gS(i,s){return s=mS(s),mS(i)===s}function Sf(){}function it(i,s,u,h,g,y){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Us(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Us(i,""+h);break;case"className":jc(i,"class",h);break;case"tabIndex":jc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":jc(i,u,h);break;case"style":yw(i,h,y);break;case"data":if(s!=="object"){jc(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Pc(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&it(i,s,"name",g.name,g,null),it(i,s,"formEncType",g.formEncType,g,null),it(i,s,"formMethod",g.formMethod,g,null),it(i,s,"formTarget",g.formTarget,g,null)):(it(i,s,"encType",g.encType,g,null),it(i,s,"method",g.method,g,null),it(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Pc(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Sf);break;case"onScroll":h!=null&&Ue("scroll",i);break;case"onScrollEnd":h!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Pc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Tc(i,"popover",h);break;case"xlinkActuate":Xr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Xr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Xr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Xr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Xr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Xr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Xr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Tc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=AN.get(u)||u,Tc(i,u,h))}}function jm(i,s,u,h,g,y){switch(u){case"style":yw(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Us(i,h):(typeof h=="number"||typeof h=="bigint")&&Us(i,""+h);break;case"onScroll":h!=null&&Ue("scroll",i);break;case"onScrollEnd":h!=null&&Ue("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),s=u.slice(2,g?u.length-7:void 0),y=i[jt]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,g);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Tc(i,u,h)}}}function on(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(i,s,y,E,u,null)}}g&&it(i,s,"srcSet",u.srcSet,u,null),h&&it(i,s,"src",u.src,u,null);return;case"input":Ue("invalid",i);var C=y=E=g=null,N=null,z=null;for(h in u)if(u.hasOwnProperty(h)){var Y=u[h];if(Y!=null)switch(h){case"name":g=Y;break;case"type":E=Y;break;case"checked":N=Y;break;case"defaultChecked":z=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:it(i,s,h,Y,u,null)}}pw(i,y,C,N,z,E,g,!1),Ec(i);return;case"select":Ue("invalid",i),h=E=y=null;for(g in u)if(u.hasOwnProperty(g)&&(C=u[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":h=C;default:it(i,s,g,C,u,null)}s=y,u=E,i.multiple=!!h,s!=null?Ls(i,!!h,s,!1):u!=null&&Ls(i,!!h,u,!0);return;case"textarea":Ue("invalid",i),y=g=h=null;for(E in u)if(u.hasOwnProperty(E)&&(C=u[E],C!=null))switch(E){case"value":h=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:it(i,s,E,C,u,null)}gw(i,h,g,y),Ec(i);return;case"option":for(N in u)if(u.hasOwnProperty(N)&&(h=u[N],h!=null))switch(N){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:it(i,s,N,h,u,null)}return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(h=0;h<Zl.length;h++)Ue(Zl[h],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in u)if(u.hasOwnProperty(z)&&(h=u[z],h!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(i,s,z,h,u,null)}return;default:if(Vh(s)){for(Y in u)u.hasOwnProperty(Y)&&(h=u[Y],h!==void 0&&jm(i,s,Y,h,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(h=u[C],h!=null&&it(i,s,C,h,u,null))}function W3(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,C=null,N=null,z=null,Y=null;for(K in u){var ee=u[K];if(u.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ee;default:h.hasOwnProperty(K)||it(i,s,K,null,h,ee)}}for(var V in h){var K=h[V];if(ee=u[V],h.hasOwnProperty(V)&&(K!=null||ee!=null))switch(V){case"type":y=K;break;case"name":g=K;break;case"checked":z=K;break;case"defaultChecked":Y=K;break;case"value":E=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ee&&it(i,s,V,K,h,ee)}}Ih(i,E,C,N,z,Y,y,g);return;case"select":K=E=C=V=null;for(y in u)if(N=u[y],u.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":K=N;default:h.hasOwnProperty(y)||it(i,s,y,null,h,N)}for(g in h)if(y=h[g],N=u[g],h.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==N&&it(i,s,g,y,h,N)}s=C,u=E,h=K,V!=null?Ls(i,!!u,V,!1):!!h!=!!u&&(s!=null?Ls(i,!!u,s,!0):Ls(i,!!u,u?[]:"",!1));return;case"textarea":K=V=null;for(C in u)if(g=u[C],u.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:it(i,s,C,null,h,g)}for(E in h)if(g=h[E],y=u[E],h.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":V=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&it(i,s,E,g,h,y)}mw(i,V,K);return;case"option":for(var je in u)if(V=u[je],u.hasOwnProperty(je)&&V!=null&&!h.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:it(i,s,je,null,h,V)}for(N in h)if(V=h[N],K=u[N],h.hasOwnProperty(N)&&V!==K&&(V!=null||K!=null))switch(N){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:it(i,s,N,V,h,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in u)V=u[Se],u.hasOwnProperty(Se)&&V!=null&&!h.hasOwnProperty(Se)&&it(i,s,Se,null,h,V);for(z in h)if(V=h[z],K=u[z],h.hasOwnProperty(z)&&V!==K&&(V!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:it(i,s,z,V,h,K)}return;default:if(Vh(s)){for(var at in u)V=u[at],u.hasOwnProperty(at)&&V!==void 0&&!h.hasOwnProperty(at)&&jm(i,s,at,void 0,h,V);for(Y in h)V=h[Y],K=u[Y],!h.hasOwnProperty(Y)||V===K||V===void 0&&K===void 0||jm(i,s,Y,V,h,K);return}}for(var U in u)V=u[U],u.hasOwnProperty(U)&&V!=null&&!h.hasOwnProperty(U)&&it(i,s,U,null,h,V);for(ee in h)V=h[ee],K=u[ee],!h.hasOwnProperty(ee)||V===K||V==null&&K==null||it(i,s,ee,V,h,K)}var Em=null,Cm=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function vS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Pm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function X3(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,Z3=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,Q3=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(i){return xS.resolve(null).then(i).catch(J3)}:bS;function J3(i){setTimeout(function(){throw i})}function Xi(i){return i==="head"}function wS(i,s){var u=s,h=0,g=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<h&&8>h){u=h;var E=i.ownerDocument;if(u&1&&Jl(E.documentElement),u&2&&Jl(E.body),u&4)for(u=E.head,Jl(u),E=u.firstChild;E;){var C=E.nextSibling,N=E.nodeName;E[Nr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}}if(g===0){i.removeChild(y),ou(s);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=y}while(u);ou(s)}function Dm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Dm(u),ki(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function eB(i,s,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Nr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Or(i.nextSibling),i===null)break}return null}function tB(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Or(i.nextSibling),i===null))return null;return i}function km(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nB(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Or(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Rm=null;function _S(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function SS(i,s,u){switch(s=Af(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Jl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ki(i)}var lr=new Map,AS=new Set;function Of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ci=G.d;G.d={f:rB,r:iB,D:aB,C:sB,L:oB,m:lB,X:cB,S:uB,M:fB};function rB(){var i=ci.f(),s=gf();return i||s}function iB(i){var s=Br(i);s!==null&&s.tag===5&&s.type==="form"?K_(s):ci.r(i)}var po=typeof document>"u"?null:document;function OS(i,s,u){var h=po;if(h&&typeof s=="string"&&s){var g=tr(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),AS.has(g)||(AS.add(g),i={rel:i,crossOrigin:u,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),on(s,"link",i),kt(s),h.head.appendChild(s)))}}function aB(i){ci.D(i),OS("dns-prefetch",i,null)}function sB(i,s){ci.C(i,s),OS("preconnect",i,s)}function oB(i,s,u){ci.L(i,s,u);var h=po;if(h&&i&&s){var g='link[rel="preload"][as="'+tr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+tr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+tr(u.imageSizes)+'"]')):g+='[href="'+tr(i)+'"]';var y=g;switch(s){case"style":y=mo(i);break;case"script":y=go(i)}lr.has(y)||(i=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),lr.set(y,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(eu(y))||s==="script"&&h.querySelector(tu(y))||(s=h.createElement("link"),on(s,"link",i),kt(s),h.head.appendChild(s)))}}function lB(i,s){ci.m(i,s);var u=po;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+tr(h)+'"][href="'+tr(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=go(i)}if(!lr.has(y)&&(i=p({rel:"modulepreload",href:i},s),lr.set(y,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(tu(y)))return}h=u.createElement("link"),on(h,"link",i),kt(h),u.head.appendChild(h)}}}function uB(i,s,u){ci.S(i,s,u);var h=po;if(h&&i){var g=_r(h).hoistableStyles,y=mo(i);s=s||"default";var E=g.get(y);if(!E){var C={loading:0,preload:null};if(E=h.querySelector(eu(y)))C.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},u),(u=lr.get(y))&&Nm(i,u);var N=E=h.createElement("link");kt(N),on(N,"link",i),N._p=new Promise(function(z,Y){N.onload=z,N.onerror=Y}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Tf(E,s,h)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(y,E)}}}function cB(i,s){ci.X(i,s);var u=po;if(u&&i){var h=_r(u).hoistableScripts,g=go(i),y=h.get(g);y||(y=u.querySelector(tu(g)),y||(i=p({src:i,async:!0},s),(s=lr.get(g))&&Bm(i,s),y=u.createElement("script"),kt(y),on(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function fB(i,s){ci.M(i,s);var u=po;if(u&&i){var h=_r(u).hoistableScripts,g=go(i),y=h.get(g);y||(y=u.querySelector(tu(g)),y||(i=p({src:i,async:!0,type:"module"},s),(s=lr.get(g))&&Bm(i,s),y=u.createElement("script"),kt(y),on(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function TS(i,s,u,h){var g=(g=Oe.current)?Of(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=mo(u.href),u=_r(g).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=mo(u.href);var y=_r(g).hoistableStyles,E=y.get(i);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=g.querySelector(eu(i)))&&!y._p&&(E.instance=y,E.state.loading=5),lr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},lr.set(i,u),y||dB(g,i,u,E.state))),s&&h===null)throw Error(r(528,""));return E}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=go(u),u=_r(g).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mo(i){return'href="'+tr(i)+'"'}function eu(i){return'link[rel="stylesheet"]['+i+"]"}function jS(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function dB(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),on(s,"link",u),kt(s),i.head.appendChild(s))}function go(i){return'[src="'+tr(i)+'"]'}function tu(i){return"script[async]"+i}function ES(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+tr(u.href)+'"]');if(h)return s.instance=h,kt(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),kt(h),on(h,"style",g),Tf(h,u.precedence,i),s.instance=h;case"stylesheet":g=mo(u.href);var y=i.querySelector(eu(g));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;h=jS(u),(g=lr.get(g))&&Nm(h,g),y=(i.ownerDocument||i).createElement("link"),kt(y);var E=y;return E._p=new Promise(function(C,N){E.onload=C,E.onerror=N}),on(y,"link",h),s.state.loading|=4,Tf(y,u.precedence,i),s.instance=y;case"script":return y=go(u.src),(g=i.querySelector(tu(y)))?(s.instance=g,kt(g),g):(h=u,(g=lr.get(y))&&(h=p({},u),Bm(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),kt(g),on(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Tf(h,u.precedence,i));return s.instance}function Tf(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,E=0;E<h.length;E++){var C=h[E];if(C.dataset.precedence===s)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Nm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Bm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jf=null;function CS(i,s,u){if(jf===null){var h=new Map,g=jf=new Map;g.set(u,h)}else g=jf,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var y=u[g];if(!(y[Nr]||y[ht]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var C=h.get(E);C?C.push(y):h.set(E,[y])}}return h}function PS(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function hB(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function MS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nu=null;function pB(){}function mB(i,s,u){if(nu===null)throw Error(r(475));var h=nu;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=mo(u.href),y=i.querySelector(eu(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Ef.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=y,kt(y);return}y=i.ownerDocument||i,u=jS(u),(g=lr.get(g))&&Nm(u,g),y=y.createElement("link"),kt(y);var E=y;E._p=new Promise(function(C,N){E.onload=C,E.onerror=N}),on(y,"link",u),s.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Ef.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function gB(){if(nu===null)throw Error(r(475));var i=nu;return i.stylesheets&&i.count===0&&Lm(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Lm(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Ef(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function Lm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,s.forEach(vB,i),Cf=null,Ef.call(i))}function vB(i,s){if(!(s.state.loading&4)){var u=Cf.get(i);if(u)var h=u.get(null);else{u=new Map,Cf.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),h=E)}h&&u.set(null,h)}g=s.instance,E=g.getAttribute("data-precedence"),y=u.get(E)||h,y===h&&u.set(null,g),u.set(E,g),this.count++,h=Ef.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var ru={$$typeof:j,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function yB(i,s,u,h,g,y,E,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.hiddenUpdates=ae(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function DS(i,s,u,h,g,y,E,C,N,z,Y,ee){return i=new yB(i,s,u,E,C,N,z,ee),s=1,y===!0&&(s|=24),y=Ln(3,null,null,s),i.current=y,y.stateNode=i,s=yp(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:s},_p(y),i}function kS(i){return i?(i=Fs,i):Fs}function RS(i,s,u,h,g,y){g=kS(g),h.context===null?h.context=g:h.pendingContext=g,h=Li(s),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=Ui(i,h,s),u!==null&&(qn(u,i,s),kl(u,i,s))}function NS(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Um(i,s){NS(i,s),(i=i.alternate)&&NS(i,s)}function BS(i){if(i.tag===13){var s=Hs(i,67108864);s!==null&&qn(s,i,67108864),Um(i,67108864)}}var Pf=!0;function bB(i,s,u,h){var g=q.T;q.T=null;var y=G.p;try{G.p=2,$m(i,s,u,h)}finally{G.p=y,q.T=g}}function xB(i,s,u,h){var g=q.T;q.T=null;var y=G.p;try{G.p=8,$m(i,s,u,h)}finally{G.p=y,q.T=g}}function $m(i,s,u,h){if(Pf){var g=zm(h);if(g===null)Tm(i,s,h,Mf,u),US(i,h);else if(_B(g,i,s,u,h))h.stopPropagation();else if(US(i,h),s&4&&-1<wB.indexOf(i)){for(;g!==null;){var y=Br(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Rr(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var N=1<<31-xn(E);C.entanglements[1]|=N,E&=~N}Ir(y),(Ze&6)===0&&(pf=xt()+500,Xl(0))}}break;case 13:C=Hs(y,2),C!==null&&qn(C,y,2),gf(),Um(y,2)}if(y=zm(h),y===null&&Tm(i,s,h,Mf,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else Tm(i,s,h,null,u)}}function zm(i){return i=Hh(i),Im(i)}var Mf=null;function Im(i){if(Mf=null,i=Nn(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Mf=i,null}function LS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case wc:return 2;case _c:return 8;case Cs:case Rh:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var qm=!1,Zi=null,Qi=null,Ji=null,iu=new Map,au=new Map,ea=[],wB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function US(i,s){switch(i){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":iu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function su(i,s,u,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Br(s),s!==null&&BS(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function _B(i,s,u,h,g){switch(s){case"focusin":return Zi=su(Zi,i,s,u,h,g),!0;case"dragenter":return Qi=su(Qi,i,s,u,h,g),!0;case"mouseover":return Ji=su(Ji,i,s,u,h,g),!0;case"pointerover":var y=g.pointerId;return iu.set(y,su(iu.get(y)||null,i,s,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,au.set(y,su(au.get(y)||null,i,s,u,h,g)),!0}return!1}function $S(i){var s=Nn(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Ye(i.priority,function(){if(u.tag===13){var h=In();h=Te(h);var g=Hs(u,h);g!==null&&qn(g,u,h),Um(u,h)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Df(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=zm(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Kh=h,u.target.dispatchEvent(h),Kh=null}else return s=Br(u),s!==null&&BS(s),i.blockedOn=u,!1;s.shift()}return!0}function zS(i,s,u){Df(i)&&u.delete(s)}function SB(){qm=!1,Zi!==null&&Df(Zi)&&(Zi=null),Qi!==null&&Df(Qi)&&(Qi=null),Ji!==null&&Df(Ji)&&(Ji=null),iu.forEach(zS),au.forEach(zS)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,qm||(qm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SB)))}var Rf=null;function IS(i){Rf!==i&&(Rf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rf===i&&(Rf=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(Im(h||u)===null)continue;break}var y=Br(u);y!==null&&(i.splice(s,3),s-=3,Ip(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function ou(i){function s(N){return kf(N,i)}Zi!==null&&kf(Zi,i),Qi!==null&&kf(Qi,i),Ji!==null&&kf(Ji,i),iu.forEach(s),au.forEach(s);for(var u=0;u<ea.length;u++){var h=ea[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ea.length&&(u=ea[0],u.blockedOn===null);)$S(u),u.blockedOn===null&&ea.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],E=g[jt]||null;if(typeof y=="function")E||IS(u);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[jt]||null)C=E.formAction;else if(Im(g)!==null)continue}else C=E.action;typeof C=="function"?u[h+1]=C:(u.splice(h,3),h-=3),IS(u)}}}function Vm(i){this._internalRoot=i}Nf.prototype.render=Vm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=In();RS(u,h,i,s,null,null)},Nf.prototype.unmount=Vm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;RS(i.current,2,null,i,null,null),gf(),s[Jn]=null}};function Nf(i){this._internalRoot=i}Nf.prototype.unstable_scheduleHydration=function(i){if(i){var s=ye();i={blockedOn:null,target:i,priority:s};for(var u=0;u<ea.length&&s!==0&&s<ea[u].priority;u++);ea.splice(u,0,i),u===0&&$S(i)}};var qS=t.version;if(qS!=="19.1.0")throw Error(r(527,qS,"19.1.0"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var AB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Aa=Bf.inject(AB),bn=Bf}catch{}}return uu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,h="",g=i1,y=a1,E=s1,C=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=DS(i,1,!1,null,null,u,h,g,y,E,C,null),i[Jn]=s.current,Om(i),new Vm(s)},uu.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var h=!1,g="",y=i1,E=a1,C=s1,N=null,z=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(N=u.unstable_transitionCallbacks),u.formState!==void 0&&(z=u.formState)),s=DS(i,1,!0,s,u??null,h,g,y,E,C,N,z),s.context=kS(null),u=s.current,h=In(),h=Te(h),g=Li(h),g.callback=null,Ui(u,g,h),u=h,s.current.lanes=u,Pe(s,u),Ir(s),i[Jn]=s.current,Om(i),new Nf(s)},uu.version="19.1.0",uu}var QS;function RB(){if(QS)return Fm.exports;QS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fm.exports=kB(),Fm.exports}var NB=RB();const BB="modulepreload",LB=function(e){return"/"+e},JS={},mi=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=d(n.map(p=>{if(p=LB(p),p in JS)return;JS[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":BB,m||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((x,S)=>{b.addEventListener("load",x),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},VC=A.forwardRef(({isDrawing:e,activeShapePoints:t,currentLayer:n,isPlacingObject:r,onDrawingStateChange:a,onBuildingClick:o,onObjectPositionSelect:l},c)=>{const f=A.useRef(null),d=A.useRef(null),p=A.useRef(null),m=A.useRef([]),v=A.useRef([]),b=A.useRef(!1),x=A.useRef(null),S=A.useRef(null);A.useImperativeHandle(c,()=>({viewer:d.current,getActivePoints:()=>v.current,displayBuildings:T=>{d.current&&!d.current.isDestroyed()&&console.log("מוכן להציג בניינים שמורים")},startDrawing:()=>{console.log("=== STARTING DRAWING ==="),b.current=!0,v.current=[],m.current=[],d.current&&d.current.entities.removeAll(),a(!0,[],null,null,"Click to add points. Right-click to finish."),a(!0,[],null,null,"לחץ להוספת נקודות. לחיצה ימנית לסיום.")},finishDrawing:()=>{console.log("Finishing drawing with points:",v.current.length),v.current.length>=3&&_()},cancelDrawing:()=>{console.log("Canceling drawing..."),b.current=!1,d.current&&d.current.entities.removeAll(),m.current=[],v.current=[],x.current=null,S.current=null,a(!1,[],null,null,"Drawing cancelled. Click 'Start Drawing' to begin."),a(!1,[],null,null,"הציור בוטל. לחץ על 'התחל ציור' כדי להתחיל.")},clearAll:()=>{console.log("Clearing all..."),d.current&&d.current.entities.removeAll(),m.current=[],v.current=[],x.current=null,S.current=null,b.current=!1},hasCompletedPolygon:()=>v.current.length>=3&&!b.current,add3DModel:T=>{if(d.current&&!d.current.isDestroyed()&&T.file_url){const j=window.Cesium.Cartesian3.fromDegrees(T.longitude,T.latitude,T.height||0),M=window.Cesium.Math.toRadians(T.rotation.y),P=window.Cesium.Math.toRadians(T.rotation.x),k=window.Cesium.Math.toRadians(T.rotation.z),R=window.Cesium.Transforms.headingPitchRollQuaternion(j,new window.Cesium.HeadingPitchRoll(M,P,k)),D=d.current.entities.add({position:j,orientation:R,model:{uri:T.file_url,scale:new window.Cesium.Cartesian3(T.scale.x,T.scale.y,T.scale.z)}});console.log("Added 3D model to the scene:",D)}}}));const _=()=>{if(console.log("=== TERMINATING SHAPE (RIGHT-CLICK) ==="),console.log("Points before termination:",v.current.length),v.current.length<3){console.log("Not enough points to create shape");return}const T=[...v.current];if(console.log("✅ Completed points stored:",T.length),b.current=!1,S.current&&d.current&&(d.current.entities.remove(S.current),S.current=null),x.current&&d.current&&(d.current.entities.remove(x.current),x.current=null),d.current){const M=d.current.entities.add({id:"completed-polygon",polygon:{hierarchy:new window.Cesium.PolygonHierarchy(T),material:window.Cesium.Color.BLUE.withAlpha(.3),outline:!0,outlineColor:window.Cesium.Color.BLUE,extrudedHeight:0}});console.log("Final polygon created:",M)}console.log("✅ Points preserved in activePointsRef:",v.current.length);const j=`מתאר הושלם עם ${T.length} נקודות. הכנס פקודת AI ולחץ על "צור בניין".`;console.log("✅ Calling onDrawingStateChange with:",T.length,"points"),a(!1,T,null,null,j),console.log("=== SHAPE TERMINATED SUCCESSFULLY ===")},O=T=>{if(!d.current)return;const j=d.current;T.length<2||x.current||(x.current=j.entities.add({polygon:{hierarchy:new window.Cesium.CallbackProperty(()=>new window.Cesium.PolygonHierarchy(T),!1),material:window.Cesium.Color.YELLOW.withAlpha(.3),outline:!0,outlineColor:window.Cesium.Color.YELLOW}}))};return A.useEffect(()=>{if(!f.current)return;console.log("Initializing Cesium viewer..."),window.Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI4MWJmN2FlOC0wZjQ2LTRlMTUtYTExYS04YzMyYWVjNmUyNzMiLCJpZCI6MjI1NDgxLCJpYXQiOjE3NDA4MzE1Mzd9.o7sSlzZ3eyDevQejh5Q3zxlVpHfM4vX-49UTlwoCJkw";const T=new window.Cesium.Viewer(f.current,{imageryProvider:new window.Cesium.UrlTemplateImageryProvider({url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",subdomains:["a","b","c"],credit:new window.Cesium.Credit('<a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',!1)}),infoBox:!1,selectionIndicator:!1,shouldAnimate:!0,terrainProvider:new window.Cesium.EllipsoidTerrainProvider});d.current=T,console.log("Cesium viewer created"),(async()=>{try{if(!T||T.isDestroyed())return;const P=await window.Cesium.createOsmBuildingsAsync();if(!T||T.isDestroyed()||(T.scene.primitives.add(P),P.style=new window.Cesium.Cesium3DTileStyle({color:{conditions:[["Number(${height}) >= 100",'color("#FFC107")'],["Number(${height}) >= 50",'color("#FF9800")'],["Number(${height}) >= 25",'color("#FF5722")'],["Number(${height}) >= 10",'color("#F44336")'],["true",'color("#BDBDBD")']]}}),!T||T.isDestroyed()))return;await T.camera.flyTo({destination:window.Cesium.Cartesian3.fromDegrees(34.7818,32.0853,2500),orientation:{heading:window.Cesium.Math.toRadians(0),pitch:window.Cesium.Math.toRadians(-45)}}),console.log("Scene initialized successfully")}catch(P){console.error("Failed to load scene assets: ",P)}})();const M=new window.Cesium.ScreenSpaceEventHandler(T.canvas);return p.current=M,M.setInputAction(P=>{if(console.log("🖱️ Left click detected"),console.log("- isDrawing:",b.current),console.log("- isPlacingObject:",r),r){console.log("🎯 Processing object placement click");const k=T.camera.pickEllipsoid(P.position,T.scene.globe.ellipsoid);if(window.Cesium.defined(k)){const R=window.Cesium.Cartographic.fromCartesian(k),D=window.Cesium.Math.toDegrees(R.longitude),I=window.Cesium.Math.toDegrees(R.latitude),J=R.height;console.log("✅ Position calculated:",{longitude:D,latitude:I,height:J}),l?(console.log("📞 Calling onObjectPositionSelect"),l({longitude:D,latitude:I,height:J})):console.error("❌ onObjectPositionSelect is not defined")}else console.log("❌ Could not calculate earth position");return}if(b.current){const k=T.camera.pickEllipsoid(P.position,T.scene.globe.ellipsoid);if(window.Cesium.defined(k)){console.log("Adding point at:",k),v.current.push(k),console.log("Total points now:",v.current.length);const R=T.entities.add({position:k,point:{color:window.Cesium.Color.YELLOW,pixelSize:12,outlineColor:window.Cesium.Color.BLACK,outlineWidth:2,heightReference:window.Cesium.HeightReference.CLAMP_TO_GROUND,disableDepthTestDistance:Number.POSITIVE_INFINITY}});m.current.push(R),O(v.current);const D=`נוספה נקודה ${v.current.length}. ${v.current.length>=3?"לחיצה ימנית לסיום.":"המשך להוסיף נקודות."}`;a(!0,[...v.current],null,null,D)}}if(!r&&!b.current){const k=T.scene.pick(P.position);if(console.log("Picked object:",k),window.Cesium.defined(k)&&window.Cesium.defined(k.id)){const R=k.id;console.log("Clicked entity:",R.id,"isBuilding:",R.isBuilding);const D={x:P.position.x,y:P.position.y};R.isBuilding?(console.log("Clicked on building:",R.id),o(R,D)):R.parent&&R.parent.isBuilding?(console.log("Clicked on floor, parent building:",R.parent.id),o(R.parent,D)):R.id&&R.id.includes("building-")&&(console.log("Clicked on building entity:",R.id),o(R,D))}}},window.Cesium.ScreenSpaceEventType.LEFT_CLICK),M.setInputAction(P=>{console.log("Right click - isDrawing:",b.current,"points:",v.current.length),b.current&&v.current.length>=3&&(console.log("Terminating shape via right click"),_())},window.Cesium.ScreenSpaceEventType.RIGHT_CLICK),M.setInputAction(P=>{if(b.current&&v.current.length>0){const k=T.camera.pickEllipsoid(P.endPosition,T.scene.globe.ellipsoid);window.Cesium.defined(k)&&(S.current?S.current.position=k:S.current=T.entities.add({position:k,point:{color:window.Cesium.Color.YELLOW.withAlpha(.7),pixelSize:8,heightReference:window.Cesium.HeightReference.CLAMP_TO_GROUND}}))}},window.Cesium.ScreenSpaceEventType.MOUSE_MOVE),()=>{console.log("Cleaning up Cesium viewer..."),p.current&&(p.current.destroy(),p.current=null),d.current&&(d.current.destroy(),d.current=null)}},[]),A.useEffect(()=>{if(d.current&&!d.current.isDestroyed()){const T=M=>{switch(M){case"aerial":return new window.Cesium.IonImageryProvider({assetId:2});case"f4":return new window.Cesium.UrlTemplateImageryProvider({url:"https://tile.f4map.com/tiles/f4_2d/{z}/{x}/{y}.png",credit:new window.Cesium.Credit("F4 Map",!1)});default:return new window.Cesium.UrlTemplateImageryProvider({url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",subdomains:["a","b","c"],credit:new window.Cesium.Credit('<a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',!1)})}},j=d.current;j.imageryLayers.removeAll(),j.imageryLayers.addImageryProvider(T(n))}},[n]),w.jsx("div",{ref:f,id:"cesiumContainer"})});VC.displayName="CesiumViewer";const UB=({isDrawing:e,statusMessage:t,aiCommand:n,onAiCommandChange:r,onStartDrawing:a,onCreateBuilding:o,canCreate:l,onToggle:c})=>{const[f,d]=A.useState(!1);return w.jsxs("div",{id:"ai-controls",className:f?"minimized":"",children:[w.jsxs("div",{className:"panel-header",children:[w.jsx("h3",{children:"🏗️ יוצר בניינים חכם"}),w.jsxs("div",{className:"panel-controls",children:[w.jsx("button",{className:"panel-btn minimize-btn",onClick:()=>d(!f),title:f?"הרחב":"הקטן",children:"▼"}),w.jsx("button",{className:"panel-btn",onClick:()=>c&&c(!1),title:"הסתר",children:"✕"})]})]}),w.jsxs("div",{className:"panel-content",children:[w.jsx("button",{id:"draw-button",className:e?"drawing":"",onClick:a,children:e?"סיים ציור":"התחל ציור"}),w.jsx("p",{id:"status-message",children:t}),w.jsx("input",{type:"text",id:"ai-command",placeholder:"לדוגמה: 'תעשה אותו בגובה 15 קומות'",value:n,onChange:p=>r(p.target.value)}),w.jsx("button",{id:"create-button",disabled:!l,onClick:o,children:"צור בניין"})]})]})},$B=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class S0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class zB extends S0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eA extends S0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tA extends S0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jv||(Jv={}));var IB=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};class qB{constructor(t,{headers:n={},customFetch:r,region:a=Jv.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=$B(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return IB(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=n;let c={},{region:f}=n;f||(f=this.region);const d=new URL(`${this.url}/${t}`);f&&f!=="any"&&(c["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(c["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(c["Content-Type"]="application/json",p=JSON.stringify(l)));const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:p}).catch(S=>{throw new zB(S)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new eA(m);if(!m.ok)throw new tA(m);let b=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield m.json():b==="application/octet-stream"?x=yield m.blob():b==="text/event-stream"?x=m:b==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof tA||a instanceof eA?a.context:void 0}}})}}var Xt={},vo={},yo={},bo={},xo={},wo={},VB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qo=VB();const KB=qo.fetch,KC=qo.fetch.bind(qo),HC=qo.Headers,HB=qo.Request,FB=qo.Response,rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:HC,Request:HB,Response:FB,default:KC,fetch:KB},Symbol.toStringTag,{value:"Module"})),GB=TB(rl);var Lf={},nA;function FC(){if(nA)return Lf;nA=1,Object.defineProperty(Lf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Lf.default=e,Lf}var rA;function GC(){if(rA)return wo;rA=1;var e=wo&&wo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(GB),n=e(FC());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,m,v;let b=null,x=null,S=null,_=d.status,O=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=P:x=JSON.parse(P))}const j=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),M=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");j&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,_=406,O="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const j=await d.text();try{b=JSON.parse(j),Array.isArray(b)&&d.status===404&&(x=[],b=null,_=200,O="OK")}catch{d.status===404&&j===""?(_=204,O="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,_=200,O="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:x,count:S,status:_,statusText:O}});return this.shouldThrowOnError||(f=f.catch(d=>{var p,m,v;return{error:{message:`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=d?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return wo.default=r,wo}var iA;function YC(){if(iA)return xo;iA=1;var e=xo&&xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(GC());class n extends t.default{select(a){let o=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(d,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var p;const m=[a?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${v}"; options=${m};`,d==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xo.default=n,xo}var aA;function A0(){if(aA)return bo;aA=1;var e=bo&&bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(YC());class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return bo.default=n,bo}var sA;function WC(){if(sA)return yo;sA=1;var e=yo&&yo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(A0());class n{constructor(a,{headers:o={},schema:l,fetch:c}){this.url=a,this.headers=o,this.schema=l,this.fetch=c}select(a,{head:o=!1,count:l}={}){const c=o?"HEAD":"GET";let f=!1;const d=(a??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",d),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const d=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){const d="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),f||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(a)){const m=a.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yo.default=n,yo}var cu={},fu={},oA;function YB(){return oA||(oA=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.version=void 0,fu.version="0.0.0-automated"),fu}var lA;function WB(){if(lA)return cu;lA=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.DEFAULT_HEADERS=void 0;const e=YB();return cu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},cu}var uA;function XB(){if(uA)return vo;uA=1;var e=vo&&vo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(WC()),n=e(A0()),r=WB();class a{constructor(l,{headers:c={},schema:f,fetch:d}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=d}from(l){const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:d=!1,count:p}={}){let m;const v=new URL(`${this.url}/rpc/${l}`);let b;f||d?(m=f?"HEAD":"GET",Object.entries(c).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{v.searchParams.append(S,_)})):(m="POST",b=c);const x=Object.assign({},this.headers);return p&&(x.Prefer=`count=${p}`),new n.default({method:m,url:v,headers:x,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return vo.default=a,vo}var cA;function ZB(){if(cA)return Xt;cA=1;var e=Xt&&Xt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const t=e(XB());Xt.PostgrestClient=t.default;const n=e(WC());Xt.PostgrestQueryBuilder=n.default;const r=e(A0());Xt.PostgrestFilterBuilder=r.default;const a=e(YC());Xt.PostgrestTransformBuilder=a.default;const o=e(GC());Xt.PostgrestBuilder=o.default;const l=e(FC());return Xt.PostgrestError=l.default,Xt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},Xt}var QB=ZB();const JB=Wr(QB),{PostgrestClient:eL,PostgrestQueryBuilder:Tee,PostgrestFilterBuilder:jee,PostgrestTransformBuilder:Eee,PostgrestBuilder:Cee,PostgrestError:Pee}=JB;function tL(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const nL=tL(),rL="2.11.15",iL=`realtime-js/${rL}`,aL="1.0.0",XC=1e4,sL=1e3;var Ou;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ou||(Ou={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var Er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Er||(Er={}));var ey;(function(e){e.websocket="websocket"})(ey||(ey={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class oL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+a));l=l+a;const f=r.decode(t.slice(l,l+o));l=l+o;const d=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:f,payload:d}}}class ZC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const fA=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=lL(l,e,t,a),o),{})},lL=(e,t,n,r)=>{const a=t.find(c=>c.name===e),o=a?.type,l=n[e];return o&&!r.includes(o)?QC(o,l):ty(l)},QC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dL(t,n)}switch(e){case ct.bool:return uL(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return cL(t);case ct.json:case ct.jsonb:return fL(t);case ct.timestamp:return hL(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return ty(t);default:return ty(t)}},ty=e=>e,uL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>QC(t,c))}return e},hL=e=>typeof e=="string"?e.replace(" ","T"):e,JC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xm{constructor(t,n,r={},a=XC){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dA||(dA={}));class Tu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tu.syncState(this.state,a,o,l),this.pendingDiffs.forEach(f=>{this.state=Tu.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Tu.syncDiff(this.state,a,o,l),c())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const o=this.cloneDeep(t),l=this.transformState(n),c={},f={};return this.map(o,(d,p)=>{l[d]||(f[d]=p)}),this.map(l,(d,p)=>{const m=o[d];if(m){const v=p.map(_=>_.presence_ref),b=m.map(_=>_.presence_ref),x=p.filter(_=>b.indexOf(_.presence_ref)<0),S=m.filter(_=>v.indexOf(_.presence_ref)<0);x.length>0&&(c[d]=x),S.length>0&&(f[d]=S)}else c[d]=p}),this.syncDiff(o,{joins:c,leaves:f},r,a)}static syncDiff(t,n,r,a){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(c,f)=>{var d;const p=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(f),p.length>0){const m=t[c].map(b=>b.presence_ref),v=p.filter(b=>m.indexOf(b.presence_ref)<0);t[c].unshift(...v)}r(c,p,f)}),this.map(l,(c,f)=>{let d=t[c];if(!d)return;const p=f.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=d,a(c,d,f),d.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hA||(hA={}));var pA;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pA||(pA={}));var di;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class O0{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xm(this,Er.join,this.params,this.timeout),this.rejoinTimer=new ZC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Tu(this),this.broadcastEndpointURL=JC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params;this._onError(p=>t?.(di.CHANNEL_ERROR,p)),this._onClose(()=>t?.(di.CLOSED));const f={},d={broadcast:o,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t?.(di.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(m=v?.length)!==null&&m!==void 0?m:0,x=[];for(let S=0;S<b;S++){const _=v[S],{filter:{event:O,schema:T,table:j,filter:M}}=_,P=p&&p[S];if(P&&P.event===O&&P.schema===T&&P.table===j&&P.filter===M)x.push(Object.assign(Object.assign({},_),{id:P.id}));else{this.unsubscribe(),this.state=pn.errored,t?.(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(di.SUBSCRIBED);return}}).receive("error",p=>{this.state=pn.errored,t?.(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Xm(this,Er.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xm(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,o;const l=t.toLocaleLowerCase(),{close:c,error:f,leave:d,join:p}=Er;if(r&&[c,f,d,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,S,_;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var x,S,_,O,T,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const M=b.id,P=(x=b.filter)===null||x===void 0?void 0:x.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&(P==="*"||P?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(T=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:S,table:_,commit_timestamp:O,type:T,errors:j}=x;v=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:O,eventType:T,new:{},old:{},errors:j}),this._getPayloadRecords(x))}b.callback(v,r)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&O0.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Er.close,{},t)}_onError(t){this._on(Er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fA(t.columns,t.old_record)),n}}const mA=()=>{},pL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mL{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=XC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mA,this.ref=0,this.logger=mA,this.conn=null,this.sendBuffer=[],this.serializer=new oL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>mi(async()=>{const{default:f}=await Promise.resolve().then(()=>rl);return{default:f}},void 0).then(({default:f})=>f(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${ey.websocket}`,this.httpEndpoint=JC(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ZC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=nL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aL}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ou.connecting:return Ja.Connecting;case Ou.open:return Ja.Open;case Ou.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new O0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:a,ref:o}=t,l=()=>{this.encode(t,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:iL};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Er.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:o,ref:l}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(a,o,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([pL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class T0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gL extends T0{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ny extends T0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var vL=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};const eP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yL=()=>vL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mi(()=>Promise.resolve().then(()=>rl),void 0)).Response:Response}),ry=e=>{if(Array.isArray(e))return e.map(n=>ry(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=ry(r)}),t};var ws=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};const Zm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bL=(e,t,n)=>ws(void 0,void 0,void 0,function*(){const r=yield yL();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new gL(Zm(a),e.status||500))}).catch(a=>{t(new ny(Zm(a),a))}):t(new ny(Zm(e),e))}),xL=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function ec(e,t,n,r,a,o){return ws(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,xL(t,r,a,o)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>bL(f,c,r))})})}function cd(e,t,n,r){return ws(this,void 0,void 0,function*(){return ec(e,"GET",t,n,r)})}function oa(e,t,n,r,a){return ws(this,void 0,void 0,function*(){return ec(e,"POST",t,r,a,n)})}function wL(e,t,n,r,a){return ws(this,void 0,void 0,function*(){return ec(e,"PUT",t,r,a,n)})}function _L(e,t,n,r){return ws(this,void 0,void 0,function*(){return ec(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tP(e,t,n,r,a){return ws(this,void 0,void 0,function*(){return ec(e,"DELETE",t,r,a,n)})}var Pn=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};const SL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AL{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=eP(a)}uploadOrUpdate(t,n,r,a){return Pn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},gA),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const d=this._removeEmptyFolders(n),p=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:c},l?.duplex?{duplex:l.duplex}:{})),v=yield m.json();return m.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(Zt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Pn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:gA.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:f,headers:p}),v=yield m.json();return m.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(f){if(Zt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const o=yield oa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new T0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Pn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield oa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Pn(this,void 0,void 0,function*(){try{const a=yield oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}download(t,n){return Pn(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield cd(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Zt(c))return{data:null,error:c};throw c}})}info(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield cd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ry(r),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}exists(t){return Pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield _L(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Zt(r)&&r instanceof ny){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield tP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},SL),n),{prefix:t||""});return{data:yield oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const OL="2.7.1",TL={"X-Client-Info":`storage-js/${OL}`};var _o=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};class jL{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},TL),n),this.fetch=eP(r)}listBuckets(){return _o(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Zt(t))return{data:null,error:t};throw t}})}getBucket(t){return _o(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return _o(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return _o(this,void 0,void 0,function*(){try{return{data:yield wL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return _o(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _o(this,void 0,void 0,function*(){try{return{data:yield tP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}}class EL extends jL{constructor(t,n={},r){super(t,n,r)}from(t){return new AL(this.url,this.headers,t,this.fetch)}}const CL="2.52.1";let wu="";typeof Deno<"u"?wu="deno":typeof document<"u"?wu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wu="react-native":wu="node";const PL={"X-Client-Info":`supabase-js-${wu}/${CL}`},ML={headers:PL},DL={schema:"public"},kL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RL={};var NL=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};const BL=e=>{let t;return e?t=e:typeof fetch>"u"?t=KC:t=fetch,(...n)=>t(...n)},LL=()=>typeof Headers>"u"?HC:Headers,UL=(e,t,n)=>{const r=BL(n),a=LL();return(o,l)=>NL(void 0,void 0,void 0,function*(){var c;const f=(c=yield t())!==null&&c!==void 0?c:e;let d=new a(l?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:d}))})};var $L=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};function zL(e){return e.endsWith("/")?e:e+"/"}function IL(e,t){var n,r;const{db:a,auth:o,realtime:l,global:c}=e,{db:f,auth:d,realtime:p,global:m}=t,v={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$L(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const nP="2.71.1",Po=30*1e3,iy=3,Qm=iy*Po,qL="http://localhost:9999",VL="supabase.auth.token",KL={"X-Client-Info":`gotrue-js/${nP}`},ay="X-Supabase-Api-Version",rP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FL=600*1e3;class j0 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GL extends j0{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YL(e){return De(e)&&e.name==="AuthApiError"}class iP extends j0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ya extends j0{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class aa extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WL(e){return De(e)&&e.name==="AuthSessionMissingError"}class Uf extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $f extends ya{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zf extends ya{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XL(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class vA extends ya{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sy extends ya{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jm(e){return De(e)&&e.name==="AuthRetryableFetchError"}class yA extends ya{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class oy extends ya{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bA=` 	
\r=`.split(""),ZL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bA.length;t+=1)e[bA[t].charCodeAt(0)]=-2;for(let t=0;t<fd.length;t+=1)e[fd[t].charCodeAt(0)]=t;return e})();function xA(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fd[r]),t.queuedBits-=6}}function aP(e,t,n){const r=ZL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wA(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{eU(l,r,n)};for(let l=0;l<e.length;l+=1)aP(e.charCodeAt(l),a,o);return t.join("")}function QL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}QL(r,t)}}function eU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function tU(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)aP(e.charCodeAt(a),n,r);return new Uint8Array(t)}function nU(e){const t=[];return JL(e,n=>t.push(n)),new Uint8Array(t)}function rU(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>xA(a,n,r)),xA(null,n,r),t.join("")}function iU(e){return Math.round(Date.now()/1e3)+e}function aU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tr=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},sP=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function sU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const oP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mi(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},na=async(e,t)=>{await e.removeItem(t)};class Zd{constructor(){this.promise=new Zd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zd.promiseConstructor=Promise;function eg(e){const t=e.split(".");if(t.length!==3)throw new oy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HL.test(t[r]))throw new oy("JWT not in base64url format");return{header:JSON.parse(wA(t[0])),payload:JSON.parse(wA(t[1])),signature:tU(t[2]),raw:{header:t[0],payload:t[1]}}}async function lU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uU(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){a(l);return}}})()})}function cU(e){return("0"+e.toString(16)).substr(-2)}function fU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,cU).join("")}async function dU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function hU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(e,t,n=!1){const r=fU();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,a);const o=await hU(r);return[o,r===o?"plain":"s256"]}const pU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mU(e){const t=e.headers.get(ay);if(!t||!t.match(pU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(e){if(!yU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _A(e){return JSON.parse(JSON.stringify(e))}var bU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ya=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xU=[502,503,504];async function SA(e){var t;if(!oU(e))throw new sy(Ya(e),0);if(xU.includes(e.status))throw new sy(Ya(e),e.status);let n;try{n=await e.json()}catch(o){throw new iP(Ya(o),o)}let r;const a=mU(e);if(a&&a.getTime()>=rP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yA(Ya(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new aa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new yA(Ya(n),e.status,n.weak_password.reasons);throw new GL(Ya(n),e.status||500,r)}const wU=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function $e(e,t,n,r){var a;const o=Object.assign({},r?.headers);o[ay]||(o[ay]=rP["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await _U(e,t,n+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function _U(e,t,n,r,a,o){const l=wU(t,r,a,o);let c;try{c=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new sy(Ya(f),0)}if(c.ok||await SA(c),r?.noResolveJson)return c;try{return await c.json()}catch(f){await SA(f)}}function fi(e){var t;let n=null;TU(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function AA(e){const t=fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ca(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SU(e){return{data:e,error:null}}function AU(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=e,l=bU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function OU(e){return e}function TU(e){return e.access_token&&e.refresh_token&&e.expires_in}const ng=["global","local","others"];var jU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class EU{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=oP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ng[0]){if(ng.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ca})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jU(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:AU,redirectTo:n?.redirectTo})}catch(n){if(De(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ca})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,o,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:OU});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);d[`${_}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(De(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ao(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ca})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ao(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ca})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ao(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ca})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ao(t.userId);try{const{data:n,error:r}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ao(t.userId),Ao(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}function OA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function CU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oo={debug:!!(globalThis&&sP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class PU extends lP{}async function MU(e,t,n){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new PU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CU();const DU={url:qL,storageKey:VL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TA(e,t,n){return await n()}const To={};class Nu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nu.nextInstanceID,Nu.nextInstanceID+=1,this.instanceID>0&&Tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},DU),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new EU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=oP(a.fetch),this.lock=a.lock||TA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Tr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=MU:this.lock=TA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:sP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=OA(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=OA(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Tr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XL(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return De(n)?{error:n}:{error:new iP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:fi}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,a;try{let o;if("email"in t){const{email:p,password:m,options:v}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await So(this.storage,this.storageKey)),o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:x},xform:fi})}else if("phone"in t){const{phone:p,password:m,options:v}=t;o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:fi})}else throw new $f("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AA})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:AA})}else throw new $f("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Uf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,o,l,c,f,d,p,m,v,b;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:_,wallet:O,statement:T,options:j}=t;let M;if(Tr())if(typeof O=="object")M=O;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))M=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=O}const P=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const k=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let R;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")R=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)R=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)x=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),S=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(a=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=j?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((m=(p=j?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...j.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const k=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=k}}try{const{data:_,error:O}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:rU(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fi});if(O)throw O;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Uf}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:O})}catch(_){if(De(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Fa(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:o,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fi});if(await na(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Uf}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(De(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:o,nonce:l}=t,c=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:fi}),{data:f,error:d}=c;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Uf}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,o,l;try{if("email"in t){const{email:c,options:f}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await So(this.storage,this.storageKey));const{error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:f}=t,{data:d,error:p}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:p}}throw new $f("You must provide either an email or phone number.")}catch(c){if(De(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:fi});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await So(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:SU})}catch(o){if(De(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new aa;const{error:a}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:l}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:l,error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new $f("You must provide either an email or phone number and a type")}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Fa(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=tg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,d,p)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,p))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ca}):await this._useSession(async n=>{var r,a,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:ca})})}catch(n){if(De(n))return WL(n)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new aa;const l=a.session;let c=null,f=null;this.flowType==="pkce"&&t.email!=null&&([c,f]=await So(this.storage,this.storageKey));const{data:d,error:p}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:ca});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const n=Date.now()/1e3;let r=n,a=!0,o=null;const{payload:l}=eg(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:c,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(De(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new aa;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Tr())throw new zf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vA("No code detected.");const{data:T,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=t;if(!o||!c||!l||!d)throw new zf("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let v=p+m;f&&(v=parseInt(f));const b=v-p;b*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const x=v-m;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,p);const{data:S,error:_}=await this._getUser(o);if(_)throw _;const O={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:v,refresh_token:l,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(r){if(De(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(YL(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await So(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(De(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var l,c,f,d,p;const{data:m,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Tr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(De(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:l}=n;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uU(async a=>(a>0&&await lU(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fi})),(a,o)=>{const l=200*Math.pow(2,a);return o&&Jm(o)&&Date.now()+l-r<Po})}catch(r){if(this._debug(n,"error",r),De(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Tr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Fa(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Mo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:tg()}else if(a&&!a.user&&!a.user){const l=await Fa(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await na(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,a)):a.user=tg()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Qm}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Jm(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zd;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new aa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),De(o)){const l={session:null,error:o};return Jm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=_A(a);await Mo(this.storage,this.storageKey,o)}else{const a=_A(n);await Mo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Po}ms, refresh threshold is ${iy} ticks`),a<=iy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await So(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:d}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=eg(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+FL>a)return r;const{data:o,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,r=o.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return{data:null,error:x};r=b.session.access_token}const{header:a,payload:o,signature:l,raw:{header:c,payload:f}}=eg(r);n?.allowExpired||gU(o.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:a,signature:l},error:null}}const p=vU(a.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,nU(`${c}.${f}`)))throw new oy("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}Nu.nextInstanceID=0;const kU=Nu;class RU extends kU{constructor(t){super(t)}}var NU=function(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((r=r.apply(e,t||[])).next())})};class BU{constructor(t,n,r){var a,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=zL(t),f=new URL(c);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:DL,realtime:RL,auth:Object.assign(Object.assign({},kL),{storageKey:d}),global:ML},m=IL(r??{},p);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=UL(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new eL(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new qB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return NU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:o,flowType:l,lock:c,debug:f},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RU({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LU=(e,t,n)=>new BU(e,t,n);function UU(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $U="https://mmlbiteaqwtgxnicwjok.supabase.co",zU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1tbGJpdGVhcXd0Z3huaWN3am9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2ODQzOTUsImV4cCI6MjA2ODI2MDM5NX0.TcM_shzT58QHOrRjbogNu_mm97fya3k4iq_MlgaCuy0",we=LU($U,zU),Do={async saveBuilding(e,t,n=null,r="",a=0,o=[]){try{if(console.log("Saving building:",{buildingId:e,data:t,geometryPoints:n,aiCommand:r,height:a}),!e)throw new Error("Building ID is required");if(!n||n.length<3)throw new Error("Valid geometry points are required (minimum 3 points)");const l={wkt:t.wkt||"",full_addres_q:t.full_addres_q||"",street_cod:t.street_cod||"",bldg_num:t.bldg_num||"",bldg_type:t.bldg_type||"",num_floors:t.num_floors||"",street_c_1:t.street_c_1||"",bldg_num_2:t.bldg_num_2||"",street_is_tama:t.street_is_tama||"",no_floors:t.no_floors||"",no_apt:t.no_apt||"",st_code:t.st_code||"",street_1:t.street_1||"",color:t.color||"",מיון_2:t.מיון_2||"",masadcolor2:t.masadcolor2||"",color_sofi:t.color_sofi||"",full_addresse:t.full_addresse||"",mi_address:t.mi_address||"",codeapp:t.codeapp||"",weblink:t.weblink||""},c={id:e,...l,geometry_points:n,ai_command:r,height:Number(a)||0,floor_colors:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Final building data to save:",c);const{data:f,error:d}=await we.from("buildings").upsert(c).select().single();if(d)throw d;return console.log("Building saved successfully:",f),{success:!0,data:f}}catch(l){return console.error("Error saving building:",l),{success:!1,error:l.message}}},async getBuilding(e){try{const{data:t,error:n}=await we.from("buildings").select("*").eq("id",e).single();if(n&&n.code!=="PGRST116")throw n;return{success:!0,data:t}}catch(t){return console.error("Error getting building:",t),{success:!1,error:t.message}}},async getAllBuildings(){try{const{data:e,error:t}=await we.from("buildings").select("*").order("created_at",{ascending:!1});if(t)throw t;return{success:!0,data:e}}catch(e){return console.error("Error getting buildings:",e),{success:!1,error:e.message}}},async deleteBuilding(e){try{const{error:t}=await we.from("buildings").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting building:",t),{success:!1,error:t.message}}}},IU=({buildingId:e,onClose:t,onSave:n})=>{const[r,a]=A.useState({wkt:"",full_addres_q:"",street_cod:"",bldg_num:"",bldg_type:"",num_floors:"",street_c_1:"",bldg_num_2:"",street_is_tama:"",no_floors:"",no_apt:"",st_code:"",street_1:"",color:"",מיון_2:"",masadcolor2:"",color_sofi:"",full_addresse:"",mi_address:"",codeapp:"",height:"",ai_command:"",floor_colors:[],geometry_points:[],transparency:.9,הערכת_מחיר_שמאי:"",ערך_משוער_לפי_מאפייני_סביבה:"",מחיר_ממוצע_למטר:"",צרכים_ציבוריים:"",שיוך_לרשות:"",weblink:""}),[o,l]=A.useState(!1);A.useEffect(()=>{e&&c()},[e]);const c=async()=>{l(!0);try{const S=await Do.getBuilding(e);if(S.success&&S.data){const _={};Object.keys(r).forEach(O=>{O==="floor_colors"?_[O]=Array.isArray(S.data[O])?S.data[O]:[]:O==="geometry_points"?_[O]=Array.isArray(S.data[O])?S.data[O]:[]:O==="transparency"?_[O]=.9:_[O]=S.data[O]!=null?S.data[O]:""}),a(_)}}catch(S){console.error("Error loading building data:",S)}finally{l(!1)}},f=S=>{const{name:_,value:O}=S.target;if(a(T=>({...T,[_]:O})),_==="transparency"&&n){const T=parseFloat(O);n(`שקיפות עודכנה ל-${Math.round(T*100)}%`,!1,T,!0)}},d=(S,_)=>{const O=[...r.floor_colors||[]];O[S]=_,a(T=>({...T,floor_colors:O}))},p=()=>{const S=parseInt(r.num_floors)||parseInt(r.no_floors)||0,_=r.floor_colors||[],O=Math.max(S,_.length,1);if(O===0){console.log("No floors detected for gradient generation");return}const T=[];for(let j=0;j<O;j++){const M=j/Math.max(1,O-1),P=.15-M*.4,k=.7-M*.3,R=.8+M*.2,D=v(P,k,R),I=b(D.r,D.g,D.b);T.push(I)}a(j=>({...j,floor_colors:T}))},m=()=>{const S=parseInt(r.num_floors)||parseInt(r.no_floors)||0,_=r.floor_colors||[],O=Math.max(S,_.length,1);if(O===0){console.log("No floors detected for color reset");return}const T=Array(O).fill("#4CAF50");a(j=>({...j,floor_colors:T}))},v=(S,_,O)=>{let T,j,M;if(_===0)T=j=M=O;else{const P=(D,I,J)=>(J<0&&(J+=1),J>1&&(J-=1),J<.16666666666666666?D+(I-D)*6*J:J<.5?I:J<.6666666666666666?D+(I-D)*(.6666666666666666-J)*6:D),k=O<.5?O*(1+_):O+_-O*_,R=2*O-k;T=P(R,k,S+1/3),j=P(R,k,S),M=P(R,k,S-1/3)}return{r:Math.round(T*255),g:Math.round(j*255),b:Math.round(M*255)}},b=(S,_,O)=>"#"+((1<<24)+(S<<16)+(_<<8)+O).toString(16).slice(1),x=async()=>{l(!0);try{console.log("🔍 Saving building data:",r),console.log("🔗 Weblink value:",r.weblink);const S=await Do.saveBuilding(e,r,r.geometry_points,r.ai_command,parseFloat(r.height)||0,r.floor_colors);S.success?(console.log("✅ Building saved successfully:",S.data),n&&n("נתוני הבניין נשמרו בהצלחה!",!0,parseFloat(r.transparency)||.9),t()):(console.error("Error saving building:",S.error),n&&n(`שגיאה בשמירת נתוני הבניין: ${S.error}`))}catch(S){console.error("Error saving building data:",S),n&&n(`שגיאה בשמירת נתוני הבניין: ${S.message}`)}finally{l(!1)}};return w.jsxs("div",{id:"data-form-modal",children:[w.jsx("h3",{children:"פרטי הבניין"}),w.jsx("div",{id:"data-form-container",children:w.jsx("form",{id:"building-data-form",children:w.jsxs("div",{className:"form-grid",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"full_addres_q",children:"כתובת מלאה"}),w.jsx("input",{type:"text",id:"full_addres_q",name:"full_addres_q",value:r.full_addres_q,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"bldg_num",children:"מספר בניין"}),w.jsx("input",{type:"text",id:"bldg_num",name:"bldg_num",value:r.bldg_num,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"bldg_type",children:"סוג בניין"}),w.jsx("input",{type:"text",id:"bldg_type",name:"bldg_type",value:r.bldg_type,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"num_floors",children:"מספר קומות"}),w.jsx("input",{type:"text",id:"num_floors",name:"num_floors",value:r.num_floors,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"street_1",children:"רחוב"}),w.jsx("input",{type:"text",id:"street_1",name:"street_1",value:r.street_1,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"no_apt",children:"מספר דירות"}),w.jsx("input",{type:"text",id:"no_apt",name:"no_apt",value:r.no_apt,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"height",children:"גובה (מטר)"}),w.jsx("input",{type:"number",id:"height",name:"height",value:r.height,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"ai_command",children:"פקודת AI"}),w.jsx("input",{type:"text",id:"ai_command",name:"ai_command",value:r.ai_command,onChange:f})]}),w.jsxs("div",{children:[w.jsxs("label",{htmlFor:"transparency",children:["שקיפות (",Math.round(r.transparency*100),"%)"]}),w.jsx("input",{type:"range",id:"transparency",name:"transparency",min:"0.1",max:"1.0",step:"0.1",value:r.transparency,onChange:f,style:{width:"100%",marginTop:"5px"}})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"הערכת_מחיר_שמאי",children:"הערכת מחיר שמאי"}),w.jsx("input",{type:"text",id:"הערכת_מחיר_שמאי",name:"הערכת_מחיר_שמאי",value:r.הערכת_מחיר_שמאי,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"ערך_משוער_לפי_מאפייני_סביבה",children:"ערך משוער לפי מאפייני סביבה"}),w.jsx("input",{type:"text",id:"ערך_משוער_לפי_מאפייני_סביבה",name:"ערך_משוער_לפי_מאפייני_סביבה",value:r.ערך_משוער_לפי_מאפייני_סביבה,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"מחיר_ממוצע_למטר",children:"מחיר ממוצע למטר"}),w.jsx("input",{type:"text",id:"מחיר_ממוצע_למטר",name:"מחיר_ממוצע_למטר",value:r.מחיר_ממוצע_למטר,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"צרכים_ציבוריים",children:"צרכים ציבוריים"}),w.jsx("input",{type:"text",id:"צרכים_ציבוריים",name:"צרכים_ציבוריים",value:r.צרכים_ציבוריים,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"שיוך_לרשות",children:"שיוך לרשות"}),w.jsx("input",{type:"text",id:"שיוך_לרשות",name:"שיוך_לרשות",value:r.שיוך_לרשות,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"street_is_tama",children:'רחוב תמ"א'}),w.jsx("input",{type:"text",id:"street_is_tama",name:"street_is_tama",value:r.street_is_tama,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"color",children:"צבע"}),w.jsx("input",{type:"text",id:"color",name:"color",value:r.color,onChange:f})]}),w.jsxs("div",{style:{gridColumn:"1 / -1"},children:[w.jsx("label",{htmlFor:"weblink",children:"קישור אמבדד (iframe)"}),w.jsx("input",{type:"url",id:"weblink",name:"weblink",value:r.weblink,onChange:f,placeholder:"https://example.com/embed...",style:{width:"100%"}})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"מיון_2",children:"מיון 2"}),w.jsx("input",{type:"text",id:"מיון_2",name:"מיון_2",value:r.מיון_2,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"masadcolor2",children:"צבע מסד 2"}),w.jsx("input",{type:"text",id:"masadcolor2",name:"masadcolor2",value:r.masadcolor2,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"color_sofi",children:"צבע סופי"}),w.jsx("input",{type:"text",id:"color_sofi",name:"color_sofi",value:r.color_sofi,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"mi_address",children:"כתובת MI"}),w.jsx("input",{type:"text",id:"mi_address",name:"mi_address",value:r.mi_address,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"codeapp",children:"קוד אפליקציה"}),w.jsx("input",{type:"text",id:"codeapp",name:"codeapp",value:r.codeapp,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"wkt",children:"WKT"}),w.jsx("input",{type:"text",id:"wkt",name:"wkt",value:r.wkt,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"street_cod",children:"קוד רחוב"}),w.jsx("input",{type:"text",id:"street_cod",name:"street_cod",value:r.street_cod,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"street_c_1",children:"רחוב C1"}),w.jsx("input",{type:"text",id:"street_c_1",name:"street_c_1",value:r.street_c_1,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"bldg_num_2",children:"מספר בניין 2"}),w.jsx("input",{type:"text",id:"bldg_num_2",name:"bldg_num_2",value:r.bldg_num_2,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"no_floors",children:"מספר קומות (נוסף)"}),w.jsx("input",{type:"text",id:"no_floors",name:"no_floors",value:r.no_floors,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"st_code",children:"קוד ST"}),w.jsx("input",{type:"text",id:"st_code",name:"st_code",value:r.st_code,onChange:f})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"full_addresse",children:"כתובת מלאה (נוסף)"}),w.jsx("input",{type:"text",id:"full_addresse",name:"full_addresse",value:r.full_addresse,onChange:f})]}),w.jsxs("div",{style:{gridColumn:"1 / -1"},children:[w.jsxs("label",{children:["צבעי קומות (",Math.max(parseInt(r.num_floors)||0,parseInt(r.no_floors)||0,r.floor_colors?.length||0)," קומות)"]}),w.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",justifyContent:"center"},children:[w.jsx("button",{type:"button",onClick:p,style:{padding:"8px 16px",backgroundColor:"#FF6B6B",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"12px"},children:"🌈 צור גרדיאנט"}),w.jsx("button",{type:"button",onClick:m,style:{padding:"8px 16px",backgroundColor:"#4ECDC4",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"12px"},children:"🔄 אפס צבעים"})]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginTop:"10px",maxHeight:"300px",overflowY:"auto",padding:"10px",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:r.floor_colors&&r.floor_colors.map((S,_)=>w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)"},children:[w.jsxs("span",{style:{fontSize:"13px",color:"#bbb",minWidth:"60px"},children:["קומה ",_+1,":"]}),w.jsx("input",{type:"color",value:S,onChange:O=>d(_,O.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer"}}),w.jsx("span",{style:{fontSize:"11px",color:"#888",fontFamily:"monospace",backgroundColor:"rgba(0,0,0,0.3)",padding:"2px 6px",borderRadius:"3px"},children:S})]},_))})]})]})})}),w.jsxs("div",{id:"data-form-buttons",children:[w.jsx("button",{id:"save-data-button",onClick:x,disabled:o,children:o?"שומר...":"שמור נתונים"}),w.jsx("button",{id:"close-form-button",onClick:t,children:"סגור"})]})]})},qU=({building:e,position:t,onEdit:n,onClose:r})=>{const[a,o]=A.useState(!1),[l,c]=A.useState("A");if(console.log("🏢 BuildingPopup - building data:",e),console.log("🔗 BuildingPopup - weblink:",e?.weblink),!e||!t)return null;const f=()=>{n(e),r()};return w.jsxs("div",{className:"building-popup",style:{left:t.x,top:t.y},children:[w.jsxs("div",{className:"popup-header",children:[w.jsx("h4",{children:"פרטי בניין"}),w.jsx("button",{className:"close-button",onClick:r,children:"×"})]}),w.jsx("div",{className:"popup-content",children:w.jsxs("div",{className:"metadata-section",children:[w.jsx("h5",{children:"📊 פרטי בניין"}),w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"כתובת:"}),w.jsx("span",{className:"popup-value",children:e.full_addres_q||e.full_addresse||"לא צוין"})]}),w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"מספר בניין:"}),w.jsx("span",{className:"popup-value",children:e.bldg_num||"לא צוין"})]}),w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"סוג בניין:"}),w.jsx("span",{className:"popup-value",children:e.bldg_type||"לא צוין"})]}),w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"קומות:"}),w.jsx("span",{className:"popup-value",children:e.num_floors||e.no_floors||"לא צוין"})]}),w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"גובה:"}),w.jsx("span",{className:"popup-value",children:e.height?`${e.height} מטר`:"לא צוין"})]}),e.ai_command&&w.jsxs("div",{className:"popup-row",children:[w.jsx("span",{className:"popup-label",children:"פקודת AI:"}),w.jsx("span",{className:"popup-value",children:e.ai_command})]})]})}),w.jsxs("div",{className:"popup-actions",children:[w.jsx("button",{className:"edit-button",onClick:f,children:"✏️ ערוך בניין"}),e.weblink&&w.jsx("button",{className:"view-plans-btn",onClick:()=>o(!0),children:"📋 צפה בתוכנית"})]}),a&&e.weblink&&w.jsx("div",{className:"embed-overlay",onClick:()=>o(!1),children:w.jsxs("div",{className:"embed-container",onClick:d=>d.stopPropagation(),children:[w.jsxs("div",{className:"embed-header",children:[w.jsxs("h3",{children:["תוכניות בניין - ",e.full_addres_q||"לא צוין"]}),w.jsx("button",{className:"embed-close-btn",onClick:()=>o(!1),children:"✕"})]}),w.jsx("iframe",{src:e.weblink,width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,title:"תוכניות בניין"})]})})]})},VU=({currentLayer:e,onLayerChange:t,onToggle:n})=>{const[r,a]=A.useState(!1),o=[{id:"osm",name:"מפת רחובות"},{id:"aerial",name:"תצלום אווירי"},{id:"f4",name:"מפת F4"}];return w.jsxs("div",{className:`layer-switcher ${r?"minimized":""}`,children:[w.jsxs("div",{className:"panel-header",children:[w.jsx("h4",{children:"🗺️ שכבות מפה"}),w.jsxs("div",{className:"panel-controls",children:[w.jsx("button",{className:"panel-btn minimize-btn",onClick:()=>a(!r),title:r?"הרחב":"הקטן",children:"▼"}),w.jsx("button",{className:"panel-btn",onClick:()=>n&&n(!1),title:"הסתר",children:"✕"})]})]}),w.jsxs("div",{className:"panel-content",children:[o.map(l=>w.jsxs("label",{className:"layer-option",children:[w.jsx("input",{type:"radio",name:"layer",value:l.id,checked:e===l.id,onChange:c=>t(c.target.value)}),w.jsx("span",{children:l.name})]},l.id)),w.jsx("div",{className:"layer-separator"}),w.jsx("h4",{children:"שכבות נוספות"}),w.jsxs("label",{className:"layer-option",children:[w.jsx("input",{type:"checkbox",name:"customBuildings",defaultChecked:!0,onChange:l=>t("customBuildings",l.target.checked)}),w.jsx("span",{children:"מבנים נוספים"})]})]})]})},es={async getCategories(){try{const{data:e,error:t}=await we.from("object_categories").select("*").order("name_he");if(t)throw t;return{success:!0,data:e}}catch(e){return console.error("Error getting categories:",e),{success:!1,error:e.message}}},async createCategory(e){try{const{data:t,error:n}=await we.from("object_categories").insert(e).select().single();if(n)throw n;return{success:!0,data:t}}catch(t){return console.error("Error creating category:",t),{success:!1,error:t.message}}},async getModelsByCategory(e){try{const{data:t,error:n}=await we.from("object_models").select(`
          *,
          object_categories (
            name,
            name_he,
            icon
          )
        `).eq("category_id",e).eq("is_active",!0).order("name_he");if(n)throw n;return{success:!0,data:t}}catch(t){return console.error("Error getting models by category:",t),{success:!1,error:t.message}}},async getAllModels(){try{const{data:e,error:t}=await we.from("object_models").select(`
          *,
          object_categories (
            name,
            name_he,
            icon
          )
        `).eq("is_active",!0).order("name_he");if(t)throw t;return{success:!0,data:e}}catch(e){return console.error("Error getting all models:",e),{success:!1,error:e.message}}},async createModel(e){try{const{data:t,error:n}=await we.from("object_models").insert(e).select().single();if(n)throw n;return{success:!0,data:t}}catch(t){return console.error("Error creating model:",t),{success:!1,error:t.message}}},async getPlacedObjects(){try{const{data:e,error:t}=await we.from("placed_objects").select(`
          *,
          object_models (
            *,
            object_categories (
              name,
              name_he,
              icon
            )
          )
        `).eq("is_visible",!0).order("created_at",{ascending:!1});if(t)throw t;return{success:!0,data:e}}catch(e){return console.error("Error getting placed objects:",e),{success:!1,error:e.message}}},async placeObject(e){try{console.log("Placing object:",e);const{data:t,error:n}=await we.from("placed_objects").insert({model_id:e.model_id,name:e.name||"Unnamed Object",position:e.position,scale:e.scale||{x:1,y:1,z:1},rotation:e.rotation||{x:0,y:0,z:0},properties:e.properties||{},is_visible:!0}).select(`
          *,
          object_models (
            *,
            object_categories (
              name,
              name_he,
              icon
            )
          )
        `).single();if(n)throw n;return console.log("Object placed successfully:",t),{success:!0,data:t}}catch(t){return console.error("Error placing object:",t),{success:!1,error:t.message}}},async updatePlacedObject(e,t){try{const{data:n,error:r}=await we.from("placed_objects").update(t).eq("id",e).select(`
          *,
          object_models (
            *,
            object_categories (
              name,
              name_he,
              icon
            )
          )
        `).single();if(r)throw r;return{success:!0,data:n}}catch(n){return console.error("Error updating placed object:",n),{success:!1,error:n.message}}},async deletePlacedObject(e){try{const{error:t}=await we.from("placed_objects").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting placed object:",t),{success:!1,error:t.message}}},async uploadModel(e,t){try{const n=Date.now(),r=t.split(".").pop(),a=t.replace(/\.[^/.]+$/,""),o=encodeURIComponent(`${n}_${a}.${r}`),{data:l,error:c}=await we.storage.from("3d-models").upload(o,e,{cacheControl:"3600",upsert:!1});if(c)throw c;const{data:f}=we.storage.from("3d-models").getPublicUrl(o);return{success:!0,data:{...l,publicUrl:f.publicUrl}}}catch(n){return console.error("Error uploading model:",n),{success:!1,error:n.message}}},async uploadThumbnail(e,t){try{const n=Date.now(),r=t.split(".").pop(),a=t.replace(/\.[^/.]+$/,""),o=encodeURIComponent(`${n}_${a}.${r}`),{data:l,error:c}=await we.storage.from("thumbnails").upload(o,e,{cacheControl:"3600",upsert:!1});if(c)throw c;const{data:f}=we.storage.from("thumbnails").getPublicUrl(o);return{success:!0,data:{...l,publicUrl:f.publicUrl}}}catch(n){return console.error("Error uploading thumbnail:",n),{success:!1,error:n.message}}},async getStorageStats(){try{const{data:e,error:t}=await we.rpc("get_storage_stats");if(t)throw t;return{success:!0,data:e}}catch(e){return console.error("Error getting storage stats:",e),{success:!1,error:e.message}}},async cleanupOrphanedFiles(){try{const{data:e,error:t}=await we.rpc("cleanup_orphaned_model_files");if(t)throw t;return{success:!0,data:{cleanedFiles:e}}}catch(e){return console.error("Error cleaning up orphaned files:",e),{success:!1,error:e.message}}},async deleteModelFile(e){try{const t=e.split("/").pop(),{error:n}=await we.storage.from("3d-models").remove([t]);if(n)throw n;return{success:!0}}catch(t){return console.error("Error deleting model file:",t),{success:!1,error:t.message}}},async deleteThumbnailFile(e){try{const t=e.split("/").pop(),{error:n}=await we.storage.from("thumbnails").remove([t]);if(n)throw n;return{success:!0}}catch(t){return console.error("Error deleting thumbnail file:",t),{success:!1,error:t.message}}}},rg=Object.freeze(Object.defineProperty({__proto__:null,objectsService:es},Symbol.toStringTag,{value:"Module"})),KU=({onClose:e})=>{const[t,n]=A.useState([]),[r,a]=A.useState({name:"",name_he:"",description:"",category_id:"",scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0}}),[o,l]=A.useState(null),[c,f]=A.useState(null),[d,p]=A.useState(!1),[m,v]=A.useState("");A.useEffect(()=>{b()},[]);const b=async()=>{const T=await es.getCategories();T.success&&n(T.data)},x=T=>{const{name:j,value:M}=T.target;if(j.includes(".")){const[P,k]=j.split(".");a(R=>({...R,[P]:{...R[P],[k]:parseFloat(M)||0}}))}else a(P=>({...P,[j]:M}))},S=(T,j)=>{const M=T.target.files[0];j==="model"?l(M):j==="thumbnail"&&f(M)},_=()=>{if(!o)return alert("אנא בחר קובץ דגם 3D"),!1;const T=o.name.toLowerCase().split(".").pop();return["glb","gltf","obj","fbx","3ds","dae"].includes(T)?o.size>50*1024*1024?(alert("קובץ הדגם גדול מדי (מקסימום 50MB)"),!1):c&&c.size>5*1024*1024?(alert("קובץ התמונה גדול מדי (מקסימום 5MB)"),!1):!0:(alert("סוג קובץ לא נתמך. אנא השתמש ב: GLB, GLTF, OBJ, FBX, 3DS, DAE"),!1)},O=async()=>{if(_()){if(!r.name||!r.name_he||!r.category_id){alert("אנא מלא את כל השדות הנדרשים");return}p(!0),v("מעלה קובץ דגם...");try{const T=`${Date.now()}_${o.name}`,j=await es.uploadModel(o,T);if(!j.success)throw new Error(`שגיאה בהעלאת הדגם: ${j.error}`);let M="";if(c){v("מעלה תמונה...");const R=`${Date.now()}_${c.name}`,D=await es.uploadThumbnail(c,R);D.success?M=D.data.publicUrl:console.warn("Failed to upload thumbnail:",D.error)}v("שומר פרטי דגם...");const P={...r,file_url:j.data.publicUrl,thumbnail_url:M,file_type:o.name.toLowerCase().split(".").pop().toUpperCase(),file_size:o.size,scale:JSON.stringify(r.scale),rotation:JSON.stringify(r.rotation)},k=await es.createModel(P);if(!k.success)throw new Error(`שגיאה בשמירת פרטי הדגם: ${k.error}`);v("הדגם הועלה בהצלחה! ✅"),a({name:"",name_he:"",description:"",category_id:"",scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0}}),l(null),f(null),setTimeout(()=>{e()},2e3)}catch(T){console.error("Upload error:",T),v(`שגיאה: ${T.message}`)}finally{p(!1)}}};return w.jsx("div",{className:"model-uploader-overlay",children:w.jsxs("div",{className:"model-uploader",children:[w.jsxs("div",{className:"uploader-header",children:[w.jsx("h3",{children:"📦 העלאת דגם 3D"}),w.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),w.jsxs("div",{className:"uploader-content",children:[w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"שם באנגלית *"}),w.jsx("input",{type:"text",name:"name",value:r.name,onChange:x,placeholder:"Playground Slide",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"שם בעברית *"}),w.jsx("input",{type:"text",name:"name_he",value:r.name_he,onChange:x,placeholder:"מגלשה",required:!0})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קטגוריה *"}),w.jsxs("select",{name:"category_id",value:r.category_id,onChange:x,required:!0,children:[w.jsx("option",{value:"",children:"בחר קטגוריה..."}),t.map(T=>w.jsxs("option",{value:T.id,children:[T.icon," ",T.name_he]},T.id))]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"תיאור"}),w.jsx("textarea",{name:"description",value:r.description,onChange:x,placeholder:"תיאור הדגם...",rows:"3"})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קנה מידה X"}),w.jsx("input",{type:"number",name:"scale.x",value:r.scale.x,onChange:x,step:"0.1",min:"0.1"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קנה מידה Y"}),w.jsx("input",{type:"number",name:"scale.y",value:r.scale.y,onChange:x,step:"0.1",min:"0.1"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קנה מידה Z"}),w.jsx("input",{type:"number",name:"scale.z",value:r.scale.z,onChange:x,step:"0.1",min:"0.1"})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"סיבוב X (מעלות)"}),w.jsx("input",{type:"number",name:"rotation.x",value:r.rotation.x,onChange:x,step:"1",min:"-360",max:"360"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"סיבוב Y (מעלות)"}),w.jsx("input",{type:"number",name:"rotation.y",value:r.rotation.y,onChange:x,step:"1",min:"-360",max:"360"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"סיבוב Z (מעלות)"}),w.jsx("input",{type:"number",name:"rotation.z",value:r.rotation.z,onChange:x,step:"1",min:"-360",max:"360"})]})]}),w.jsxs("div",{className:"file-uploads",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קובץ דגם 3D * (GLB, GLTF, OBJ, FBX, 3DS, DAE)"}),w.jsx("input",{type:"file",accept:".glb,.gltf,.obj,.fbx,.3ds,.dae",onChange:T=>S(T,"model"),required:!0}),o&&w.jsxs("div",{className:"file-info",children:["📁 ",o.name," (",(o.size/1024/1024).toFixed(2)," MB)"]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"תמונה (אופציונלי)"}),w.jsx("input",{type:"file",accept:"image/*",onChange:T=>S(T,"thumbnail")}),c&&w.jsxs("div",{className:"file-info",children:["🖼️ ",c.name," (",(c.size/1024).toFixed(0)," KB)"]})]})]}),m&&w.jsx("div",{className:"upload-progress",children:m}),w.jsxs("div",{className:"uploader-actions",children:[w.jsx("button",{className:"upload-btn",onClick:O,disabled:d||!o,children:d?"⏳ מעלה...":"📤 העלה דגם"}),w.jsx("button",{className:"cancel-btn",onClick:e,children:"ביטול"})]})]})]})})},HU=({onToggle:e,onWidgetVisibilityChange:t,widgetVisibility:n})=>{const[r,a]=A.useState(!1),[o,l]=A.useState(!1),c=(f,d)=>{t(f,d)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`admin-panel ${o?"minimized":""}`,children:[w.jsxs("div",{className:"panel-header",children:[w.jsx("h3",{children:"🔧 ניהול מערכת"}),w.jsxs("div",{className:"panel-controls",children:[w.jsx("button",{className:"panel-btn minimize-btn",onClick:()=>l(!o),title:o?"הרחב":"הקטן",children:"▼"}),w.jsx("button",{className:"panel-btn",onClick:()=>e&&e(!1),title:"הסתר",children:"✕"})]})]}),w.jsxs("div",{className:"panel-content",children:[w.jsx("button",{className:"admin-btn upload-btn",onClick:()=>a(!0),children:"📦 העלה דגם 3D"}),w.jsxs("div",{className:"widget-controls",children:[w.jsx("h4",{children:"בקרת חלונות"}),w.jsxs("label",{className:"widget-checkbox",children:[w.jsx("input",{type:"checkbox",checked:n.objectPlacer,onChange:f=>c("objectPlacer",f.target.checked)}),w.jsx("span",{children:"🎯 מציב אובייקטים"})]}),w.jsxs("label",{className:"widget-checkbox",children:[w.jsx("input",{type:"checkbox",checked:n.layerSwitcher,onChange:f=>c("layerSwitcher",f.target.checked)}),w.jsx("span",{children:"🗺️ שכבות מפה"})]}),w.jsxs("label",{className:"widget-checkbox",children:[w.jsx("input",{type:"checkbox",checked:n.plansDashboard,onChange:f=>c("plansDashboard",f.target.checked)}),w.jsx("span",{children:"🏗️ לוח תוכניות"})]}),w.jsxs("label",{className:"widget-checkbox",children:[w.jsx("input",{type:"checkbox",checked:n.publicAllocation,onChange:f=>c("publicAllocation",f.target.checked)}),w.jsx("span",{children:"🏛️ הקצאת ציבור"})]})]})]})]}),r&&w.jsx(KU,{onClose:()=>a(!1)})]})},FU=({isPlacing:e,onStartPlacing:t,onCancelPlacing:n,onObjectPlace:r,selectedPosition:a,onToggle:o})=>{const[l,c]=A.useState([]),[f,d]=A.useState([]),[p,m]=A.useState(""),[v,b]=A.useState(""),[x,S]=A.useState(""),[_,O]=A.useState(!1),[T,j]=A.useState(!1);A.useEffect(()=>{M()},[]),A.useEffect(()=>{p?P(p):(d([]),b(""))},[p]);const M=async()=>{O(!0);try{const R=await es.getCategories();R.success?c(R.data):console.error("Failed to load categories:",R.error)}catch(R){console.error("Error loading categories:",R)}finally{O(!1)}},P=async R=>{O(!0);try{const D=await es.getModelsByCategory(R);D.success?d(D.data):console.error("Failed to load models:",D.error)}catch(D){console.error("Error loading models:",D)}finally{O(!1)}},k=()=>{if(!v){alert("אנא בחר דגם לפני תחילת המיקום");return}console.log("🎯 ObjectPlacer: Starting placement for model:",v),t()};return w.jsxs("div",{className:`object-placer ${T?"minimized":""}`,id:"object-placer",children:[w.jsxs("div",{className:"panel-header",children:[w.jsx("h3",{children:"🏗️ מציב אובייקטים"}),w.jsxs("div",{className:"panel-controls",children:[w.jsx("button",{className:"panel-btn minimize-btn",onClick:()=>j(!T),title:T?"הרחב":"הקטן",children:"▼"}),w.jsx("button",{className:"panel-btn",onClick:()=>o&&o(!1),title:"הסתר",children:"✕"})]})]}),w.jsxs("div",{className:"panel-content",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"קטגוריה:"}),w.jsxs("select",{value:p,name:"category_id",onChange:R=>m(R.target.value),disabled:_,children:[w.jsx("option",{value:"",children:"בחר קטגוריה..."}),l.map(R=>w.jsxs("option",{value:R.id,children:[R.icon," ",R.name_he]},R.id))]})]}),p&&w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"דגם:"}),w.jsxs("select",{value:v,onChange:R=>b(R.target.value),name:"model_id",disabled:_,children:[w.jsx("option",{value:"",children:"בחר דגם..."}),f.map(R=>w.jsx("option",{value:R.id,children:R.name_he},R.id))]})]}),v&&w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"שם מותאם אישית (אופציונלי):"}),w.jsx("input",{type:"text",value:x,name:"objectName",onChange:R=>S(R.target.value),placeholder:"הכנס שם מותאם אישית..."})]}),w.jsx("div",{className:"button-group",children:e?w.jsx("button",{className:"cancel-placing-btn",onClick:n,children:"❌ בטל מיקום"}):w.jsx("button",{className:"start-placing-btn",onClick:k,disabled:!v||_,children:"🎯 התחל מיקום"})}),e&&w.jsxs("div",{className:"placing-status",children:["🎯 לחץ על המפה כדי למקם את האובייקט",w.jsx("br",{}),"💾 האובייקט יישמר אוטומטית במסד הנתונים"]}),_&&w.jsx("div",{className:"loading",children:"טוען..."})]})]})},E0=A.createContext({});function C0(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const P0=typeof window<"u",uP=P0?A.useLayoutEffect:A.useEffect,Qd=A.createContext(null);function M0(e,t){e.indexOf(t)===-1&&e.push(t)}function D0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const xi=(e,t,n)=>n>t?t:n<e?e:n;let k0=()=>{};const wi={},cP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fP(e){return typeof e=="object"&&e!==null}const dP=e=>/^0[^.\s]+$/u.test(e);function R0(e){let t;return()=>(t===void 0&&(t=e()),t)}const vr=e=>e,GU=(e,t)=>n=>t(e(n)),tc=(...e)=>e.reduce(GU),Bu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class N0{constructor(){this.subscriptions=[]}add(t){return M0(this.subscriptions,t),()=>D0(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=e=>e*1e3,Kr=e=>e/1e3;function hP(e,t){return t?e*(1e3/t):0}const pP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,YU=1e-7,WU=12;function XU(e,t,n,r,a){let o,l,c=0;do l=t+(n-t)/2,o=pP(l,r,a)-e,o>0?n=l:t=l;while(Math.abs(o)>YU&&++c<WU);return l}function nc(e,t,n,r){if(e===t&&n===r)return vr;const a=o=>XU(o,0,1,e,n);return o=>o===0||o===1?o:pP(a(o),t,r)}const mP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gP=e=>t=>1-e(1-t),vP=nc(.33,1.53,.69,.99),B0=gP(vP),yP=mP(B0),bP=e=>(e*=2)<1?.5*B0(e):.5*(2-Math.pow(2,-10*(e-1))),L0=e=>1-Math.sin(Math.acos(e)),xP=gP(L0),wP=mP(L0),ZU=nc(.42,0,1,1),QU=nc(0,0,.58,1),_P=nc(.42,0,.58,1),JU=e=>Array.isArray(e)&&typeof e[0]!="number",SP=e=>Array.isArray(e)&&typeof e[0]=="number",e4={linear:vr,easeIn:ZU,easeInOut:_P,easeOut:QU,circIn:L0,circInOut:wP,circOut:xP,backIn:B0,backInOut:yP,backOut:vP,anticipate:bP},t4=e=>typeof e=="string",jA=e=>{if(SP(e)){k0(e.length===4);const[t,n,r,a]=e;return nc(t,n,r,a)}else if(t4(e))return e4[e];return e},If=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function n4(e,t){let n=new Set,r=new Set,a=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(d.schedule(p),e()),p(c)}const d={schedule:(p,m=!1,v=!1)=>{const x=v&&a?n:r;return m&&l.add(p),x.has(p)||x.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(c=p,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,o&&(o=!1,d.process(p))}};return d}const r4=40;function AP(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=If.reduce((j,M)=>(j[M]=n4(o),j),{}),{setup:c,read:f,resolveKeyframes:d,preUpdate:p,update:m,preRender:v,render:b,postRender:x}=l,S=()=>{const j=wi.useManualTiming?a.timestamp:performance.now();n=!1,wi.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,r4),1)),a.timestamp=j,a.isProcessing=!0,c.process(a),f.process(a),d.process(a),p.process(a),m.process(a),v.process(a),b.process(a),x.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(S))},_=()=>{n=!0,r=!0,a.isProcessing||e(S)};return{schedule:If.reduce((j,M)=>{const P=l[M];return j[M]=(k,R=!1,D=!1)=>(n||_(),P.schedule(k,R,D)),j},{}),cancel:j=>{for(let M=0;M<If.length;M++)l[If[M]].cancel(j)},state:a,steps:l}}const{schedule:mt,cancel:pa,state:un,steps:ig}=AP(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let ad;function i4(){ad=void 0}const Dn={now:()=>(ad===void 0&&Dn.set(un.isProcessing||wi.useManualTiming?un.timestamp:performance.now()),ad),set:e=>{ad=e,queueMicrotask(i4)}},OP=e=>t=>typeof t=="string"&&t.startsWith(e),U0=OP("--"),a4=OP("var(--"),$0=e=>a4(e)?s4.test(e.split("/*")[0].trim()):!1,s4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lu={...il,transform:e=>xi(0,1,e)},qf={...il,default:1},ju=e=>Math.round(e*1e5)/1e5,z0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o4(e){return e==null}const l4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I0=(e,t)=>n=>!!(typeof n=="string"&&l4.test(n)&&n.startsWith(e)||t&&!o4(n)&&Object.prototype.hasOwnProperty.call(n,t)),TP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,o,l,c]=r.match(z0);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},u4=e=>xi(0,255,e),ag={...il,transform:e=>Math.round(u4(e))},ts={test:I0("rgb","red"),parse:TP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ag.transform(e)+", "+ag.transform(t)+", "+ag.transform(n)+", "+ju(Lu.transform(r))+")"};function c4(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:I0("#"),parse:c4,transform:ts.transform},rc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),sa=rc("deg"),Hr=rc("%"),Ee=rc("px"),f4=rc("vh"),d4=rc("vw"),EA={...Hr,parse:e=>Hr.parse(e)/100,transform:e=>Hr.transform(e*100)},ko={test:I0("hsl","hue"),parse:TP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hr.transform(ju(t))+", "+Hr.transform(ju(n))+", "+ju(Lu.transform(r))+")"},Lt={test:e=>ts.test(e)||ly.test(e)||ko.test(e),parse:e=>ts.test(e)?ts.parse(e):ko.test(e)?ko.parse(e):ly.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ts.transform(e):ko.transform(e),getAnimatableNone:e=>{const t=Lt.parse(e);return t.alpha=0,Lt.transform(t)}},h4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p4(e){return isNaN(e)&&typeof e=="string"&&(e.match(z0)?.length||0)+(e.match(h4)?.length||0)>0}const jP="number",EP="color",m4="var",g4="var(",CA="${}",v4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const c=t.replace(v4,f=>(Lt.test(f)?(r.color.push(o),a.push(EP),n.push(Lt.parse(f))):f.startsWith(g4)?(r.var.push(o),a.push(m4),n.push(f)):(r.number.push(o),a.push(jP),n.push(parseFloat(f))),++o,CA)).split(CA);return{values:n,split:c,indexes:r,types:a}}function CP(e){return Uu(e).values}function PP(e){const{split:t,types:n}=Uu(e),r=t.length;return a=>{let o="";for(let l=0;l<r;l++)if(o+=t[l],a[l]!==void 0){const c=n[l];c===jP?o+=ju(a[l]):c===EP?o+=Lt.transform(a[l]):o+=a[l]}return o}}const y4=e=>typeof e=="number"?0:Lt.test(e)?Lt.getAnimatableNone(e):e;function b4(e){const t=CP(e);return PP(e)(t.map(y4))}const ma={test:p4,parse:CP,createTransformer:PP,getAnimatableNone:b4};function sg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function x4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,o=0,l=0;if(!t)a=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,f=2*n-c;a=sg(f,c,e+1/3),o=sg(f,c,e),l=sg(f,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function dd(e,t){return n=>n>0?t:e}const bt=(e,t,n)=>e+(t-e)*n,og=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},w4=[ly,ts,ko],_4=e=>w4.find(t=>t.test(e));function PA(e){const t=_4(e);if(!t)return!1;let n=t.parse(e);return t===ko&&(n=x4(n)),n}const MA=(e,t)=>{const n=PA(e),r=PA(t);if(!n||!r)return dd(e,t);const a={...n};return o=>(a.red=og(n.red,r.red,o),a.green=og(n.green,r.green,o),a.blue=og(n.blue,r.blue,o),a.alpha=bt(n.alpha,r.alpha,o),ts.transform(a))},uy=new Set(["none","hidden"]);function S4(e,t){return uy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function A4(e,t){return n=>bt(e,t,n)}function q0(e){return typeof e=="number"?A4:typeof e=="string"?$0(e)?dd:Lt.test(e)?MA:j4:Array.isArray(e)?MP:typeof e=="object"?Lt.test(e)?MA:O4:dd}function MP(e,t){const n=[...e],r=n.length,a=e.map((o,l)=>q0(o)(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=a[l](o);return n}}function O4(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=q0(e[a])(e[a],t[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function T4(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][r[o]],c=e.values[l]??0;n[a]=c,r[o]++}return n}const j4=(e,t)=>{const n=ma.createTransformer(t),r=Uu(e),a=Uu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?uy.has(e)&&!a.values.length||uy.has(t)&&!r.values.length?S4(e,t):tc(MP(T4(r,a),a.values),n):dd(e,t)};function DP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?bt(e,t,n):q0(e)(e,t)}const E4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>mt.update(t,n),stop:()=>pa(t),now:()=>un.isProcessing?un.timestamp:Dn.now()}},kP=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},hd=2e4;function V0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hd;)t+=n,r=e.next(t);return t>=hd?1/0:t}function C4(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(V0(r),hd);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:Kr(a)}}const P4=5;function RP(e,t,n){const r=Math.max(t-P4,0);return hP(n-e(r),t-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lg=.001;function M4({duration:e=St.duration,bounce:t=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let a,o,l=1-t;l=xi(St.minDamping,St.maxDamping,l),e=xi(St.minDuration,St.maxDuration,Kr(e)),l<1?(a=d=>{const p=d*l,m=p*e,v=p-n,b=cy(d,l),x=Math.exp(-m);return lg-v/b*x},o=d=>{const m=d*l*e,v=m*n+n,b=Math.pow(l,2)*Math.pow(d,2)*e,x=Math.exp(-m),S=cy(Math.pow(d,2),l);return(-a(d)+lg>0?-1:1)*((v-b)*x)/S}):(a=d=>{const p=Math.exp(-d*e),m=(d-n)*e+1;return-lg+p*m},o=d=>{const p=Math.exp(-d*e),m=(n-d)*(e*e);return p*m});const c=5/e,f=k4(a,o,c);if(e=Vr(e),isNaN(f))return{stiffness:St.stiffness,damping:St.damping,duration:e};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:e}}}const D4=12;function k4(e,t,n){let r=n;for(let a=1;a<D4;a++)r=r-e(r)/t(r);return r}function cy(e,t){return e*Math.sqrt(1-t*t)}const R4=["duration","bounce"],N4=["stiffness","damping","mass"];function DA(e,t){return t.some(n=>e[n]!==void 0)}function B4(e){let t={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...e};if(!DA(e,N4)&&DA(e,R4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*xi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:St.mass,stiffness:a,damping:o}}else{const n=M4(e);t={...t,...n,mass:St.mass},t.isResolvedFromDuration=!0}return t}function pd(e=St.visualDuration,t=St.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:f,damping:d,mass:p,duration:m,velocity:v,isResolvedFromDuration:b}=B4({...n,velocity:-Kr(n.velocity||0)}),x=v||0,S=d/(2*Math.sqrt(f*p)),_=l-o,O=Kr(Math.sqrt(f/p)),T=Math.abs(_)<5;r||(r=T?St.restSpeed.granular:St.restSpeed.default),a||(a=T?St.restDelta.granular:St.restDelta.default);let j;if(S<1){const P=cy(O,S);j=k=>{const R=Math.exp(-S*O*k);return l-R*((x+S*O*_)/P*Math.sin(P*k)+_*Math.cos(P*k))}}else if(S===1)j=P=>l-Math.exp(-O*P)*(_+(x+O*_)*P);else{const P=O*Math.sqrt(S*S-1);j=k=>{const R=Math.exp(-S*O*k),D=Math.min(P*k,300);return l-R*((x+S*O*_)*Math.sinh(D)+P*_*Math.cosh(D))/P}}const M={calculatedDuration:b&&m||null,next:P=>{const k=j(P);if(b)c.done=P>=m;else{let R=P===0?x:0;S<1&&(R=P===0?Vr(x):RP(j,P,k));const D=Math.abs(R)<=r,I=Math.abs(l-k)<=a;c.done=D&&I}return c.value=c.done?l:k,c},toString:()=>{const P=Math.min(V0(M),hd),k=kP(R=>M.next(P*R).value,P,30);return P+"ms "+k},toTransition:()=>{}};return M}pd.applyToOptions=e=>{const t=C4(e,100,pd);return e.ease=t.ease,e.duration=Vr(t.duration),e.type="keyframes",e};function fy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:f,restDelta:d=.5,restSpeed:p}){const m=e[0],v={done:!1,value:m},b=D=>c!==void 0&&D<c||f!==void 0&&D>f,x=D=>c===void 0?f:f===void 0||Math.abs(c-D)<Math.abs(f-D)?c:f;let S=n*t;const _=m+S,O=l===void 0?_:l(_);O!==_&&(S=O-m);const T=D=>-S*Math.exp(-D/r),j=D=>O+T(D),M=D=>{const I=T(D),J=j(D);v.done=Math.abs(I)<=d,v.value=v.done?O:J};let P,k;const R=D=>{b(v.value)&&(P=D,k=pd({keyframes:[v.value,x(v.value)],velocity:RP(j,D,v.value),damping:a,stiffness:o,restDelta:d,restSpeed:p}))};return R(0),{calculatedDuration:null,next:D=>{let I=!1;return!k&&P===void 0&&(I=!0,M(D),R(D)),P!==void 0&&D>=P?k.next(D-P):(!I&&M(D),v)}}}function L4(e,t,n){const r=[],a=n||wi.mix||DP,o=e.length-1;for(let l=0;l<o;l++){let c=a(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||vr:t;c=tc(f,c)}r.push(c)}return r}function U4(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const o=e.length;if(k0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=L4(t,r,a),f=c.length,d=p=>{if(l&&p<e[0])return t[0];let m=0;if(f>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const v=Bu(e[m],e[m+1],p);return c[m](v)};return n?p=>d(xi(e[0],e[o-1],p)):d}function $4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Bu(0,t,r);e.push(bt(n,1,a))}}function z4(e){const t=[0];return $4(t,e.length-1),t}function I4(e,t){return e.map(n=>n*t)}function q4(e,t){return e.map(()=>t||_P).splice(0,e.length-1)}function Eu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=JU(r)?r.map(jA):jA(r),o={done:!1,value:t[0]},l=I4(n&&n.length===t.length?n:z4(t),e),c=U4(l,t,{ease:Array.isArray(a)?a:q4(t,a)});return{calculatedDuration:e,next:f=>(o.value=c(f),o.done=f>=e,o)}}const V4=e=>e!==null;function K0(e,{repeat:t,repeatType:n="loop"},r,a=1){const o=e.filter(V4),c=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const K4={decay:fy,inertia:fy,tween:Eu,keyframes:Eu,spring:pd};function NP(e){typeof e.type=="string"&&(e.type=K4[e.type])}class H0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const H4=e=>e/100;class F0 extends H0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;NP(t);const{type:n=Eu,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const f=n||Eu;f!==Eu&&typeof c[0]!="number"&&(this.mixKeyframes=tc(H4,DP(c[0],c[1])),c=[0,100]);const d=f({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=V0(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:m,repeatType:v,repeatDelay:b,type:x,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const O=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,M=r;if(m){const D=Math.min(this.currentTime,a)/c;let I=Math.floor(D),J=D%1;!J&&D>=1&&(J=1),J===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(v==="reverse"?(J=1-J,b&&(J-=b/c)):v==="mirror"&&(M=l)),j=xi(0,1,J)*c}const P=T?{done:!1,value:p[0]}:M.next(j);o&&(P.value=o(P.value));let{done:k}=P;!T&&f!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&x!==fy&&(P.value=K0(p,this.options,_,this.speed)),S&&S(P.value),R&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return Kr(this.calculatedDuration)}get time(){return Kr(this.currentTime)}set time(t){t=Vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Kr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=E4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function F4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ns=e=>e*180/Math.PI,dy=e=>{const t=ns(Math.atan2(e[1],e[0]));return hy(t)},G4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dy,rotateZ:dy,skewX:e=>ns(Math.atan(e[1])),skewY:e=>ns(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hy=e=>(e=e%360,e<0&&(e+=360),e),kA=dy,RA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),NA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Y4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RA,scaleY:NA,scale:e=>(RA(e)+NA(e))/2,rotateX:e=>hy(ns(Math.atan2(e[6],e[5]))),rotateY:e=>hy(ns(Math.atan2(-e[2],e[0]))),rotateZ:kA,rotate:kA,skewX:e=>ns(Math.atan(e[4])),skewY:e=>ns(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function py(e){return e.includes("scale")?1:0}function my(e,t){if(!e||e==="none")return py(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Y4,a=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G4,a=c}if(!a)return py(t);const o=r[t],l=a[1].split(",").map(X4);return typeof o=="function"?o(l):l[o]}const W4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return my(n,t)};function X4(e){return parseFloat(e.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(al),BA=e=>e===il||e===Ee,Z4=new Set(["x","y","z"]),Q4=al.filter(e=>!Z4.has(e));function J4(e){const t=[];return Q4.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ls={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>my(t,"x"),y:(e,{transform:t})=>my(t,"y")};ls.translateX=ls.x;ls.translateY=ls.y;const us=new Set;let gy=!1,vy=!1,yy=!1;function BP(){if(vy){const e=Array.from(us).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=J4(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vy=!1,gy=!1,us.forEach(e=>e.complete(yy)),us.clear()}function LP(){us.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vy=!0)})}function e$(){yy=!0,LP(),BP(),yy=!1}class G0{constructor(t,n,r,a,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(us.add(this),gy||(gy=!0,mt.read(LP),mt.resolveKeyframes(BP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const o=a?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}F4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),us.delete(this)}cancel(){this.state==="scheduled"&&(us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t$=e=>e.startsWith("--");function n$(e,t,n){t$(t)?e.style.setProperty(t,n):e.style[t]=n}const r$=R0(()=>window.ScrollTimeline!==void 0),i$={};function a$(e,t){const n=R0(e);return()=>i$[t]??n()}const UP=a$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,LA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function $P(e,t){if(e)return typeof e=="function"?UP()?kP(e,t):"ease-out":SP(e)?_u(e):Array.isArray(e)?e.map(n=>$P(n,t)||LA.easeOut):LA[e]}function s$(e,t,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:f}={},d=void 0){const p={[t]:n};f&&(p.offset=f);const m=$P(c,a);Array.isArray(m)&&(p.easing=m);const v={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),e.animate(p,v)}function zP(e){return typeof e=="function"&&"applyToOptions"in e}function o$({type:e,...t}){return zP(e)&&UP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class l$ extends H0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,k0(typeof t.type!="string");const d=o$(t);this.animation=s$(n,r,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=K0(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):n$(n,r,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kr(Number(t))}get time(){return Kr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&r$()?(this.animation.timeline=t,vr):n(this)}}const IP={anticipate:bP,backInOut:yP,circInOut:wP};function u$(e){return e in IP}function c$(e){typeof e.ease=="string"&&u$(e.ease)&&(e.ease=IP[e.ease])}const UA=10;class f$ extends l${constructor(t){c$(t),NP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new F0({...l,autoplay:!1}),f=Vr(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-UA).value,c.sample(f).value,UA),c.stop()}}const $A=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ma.test(e)||e==="0")&&!e.startsWith("url("));function d$(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function h$(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=$A(a,t),c=$A(o,t);return!l||!c?!1:d$(e)||(n==="spring"||zP(n))&&r}function by(e){e.duration=0,e.type}const p$=new Set(["opacity","clipPath","filter","transform"]),m$=R0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g$(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=t.owner.getProps();return m$()&&n&&p$.has(n)&&(n!=="transform"||!d)&&!f&&!r&&a!=="mirror"&&o!==0&&l!=="inertia"}const v$=40;class y$ extends H0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:f,motionValue:d,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const v={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:l,name:f,motionValue:d,element:p,...m},b=p?.KeyframeResolver||G0;this.keyframeResolver=new b(c,(x,S,_)=>this.onKeyframesResolved(x,S,v,!_),f,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=Dn.now(),h$(t,o,l,c)||((wi.instantAnimations||!f)&&p?.(K0(t,r,n)),t[0]=t[t.length-1],by(r),r.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>v$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!d&&g$(v)?new f$({...v,element:v.motionValue.owner.current}):new F0(v);b.finished.then(()=>this.notifyFinished()).catch(vr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),e$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x$(e){const t=b$.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function qP(e,t,n=1){const[r,a]=x$(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return cP(l)?parseFloat(l):l}return $0(a)?qP(a,t,n+1):a}function Y0(e,t){return e?.[t]??e?.default??e}const VP=new Set(["width","height","top","left","right","bottom",...al]),w$={test:e=>e==="auto",parse:e=>e},KP=e=>t=>t.test(e),HP=[il,Ee,Hr,sa,d4,f4,w$],zA=e=>HP.find(KP(e));function _$(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dP(e):!0}const S$=new Set(["brightness","contrast","saturate","opacity"]);function A$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(z0)||[];if(!r)return e;const a=n.replace(r,"");let o=S$.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+a+")"}const O$=/\b([a-z-]*)\(.*?\)/gu,xy={...ma,getAnimatableNone:e=>{const t=e.match(O$);return t?t.map(A$).join(" "):e}},IA={...il,transform:Math.round},T$={rotate:sa,rotateX:sa,rotateY:sa,rotateZ:sa,scale:qf,scaleX:qf,scaleY:qf,scaleZ:qf,skew:sa,skewX:sa,skewY:sa,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Lu,originX:EA,originY:EA,originZ:Ee},W0={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...T$,zIndex:IA,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:IA},j$={...W0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:xy,WebkitFilter:xy},FP=e=>j$[e];function GP(e,t){let n=FP(e);return n!==xy&&(n=ma),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const E$=new Set(["auto","none","0"]);function C$(e,t,n){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!E$.has(o)&&Uu(o).values.length&&(a=e[r]),r++}if(a&&n)for(const o of t)e[o]=GP(n,a)}class P$ extends G0{constructor(t,n,r,a,o){super(t,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),$0(d))){const p=qP(d,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!VP.has(r)||t.length!==2)return;const[a,o]=t,l=zA(a),c=zA(o);if(l!==c)if(BA(l)&&BA(c))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else ls[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||_$(t[a]))&&r.push(a);r.length&&C$(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ls[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=ls[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{t.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function M$(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const YP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function WP(e){return fP(e)&&"offsetHeight"in e}const qA=30,D$=e=>!isNaN(parseFloat(e));class k${constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=D$(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new N0);const r=this.events[t].add(n);return t==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qA);return hP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(e,t){return new k$(e,t)}const{schedule:X0}=AP(queueMicrotask,!1),jr={x:!1,y:!1};function XP(){return jr.x||jr.y}function R$(e){return e==="x"||e==="y"?jr[e]?null:(jr[e]=!0,()=>{jr[e]=!1}):jr.x||jr.y?null:(jr.x=jr.y=!0,()=>{jr.x=jr.y=!1})}function ZP(e,t){const n=M$(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function VA(e){return!(e.pointerType==="touch"||XP())}function N$(e,t,n={}){const[r,a,o]=ZP(e,n),l=c=>{if(!VA(c))return;const{target:f}=c,d=t(f,c);if(typeof d!="function"||!f)return;const p=m=>{VA(m)&&(d(m),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return r.forEach(c=>{c.addEventListener("pointerenter",l,a)}),o}const QP=(e,t)=>t?e===t?!0:QP(e,t.parentElement):!1,Z0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,B$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L$(e){return B$.has(e.tagName)||e.tabIndex!==-1}const sd=new WeakSet;function KA(e){return t=>{t.key==="Enter"&&e(t)}}function ug(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const U$=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=KA(()=>{if(sd.has(n))return;ug(n,"down");const a=KA(()=>{ug(n,"up")}),o=()=>ug(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function HA(e){return Z0(e)&&!XP()}function $$(e,t,n={}){const[r,a,o]=ZP(e,n),l=c=>{const f=c.currentTarget;if(!HA(c))return;sd.add(f);const d=t(f,c),p=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),sd.has(f)&&sd.delete(f),HA(b)&&typeof d=="function"&&d(b,{success:x})},m=b=>{p(b,f===window||f===document||n.useGlobalTarget||QP(f,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,a),WP(c)&&(c.addEventListener("focus",d=>U$(d,a)),!L$(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function JP(e){return fP(e)&&"ownerSVGElement"in e}function z$(e){return JP(e)&&e.tagName==="svg"}const yn=e=>!!(e&&e.getVelocity),I$=[...HP,Lt,ma],q$=e=>I$.find(KP(e)),Q0=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class V$ extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=WP(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K$({children:e,isPresent:t,anchorX:n,root:r}){const a=A.useId(),o=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=A.useContext(Q0);return A.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:m,right:v}=l.current;if(t||!o.current||!f||!d)return;const b=n==="left"?`left: ${m}`:`right: ${v}`;o.current.dataset.motionPopId=a;const x=document.createElement("style");c&&(x.nonce=c);const S=r??document.head;return S.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{S.contains(x)&&S.removeChild(x)}},[t]),w.jsx(V$,{isPresent:t,childRef:o,sizeRef:l,children:A.cloneElement(e,{ref:o})})}const H$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,root:f})=>{const d=C0(F$),p=A.useId();let m=!0,v=A.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:b=>{d.set(b,!0);for(const x of d.values())if(!x)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return o&&m&&(v={...v}),A.useMemo(()=>{d.forEach((b,x)=>d.set(x,!1))},[n]),A.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(e=w.jsx(K$,{isPresent:n,anchorX:c,root:f,children:e})),w.jsx(Qd.Provider,{value:v,children:e})};function F$(){return new Map}function eM(e=!0){const t=A.useContext(Qd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,o=A.useId();A.useEffect(()=>{if(e)return a(o)},[e]);const l=A.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,l]:[!0]}const Vf=e=>e.key||"";function FA(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const tM=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:f})=>{const[d,p]=eM(l),m=A.useMemo(()=>FA(e),[e]),v=l&&!d?[]:m.map(Vf),b=A.useRef(!0),x=A.useRef(m),S=C0(()=>new Map),[_,O]=A.useState(m),[T,j]=A.useState(m);uP(()=>{b.current=!1,x.current=m;for(let k=0;k<T.length;k++){const R=Vf(T[k]);v.includes(R)?S.delete(R):S.get(R)!==!0&&S.set(R,!1)}},[T,v.length,v.join("-")]);const M=[];if(m!==_){let k=[...m];for(let R=0;R<T.length;R++){const D=T[R],I=Vf(D);v.includes(I)||(k.splice(R,0,D),M.push(D))}return o==="wait"&&M.length&&(k=M),j(FA(k)),O(m),null}const{forceRender:P}=A.useContext(E0);return w.jsx(w.Fragment,{children:T.map(k=>{const R=Vf(k),D=l&&!d?!1:m===T||v.includes(R),I=()=>{if(S.has(R))S.set(R,!0);else return;let J=!0;S.forEach(W=>{W||(J=!1)}),J&&(P?.(),j(x.current),l&&p?.(),r&&r())};return w.jsx(H$,{isPresent:D,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:f,onExitComplete:D?void 0:I,anchorX:c,children:k},R)})})},nM=A.createContext({strict:!1}),GA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ko={};for(const e in GA)Ko[e]={isEnabled:t=>GA[e].some(n=>!!t[n])};function G$(e){for(const t in e)Ko[t]={...Ko[t],...e[t]}}const Y$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Y$.has(e)}let rM=e=>!md(e);function W$(e){typeof e=="function"&&(rM=t=>t.startsWith("on")?!md(t):e(t))}try{W$(require("@emotion/is-prop-valid").default)}catch{}function X$(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(rM(a)||n===!0&&md(a)||!t&&!md(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Jd=A.createContext({});function eh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $u(e){return typeof e=="string"||Array.isArray(e)}const J0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eb=["initial",...J0];function th(e){return eh(e.animate)||eb.some(t=>$u(e[t]))}function iM(e){return!!(th(e)||e.variants)}function Z$(e,t){if(th(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return e.inherit!==!1?t:{}}function Q$(e){const{initial:t,animate:n}=Z$(e,A.useContext(Jd));return A.useMemo(()=>({initial:t,animate:n}),[YA(t),YA(n)])}function YA(e){return Array.isArray(e)?e.join(" "):e}const zu={};function J$(e){for(const t in e)zu[t]=e[t],U0(t)&&(zu[t].isCSSVariable=!0)}function aM(e,{layout:t,layoutId:n}){return sl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zu[e]||e==="opacity")}const ez={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tz=al.length;function nz(e,t,n){let r="",a=!0;for(let o=0;o<tz;o++){const l=al[o],c=e[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const d=YP(c,W0[l]);if(!f){a=!1;const p=ez[l]||l;r+=`${p}(${d}) `}n&&(t[l]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function tb(e,t,n){const{style:r,vars:a,transformOrigin:o}=e;let l=!1,c=!1;for(const f in t){const d=t[f];if(sl.has(f)){l=!0;continue}else if(U0(f)){a[f]=d;continue}else{const p=YP(d,W0[f]);f.startsWith("origin")?(c=!0,o[f]=p):r[f]=p}}if(t.transform||(l||n?r.transform=nz(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=o;r.transformOrigin=`${f} ${d} ${p}`}}const nb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sM(e,t,n){for(const r in t)!yn(t[r])&&!aM(r,n)&&(e[r]=t[r])}function rz({transformTemplate:e},t){return A.useMemo(()=>{const n=nb();return tb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iz(e,t){const n=e.style||{},r={};return sM(r,n,e),Object.assign(r,rz(e,t)),r}function az(e,t){const n={},r=iz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sz={offset:"stroke-dashoffset",array:"stroke-dasharray"},oz={offset:"strokeDashoffset",array:"strokeDasharray"};function lz(e,t,n=1,r=0,a=!0){e.pathLength=1;const o=a?sz:oz;e[o.offset]=Ee.transform(-r);const l=Ee.transform(t),c=Ee.transform(n);e[o.array]=`${l} ${c}`}function oM(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},f,d,p){if(tb(e,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v}=e;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&lz(m,a,o,l,!1)}const lM=()=>({...nb(),attrs:{}}),uM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uz(e,t,n,r){const a=A.useMemo(()=>{const o=lM();return oM(o,t,uM(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};sM(o,e.style,e),a.style={...o,...a.style}}return a}const cz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rb(e){return typeof e!="string"||e.includes("-")?!1:!!(cz.indexOf(e)>-1||/[A-Z]/u.test(e))}function fz(e,t,n,{latestValues:r},a,o=!1){const c=(rb(e)?uz:az)(t,r,a,e),f=X$(t,typeof e=="string",o),d=e!==A.Fragment?{...f,...c,ref:n}:{},{children:p}=t,m=A.useMemo(()=>yn(p)?p.get():p,[p]);return A.createElement(e,{...d,children:m})}function WA(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ib(e,t,n,r){if(typeof t=="function"){const[a,o]=WA(r);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=WA(r);t=t(n!==void 0?n:e.custom,a,o)}return t}function od(e){return yn(e)?e.get():e}function dz({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:hz(n,r,a,e),renderState:t()}}function hz(e,t,n,r){const a={},o=r(e,{});for(const v in o)a[v]=od(o[v]);let{initial:l,animate:c}=e;const f=th(e),d=iM(e);t&&d&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const m=p?c:l;if(m&&typeof m!="boolean"&&!eh(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const x=ib(e,v[b]);if(x){const{transitionEnd:S,transition:_,...O}=x;for(const T in O){let j=O[T];if(Array.isArray(j)){const M=p?j.length-1:0;j=j[M]}j!==null&&(a[T]=j)}for(const T in S)a[T]=S[T]}}}return a}const cM=e=>(t,n)=>{const r=A.useContext(Jd),a=A.useContext(Qd),o=()=>dz(e,t,r,a);return n?o():C0(o)};function ab(e,t,n){const{style:r}=e,a={};for(const o in r)(yn(r[o])||t.style&&yn(t.style[o])||aM(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const pz=cM({scrapeMotionValuesFromProps:ab,createRenderState:nb});function fM(e,t,n){const r=ab(e,t,n);for(const a in e)if(yn(e[a])||yn(t[a])){const o=al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const mz=cM({scrapeMotionValuesFromProps:fM,createRenderState:lM}),gz=Symbol.for("motionComponentSymbol");function Ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vz(e,t,n){return A.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ro(n)&&(n.current=r))},[t])}const sb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yz="framerAppearId",dM="data-"+sb(yz),hM=A.createContext({});function bz(e,t,n,r,a){const{visualElement:o}=A.useContext(Jd),l=A.useContext(nM),c=A.useContext(Qd),f=A.useContext(Q0).reducedMotion,d=A.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,m=A.useContext(hM);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&xz(d.current,n,a,m);const v=A.useRef(!1);A.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const b=n[dM],x=A.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return uP(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),x.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),x.current=!1))}),p}function xz(e,t,n,r){const{layoutId:a,layout:o,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pM(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||c&&Ro(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function pM(e){if(e)return e.options.allowProjection!==!1?e.projection:pM(e.parent)}function cg(e,{forwardMotionProps:t=!1}={},n,r){n&&G$(n);const a=rb(e)?mz:pz;function o(c,f){let d;const p={...A.useContext(Q0),...c,layoutId:wz(c)},{isStatic:m}=p,v=Q$(c),b=a(c,m);if(!m&&P0){_z();const x=Sz(p);d=x.MeasureLayout,v.visualElement=bz(e,b,p,r,x.ProjectionNode)}return w.jsxs(Jd.Provider,{value:v,children:[d&&v.visualElement?w.jsx(d,{visualElement:v.visualElement,...p}):null,fz(e,c,vz(b,v.visualElement,f),b,m,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=A.forwardRef(o);return l[gz]=e,l}function wz({layoutId:e}){const t=A.useContext(E0).id;return t&&e!==void 0?t+"-"+e:e}function _z(e,t){A.useContext(nM).strict}function Sz(e){const{drag:t,layout:n}=Ko;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Az(e,t){if(typeof Proxy>"u")return cg;const n=new Map,r=(o,l)=>cg(o,l,e,t),a=(o,l)=>r(o,l);return new Proxy(a,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,cg(l,void 0,e,t)),n.get(l))})}function mM({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Oz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fg(e){return e===void 0||e===1}function wy({scale:e,scaleX:t,scaleY:n}){return!fg(e)||!fg(t)||!fg(n)}function Wa(e){return wy(e)||gM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gM(e){return XA(e.x)||XA(e.y)}function XA(e){return e&&e!=="0%"}function gd(e,t,n){const r=e-n,a=t*r;return n+a}function ZA(e,t,n,r,a){return a!==void 0&&(e=gd(e,a,r)),gd(e,n,r)+t}function _y(e,t=0,n=1,r,a){e.min=ZA(e.min,t,n,r,a),e.max=ZA(e.max,t,n,r,a)}function vM(e,{x:t,y:n}){_y(e.x,t.translate,t.scale,t.originPoint),_y(e.y,n.translate,n.scale,n.originPoint)}const QA=.999999999999,JA=1.0000000000001;function jz(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,l;for(let c=0;c<a;c++){o=n[c],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Bo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,vM(e,l)),r&&Wa(o.latestValues)&&Bo(e,o.latestValues))}t.x<JA&&t.x>QA&&(t.x=1),t.y<JA&&t.y>QA&&(t.y=1)}function No(e,t){e.min=e.min+t,e.max=e.max+t}function eO(e,t,n,r,a=.5){const o=bt(e.min,e.max,a);_y(e,t,n,o,r)}function Bo(e,t){eO(e.x,t.x,t.scaleX,t.scale,t.originX),eO(e.y,t.y,t.scaleY,t.scale,t.originY)}function yM(e,t){return mM(Tz(e.getBoundingClientRect(),t))}function Ez(e,t,n){const r=yM(e,n),{scroll:a}=t;return a&&(No(r.x,a.offset.x),No(r.y,a.offset.y)),r}const tO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:tO(),y:tO()}),nO=()=>({min:0,max:0}),Pt=()=>({x:nO(),y:nO()}),Sy={current:null},bM={current:!1};function Cz(){if(bM.current=!0,!!P0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sy.current=e.matches;e.addEventListener("change",t),t()}else Sy.current=!1}const Pz=new WeakMap;function Mz(e,t,n){for(const r in t){const a=t[r],o=n[r];if(yn(a))e.addValue(r,a);else if(yn(o))e.addValue(r,Vo(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,Vo(l!==void 0?l:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Dn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,mt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=th(n),this.isVariantNode=iM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const b=m[v];f[v]!==void 0&&yn(b)&&b.set(f[v])}}mount(t){this.current=t,Pz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bM.current||Cz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pa(this.notifyUpdate),pa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ko){const n=Ko[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rO.length;r++){const a=rO[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=t[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=Mz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cP(r)||dP(r))?r=parseFloat(r):!q$(r)&&ma.test(n)&&(r=GP(t,n)),this.setBaseTarget(t,yn(r)?r.get():r)),yn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=ib(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new N0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){X0.render(this.render)}}class xM extends Dz{constructor(){super(...arguments),this.KeyframeResolver=P$}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wM(e,{style:t,vars:n},r,a){const o=e.style;let l;for(l in t)o[l]=t[l];a?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function kz(e){return window.getComputedStyle(e)}class Rz extends xM{constructor(){super(...arguments),this.type="html",this.renderInstance=wM}readValueFromInstance(t,n){if(sl.has(n))return this.projection?.isProjecting?py(n):W4(t,n);{const r=kz(t),a=(U0(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yM(t,n)}build(t,n,r){tb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ab(t,n,r)}}const _M=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nz(e,t,n,r){wM(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(_M.has(a)?a:sb(a),t.attrs[a])}class Bz extends xM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sl.has(n)){const r=FP(n);return r&&r.default||0}return n=_M.has(n)?n:sb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return fM(t,n,r)}build(t,n,r){oM(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){Nz(t,n,r,a)}mount(t){this.isSVGTag=uM(t.tagName),super.mount(t)}}const Lz=(e,t)=>rb(e)?new Bz(t):new Rz(t,{allowProjection:e!==A.Fragment});function Iu(e,t,n){const r=e.getProps();return ib(r,t,n!==void 0?n:r.custom,e)}const Ay=e=>Array.isArray(e);function Uz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vo(n))}function $z(e){return Ay(e)?e[e.length-1]||0:e}function zz(e,t){const n=Iu(e,t);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const l in o){const c=$z(o[l]);Uz(e,l,c)}}function Iz(e){return!!(yn(e)&&e.add)}function Oy(e,t){const n=e.getValue("willChange");if(Iz(n))return n.add(t);if(!n&&wi.WillChange){const r=new wi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function SM(e){return e.props[dM]}const qz=e=>e!==null;function Vz(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(qz),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[o]}const Kz={type:"spring",stiffness:500,damping:25,restSpeed:10},Hz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fz={type:"keyframes",duration:.8},Gz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yz=(e,{keyframes:t})=>t.length>2?Fz:sl.has(e)?e.startsWith("scale")?Hz(t[1]):Kz:Gz;function Wz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:c,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const ob=(e,t,n,r={},a,o)=>l=>{const c=Y0(r,e)||{},f=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Vr(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:a};Wz(c)||Object.assign(p,Yz(e,p)),p.duration&&(p.duration=Vr(p.duration)),p.repeatDelay&&(p.repeatDelay=Vr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(by(p),p.delay===0&&(m=!0)),(wi.instantAnimations||wi.skipAnimations)&&(m=!0,by(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&t.get()!==void 0){const v=Vz(p.keyframes,c);if(v!==void 0){mt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new F0(p):new y$(p)};function Xz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AM(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const f=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const p in c){const m=e.getValue(p,e.latestValues[p]??null),v=c[p];if(v===void 0||d&&Xz(d,p))continue;const b={delay:n,...Y0(o||{},p)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===x&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const O=SM(e);if(O){const T=window.MotionHandoffAnimation(O,p,mt);T!==null&&(b.startTime=T,S=!0)}}Oy(e,p),m.start(ob(p,m,v,e.shouldReduceMotion&&VP.has(p)?{type:!1}:b,e,S));const _=m.animation;_&&f.push(_)}return l&&Promise.all(f).then(()=>{mt.update(()=>{l&&zz(e,l)})}),f}function Ty(e,t,n={}){const r=Iu(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(AM(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=a;return Zz(e,t,f,d,p,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[f,d]=c==="beforeChildren"?[o,l]:[l,o];return f().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function Zz(e,t,n=0,r=0,a=0,o=1,l){const c=[],f=e.variantChildren.size,d=(f-1)*a,p=typeof r=="function",m=p?v=>r(v,f):o===1?(v=0)=>v*a:(v=0)=>d-v*a;return Array.from(e.variantChildren).sort(Qz).forEach((v,b)=>{v.notify("AnimationStart",t),c.push(Ty(v,t,{...l,delay:n+(p?0:r)+m(b)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(c)}function Qz(e,t){return e.sortNodePosition(t)}function Jz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>Ty(e,o,n));r=Promise.all(a)}else if(typeof t=="string")r=Ty(e,t,n);else{const a=typeof t=="function"?Iu(e,t,n.custom):t;r=Promise.all(AM(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function OM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const eI=eb.length;function TM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?TM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<eI;n++){const r=eb[n],a=e.props[r];($u(a)||a===!1)&&(t[r]=a)}return t}const tI=[...J0].reverse(),nI=J0.length;function rI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Jz(e,n,r)))}function iI(e){let t=rI(e),n=iO(),r=!0;const a=f=>(d,p)=>{const m=Iu(e,p,f==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:b,...x}=m;d={...d,...x,...b}}return d};function o(f){t=f(e)}function l(f){const{props:d}=e,p=TM(e.parent)||{},m=[],v=new Set;let b={},x=1/0;for(let _=0;_<nI;_++){const O=tI[_],T=n[O],j=d[O]!==void 0?d[O]:p[O],M=$u(j),P=O===f?T.isActive:null;P===!1&&(x=_);let k=j===p[O]&&j!==d[O]&&M;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),T.protectedKeys={...b},!T.isActive&&P===null||!j&&!T.prevProp||eh(j)||typeof j=="boolean")continue;const R=aI(T.prevProp,j);let D=R||O===f&&T.isActive&&!k&&M||_>x&&M,I=!1;const J=Array.isArray(j)?j:[j];let W=J.reduce(a(O),{});P===!1&&(W={});const{prevResolvedValues:H={}}=T,ie={...H,...W},oe=G=>{D=!0,v.has(G)&&(I=!0,v.delete(G)),T.needsAnimating[G]=!0;const se=e.getValue(G);se&&(se.liveStyle=!1)};for(const G in ie){const se=W[G],be=H[G];if(b.hasOwnProperty(G))continue;let B=!1;Ay(se)&&Ay(be)?B=!OM(se,be):B=se!==be,B?se!=null?oe(G):v.add(G):se!==void 0&&v.has(G)?oe(G):T.protectedKeys[G]=!0}T.prevProp=j,T.prevResolvedValues=W,T.isActive&&(b={...b,...W}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(k&&R)||I)&&m.push(...J.map(G=>({animation:G,options:{type:O}})))}if(v.size){const _={};if(typeof d.initial!="boolean"){const O=Iu(e,Array.isArray(d.initial)?d.initial[0]:d.initial);O&&O.transition&&(_.transition=O.transition)}v.forEach(O=>{const T=e.getBaseTarget(O),j=e.getValue(O);j&&(j.liveStyle=!0),_[O]=T??null}),m.push({animation:_})}let S=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(m):Promise.resolve()}function c(f,d){if(n[f].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(f,d)),n[f].isActive=d;const p=l(f);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=iO(),r=!0}}}function aI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OM(t,e):!1}function Ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iO(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sI extends ba{constructor(t){super(t),t.animationState||(t.animationState=iI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let oI=0;class lI extends ba{constructor(){super(...arguments),this.id=oI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uI={animation:{Feature:sI},exit:{Feature:lI}};function qu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ic(e){return{point:{x:e.pageX,y:e.pageY}}}const cI=e=>t=>Z0(t)&&e(t,ic(t));function Cu(e,t,n,r){return qu(e,t,cI(n),r)}const jM=1e-4,fI=1-jM,dI=1+jM,EM=.01,hI=0-EM,pI=0+EM;function _n(e){return e.max-e.min}function mI(e,t,n){return Math.abs(e-t)<=n}function aO(e,t,n,r=.5){e.origin=r,e.originPoint=bt(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),e.translate=bt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=fI&&e.scale<=dI||isNaN(e.scale))&&(e.scale=1),(e.translate>=hI&&e.translate<=pI||isNaN(e.translate))&&(e.translate=0)}function Pu(e,t,n,r){aO(e.x,t.x,n.x,r?r.originX:void 0),aO(e.y,t.y,n.y,r?r.originY:void 0)}function sO(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function gI(e,t,n){sO(e.x,t.x,n.x),sO(e.y,t.y,n.y)}function oO(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function Mu(e,t,n){oO(e.x,t.x,n.x),oO(e.y,t.y,n.y)}function pr(e){return[e("x"),e("y")]}const CM=({current:e})=>e?e.ownerDocument.defaultView:null,lO=(e,t)=>Math.abs(e-t);function vI(e,t){const n=lO(e.x,t.x),r=lO(e.y,t.y);return Math.sqrt(n**2+r**2)}class PM{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=vI(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!x)return;const{point:S}=v,{timestamp:_}=un;this.history.push({...S,timestamp:_});const{onStart:O,onMove:T}=this.handlers;b||(O&&O(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=dg(b,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=hg(v.type==="pointercancel"?this.lastMoveEventInfo:dg(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,O),S&&S(v,O)},!Z0(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=a||window;const c=ic(t),f=dg(c,this.transformPagePoint),{point:d}=f,{timestamp:p}=un;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,hg(f,this.history)),this.removeListeners=tc(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pa(this.updatePoint)}}function dg(e,t){return t?{point:t(e.point)}:e}function uO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hg({point:e},t){return{point:e,delta:uO(e,MM(t)),offset:uO(e,yI(t)),velocity:bI(t,.1)}}function yI(e){return e[0]}function MM(e){return e[e.length-1]}function bI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=MM(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Vr(t)));)n--;if(!r)return{x:0,y:0};const o=Kr(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function xI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?bt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?bt(n,e,r.max):Math.min(e,n)),e}function cO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wI(e,{top:t,left:n,bottom:r,right:a}){return{x:cO(e.x,n,a),y:cO(e.y,t,r)}}function fO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function _I(e,t){return{x:fO(e.x,t.x),y:fO(e.y,t.y)}}function SI(e,t){let n=.5;const r=_n(e),a=_n(t);return a>r?n=Bu(t.min,t.max-r,e.min):r>a&&(n=Bu(e.min,e.max-a,t.min)),xi(0,1,n)}function AI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jy=.35;function OI(e=jy){return e===!1?e=0:e===!0&&(e=jy),{x:dO(e,"left","right"),y:dO(e,"top","bottom")}}function dO(e,t,n){return{min:hO(e,t),max:hO(e,n)}}function hO(e,t){return typeof e=="number"?e:e[t]||0}const TI=new WeakMap;class jI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ic(m).point)},l=(m,v)=>{const{drag:b,dragPropagation:x,onDragStart:S}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R$(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(O=>{let T=this.getAxisMotionValue(O).get()||0;if(Hr.test(T)){const{projection:j}=this.visualElement;if(j&&j.layout){const M=j.layout.layoutBox[O];M&&(T=_n(M)*(parseFloat(T)/100))}}this.originPoint[O]=T}),S&&mt.postRender(()=>S(m,v)),Oy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:S,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:O}=v;if(x&&this.currentDirection===null){this.currentDirection=EI(O),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,O),this.updateAxis("y",v.point,O),this.visualElement.render(),_&&_(m,v)},f=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>pr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PM(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:CM(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&mt.postRender(()=>c(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Kf(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=xI(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wI(r.layoutBox,t):this.constraints=!1,this.elastic=OI(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AI(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ro(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Ez(r,a.root,this.visualElement.getTransformPagePoint());let l=_I(a.layout.layoutBox,o);if(n){const c=n(Oz(l));this.hasMutatedConstraints=!!c,c&&(l=mM(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},d=pr(p=>{if(!Kf(p,n,this.currentDirection))return;let m=f&&f[p]||{};l&&(m={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:r?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,x)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Oy(this.visualElement,t),r.start(ob(t,r,0,n,this.visualElement,!1))}stopAnimation(){pr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){pr(n=>{const{drag:r}=this.getProps();if(!Kf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:c}=a.layout.layoutBox[n];o.set(t[n]-bt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ro(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();a[l]=SI({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pr(l=>{if(!Kf(l,t,null))return;const c=this.getAxisMotionValue(l),{min:f,max:d}=this.constraints[l];c.set(bt(f,d,a[l]))})}addListeners(){if(!this.visualElement.current)return;TI.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ro(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(r);const l=qu(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(pr(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=f[p].translate,m.set(m.get()+f[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=jy,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Kf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CI extends ba{constructor(t){super(t),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new jI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const pO=e=>(t,n)=>{e&&mt.postRender(()=>e(t,n))};class PI extends ba{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(t){this.session=new PM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:pO(t),onStart:pO(n),onMove:r,onEnd:(o,l)=>{delete this.session,a&&mt.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const du={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=mO(e,t.target.x),r=mO(e,t.target.y);return`${n}% ${r}%`}},MI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ma.parse(e);if(a.length>5)return r;const o=ma.createTransformer(e),l=typeof a[0]!="number"?1:0,c=n.x.scale*t.x,f=n.y.scale*t.y;a[0+l]/=c,a[1+l]/=f;const d=bt(c,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=d),typeof a[3+l]=="number"&&(a[3+l]/=d),o(a)}};let gO=!1;class DI extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;J$(kI),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),gO&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,gO=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||mt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),X0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DM(e){const[t,n]=eM(),r=A.useContext(E0);return w.jsx(DI,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(hM),isPresent:t,safeToRemove:n})}const kI={borderRadius:{...du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:du,borderTopRightRadius:du,borderBottomLeftRadius:du,borderBottomRightRadius:du,boxShadow:MI};function RI(e,t,n){const r=yn(e)?e:Vo(e);return r.start(ob("",r,t,n)),r.animation}const NI=(e,t)=>e.depth-t.depth;class BI{constructor(){this.children=[],this.isDirty=!1}add(t){M0(this.children,t),this.isDirty=!0}remove(t){D0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NI),this.isDirty=!1,this.children.forEach(t)}}function LI(e,t){const n=Dn.now(),r=({timestamp:a})=>{const o=a-n;o>=t&&(pa(r),e(o-t))};return mt.setup(r,!0),()=>pa(r)}const kM=["TopLeft","TopRight","BottomLeft","BottomRight"],UI=kM.length,vO=e=>typeof e=="string"?parseFloat(e):e,yO=e=>typeof e=="number"||Ee.test(e);function $I(e,t,n,r,a,o){a?(e.opacity=bt(0,n.opacity??1,zI(r)),e.opacityExit=bt(t.opacity??1,0,II(r))):o&&(e.opacity=bt(t.opacity??1,n.opacity??1,r));for(let l=0;l<UI;l++){const c=`border${kM[l]}Radius`;let f=bO(t,c),d=bO(n,c);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||yO(f)===yO(d)?(e[c]=Math.max(bt(vO(f),vO(d),r),0),(Hr.test(d)||Hr.test(f))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=bt(t.rotate||0,n.rotate||0,r))}function bO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zI=RM(0,.5,xP),II=RM(.5,.95,vr);function RM(e,t,n){return r=>r<e?0:r>t?1:n(Bu(e,t,r))}function xO(e,t){e.min=t.min,e.max=t.max}function ur(e,t){xO(e.x,t.x),xO(e.y,t.y)}function wO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _O(e,t,n,r,a){return e-=t,e=gd(e,1/n,r),a!==void 0&&(e=gd(e,1/a,r)),e}function qI(e,t=0,n=1,r=.5,a,o=e,l=e){if(Hr.test(t)&&(t=parseFloat(t),t=bt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=bt(o.min,o.max,r);e===o&&(c-=t),e.min=_O(e.min,t,n,c,a),e.max=_O(e.max,t,n,c,a)}function SO(e,t,[n,r,a],o,l){qI(e,t[n],t[r],t[a],t.scale,o,l)}const VI=["x","scaleX","originX"],KI=["y","scaleY","originY"];function AO(e,t,n,r){SO(e.x,t,VI,n?n.x:void 0,r?r.x:void 0),SO(e.y,t,KI,n?n.y:void 0,r?r.y:void 0)}function OO(e){return e.translate===0&&e.scale===1}function NM(e){return OO(e.x)&&OO(e.y)}function TO(e,t){return e.min===t.min&&e.max===t.max}function HI(e,t){return TO(e.x,t.x)&&TO(e.y,t.y)}function jO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BM(e,t){return jO(e.x,t.x)&&jO(e.y,t.y)}function EO(e){return _n(e.x)/_n(e.y)}function CO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FI{constructor(){this.members=[]}add(t){M0(this.members,t),t.scheduleRender()}remove(t){if(D0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GI(e,t,n){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((a||o||l)&&(r=`translate3d(${a}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:v,skewX:b,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,f=e.y.scale*t.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const pg=["","X","Y","Z"],YI=1e3;let WI=0;function mg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function LM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=SM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&LM(r)}function UM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},c=t?.()){this.id=WI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QI),this.nodes.forEach(n5),this.nodes.forEach(r5),this.nodes.forEach(JI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BI)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new N0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=JP(l)&&!z$(l),this.instance=l;const{layoutId:c,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),e){let p,m=0;const v=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{m=window.innerWidth}),e(l,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,p&&p(),p=LI(v,250),ld.hasAnimatedSinceResize&&(ld.hasAnimatedSinceResize=!1,this.nodes.forEach(DO)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||l5,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),O=!this.targetLayout||!BM(this.targetLayout,b),T=!m&&v;if(this.options.layoutRoot||this.resumeFrom||T||m&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Y0(x,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,T)}else m||DO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(t5),this.nodes.forEach(XI),this.nodes.forEach(ZI)):this.nodes.forEach(MO),this.clearAllSnapshots();const c=Dn.now();un.delta=xi(0,1e3/60,c-un.timestamp),un.timestamp=c,un.isProcessing=!0,ig.update.process(un),ig.preRender.process(un),ig.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,X0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e5),this.sharedNodes.forEach(a5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NM(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||Wa(this.latestValues)||p)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),u5(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(c5))){const{scroll:d}=this.root;d&&(No(c.x,d.offset.x),No(c.y,d.offset.y))}return c}removeElementScroll(l){const c=Pt();if(ur(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ur(c,l),No(c.x,p.offset.x),No(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const f=Pt();ur(f,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Bo(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wa(p.latestValues)&&Bo(f,p.latestValues)}return Wa(this.latestValues)&&Bo(f,this.latestValues),f}removeTransform(l){const c=Pt();ur(c,l);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Wa(d.latestValues))continue;wy(d.latestValues)&&d.updateSnapshot();const p=Pt(),m=d.measurePageBox();ur(p,m),AO(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Wa(this.latestValues)&&AO(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Mu(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),vM(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Mu(this.relativeTargetOrigin,this.target,v.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||gM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===un.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;ur(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;jz(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wO(this.prevProjectionDelta.x,this.projectionDelta.x),wO(this.prevProjectionDelta.y,this.projectionDelta.y)),Pu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!CO(this.projectionDelta.x,this.prevProjectionDelta.x)||!CO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(l,c=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},m=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Pt(),b=f?f.source:void 0,x=this.layout?this.layout.source:void 0,S=b!==x,_=this.getStack(),O=!_||_.members.length<=1,T=!!(S&&!O&&this.options.crossfade===!0&&!this.path.some(o5));this.animationProgress=0;let j;this.mixTargetDelta=M=>{const P=M/1e3;kO(m.x,l.x,P),kO(m.y,l.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s5(this.relativeTarget,this.relativeTargetOrigin,v,P),j&&HI(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Pt()),ur(j,this.relativeTarget)),S&&(this.animationValues=p,$I(p,d,this.latestValues,P,T,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vo(0)),this.currentAnimation=RI(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:d,latestValues:p}=l;if(!(!c||!f||!d)){if(this!==l&&this.layout&&d&&$M(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Pt();const m=_n(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+m;const v=_n(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+v}ur(c,f),Bo(c,p),Pu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FI),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const d={};f.z&&mg("z",l,d,this.animationValues);for(let p=0;p<pg.length;p++)mg(`rotate${pg[p]}`,l,d,this.animationValues),mg(`skew${pg[p]}`,l,d,this.animationValues);l.render();for(const p in d)l.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=od(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=od(c?.pointerEvents)||""),this.hasProjected&&!Wa(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=GI(this.projectionDeltaWithTransform,this.treeScale,p);f&&(m=f(p,m)),l.transform=m;const{x:v,y:b}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,d.animationValues?l.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in zu){if(p[x]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:O}=zu[x],T=m==="none"?p[x]:S(p[x],d);if(_){const j=_.length;for(let M=0;M<j;M++)l[_[M]]=T}else O?this.options.visualElement.renderState.vars[x]=T:l[x]=T}this.options.layoutId&&(l.pointerEvents=d===this?od(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(PO),this.root.sharedNodes.clear()}}}function XI(e){e.updateLayout()}function ZI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?pr(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=_n(m);m.min=n[p].min,m.max=m.min+v}):$M(a,t.layoutBox,n)&&pr(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=_n(n[p]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=Lo();Pu(l,n,t.layoutBox);const c=Lo();o?Pu(c,e.applyTransform(r,!0),t.measuredBox):Pu(c,n,t.layoutBox);const f=!NM(l);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const b=Pt();Mu(b,t.layoutBox,m.layoutBox);const x=Pt();Mu(x,n,v.layoutBox),BM(b,x)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function QI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function e5(e){e.clearSnapshot()}function PO(e){e.clearMeasurements()}function MO(e){e.isLayoutDirty=!1}function t5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function DO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n5(e){e.resolveTargetDelta()}function r5(e){e.calcProjection()}function i5(e){e.resetSkewAndRotation()}function a5(e){e.removeLeadSnapshot()}function kO(e,t,n){e.translate=bt(t.translate,0,n),e.scale=bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function RO(e,t,n,r){e.min=bt(t.min,n.min,r),e.max=bt(t.max,n.max,r)}function s5(e,t,n,r){RO(e.x,t.x,n.x,r),RO(e.y,t.y,n.y,r)}function o5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const l5={duration:.45,ease:[.4,0,.1,1]},NO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BO=NO("applewebkit/")&&!NO("chrome/")?Math.round:vr;function LO(e){e.min=BO(e.min),e.max=BO(e.max)}function u5(e){LO(e.x),LO(e.y)}function $M(e,t,n){return e==="position"||e==="preserve-aspect"&&!mI(EO(t),EO(n),.2)}function c5(e){return e!==e.root&&e.scroll?.wasRoot}const f5=UM({attachResizeListener:(e,t)=>qu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},zM=UM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gg.current){const e=new f5({});e.mount(window),e.setOptions({layoutScroll:!0}),gg.current=e}return gg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d5={pan:{Feature:PI},drag:{Feature:CI,ProjectionNode:zM,MeasureLayout:DM}};function UO(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&mt.postRender(()=>o(t,ic(t)))}class h5 extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=N$(t,(n,r)=>(UO(this.node,r,"Start"),a=>UO(this.node,a,"End"))))}unmount(){}}class p5 extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tc(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $O(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&mt.postRender(()=>o(t,ic(t)))}class m5 extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=$$(t,(n,r)=>($O(this.node,r,"Start"),(a,{success:o})=>$O(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ey=new WeakMap,vg=new WeakMap,g5=e=>{const t=Ey.get(e.target);t&&t(e)},v5=e=>{e.forEach(g5)};function y5({root:e,...t}){const n=e||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(v5,{root:e,...t})),r[a]}function b5(e,t,n){const r=y5(t);return Ey.set(e,n),r.observe(e),()=>{Ey.delete(e),r.unobserve(e)}}const x5={some:0,all:1};class w5 extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:x5[a]},c=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),v=d?p:m;v&&v(f)};return b5(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_5(t,n))&&this.startObserver()}unmount(){}}function _5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const S5={inView:{Feature:w5},tap:{Feature:m5},focus:{Feature:p5},hover:{Feature:h5}},A5={layout:{ProjectionNode:zM,MeasureLayout:DM}},O5={...uI,...S5,...d5,...A5},Ho=Az(O5,Lz);class IM{async getProjects(){try{const{data:t,error:n}=await we.from("projects").select("*").order("created_at",{ascending:!1});if(n)throw n;return{success:!0,data:t||[]}}catch(t){return console.error("Error getting projects:",t),{success:!1,error:t?.message||"Unknown error"}}}async createProject(t){try{const{data:n,error:r}=await we.from("projects").insert(t).select().single();if(r)throw r;return{success:!0,data:n}}catch(n){return console.error("Error creating project:",n),{success:!1,error:n?.message||"Unknown error"}}}async getPlansByProject(t){try{const{data:n,error:r}=await we.from("building_plans").select(`
          *,
          plan_metrics_summary!inner(*),
          plan_land_use(*),
          plan_buildings(*),
          plan_geometries(*),
          plan_visualizations(*)
        `).eq("project_id",t).eq("is_active",!0).order("created_date",{ascending:!1});if(r)throw r;return{success:!0,data:n?.map(o=>({...o,metrics:o.plan_metrics_summary?.[0]||{},landUse:o.plan_land_use||[],buildings:o.plan_buildings||[],geometries:o.plan_geometries||[],visualizations:o.plan_visualizations||[]}))}}catch(n){return console.error("Error getting plans:",n),{success:!1,error:n.message}}}async getPlanWithDetails(t){try{const{data:n,error:r}=await we.from("building_plans").select(`
          *,
          plan_metrics(*),
          plan_land_use(*),
          plan_buildings(*),
          plan_geometries(*),
          plan_visualizations(*),
          plan_3d_models(*)
        `).eq("id",t).single();if(r)throw r;const a=this.aggregateMetrics(n.plan_metrics||[]),o=this.calculateLandUsePercentages(n.plan_land_use||[]),l=this.calculateBuildingStatistics(n.plan_buildings||[]);return{success:!0,data:{...n,metrics:{...a,...l},landUse:o,buildings:n.plan_buildings||[],geometries:n.plan_geometries||[],visualizations:n.plan_visualizations||[]}}}catch(n){return console.error("Error getting plan details:",n),{success:!1,error:n.message}}}async createPlan(t){try{const{data:n,error:r}=await we.from("building_plans").insert({project_id:t.project_id,plan_name:t.plan_name,plan_type:t.plan_type||"alternative",status:t.status||"draft",description:t.description,notes:t.notes}).select().single();if(r)throw r;return{success:!0,data:n}}catch(n){return console.error("Error creating plan:",n),{success:!1,error:n.message}}}async updatePlan(t,n){try{const{data:r,error:a}=await we.from("building_plans").update({plan_name:n.plan_name,plan_type:n.plan_type,status:n.status,description:n.description,notes:n.notes,modified_date:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return{success:!0,data:r}}catch(r){return console.error("Error updating plan:",r),{success:!1,error:r.message}}}async deletePlan(t){try{const{error:n}=await we.from("building_plans").update({is_active:!1}).eq("id",t);if(n)throw n;return{success:!0}}catch(n){return console.error("Error deleting plan:",n),{success:!1,error:n.message}}}async addBuildingToPlan(t,n){try{const{data:r,error:a}=await we.from("plan_buildings").insert({plan_id:t,...n}).select().single();if(a)throw a;return await this.calculatePlanMetrics(t),{success:!0,data:r}}catch(r){return console.error("Error adding building to plan:",r),{success:!1,error:r.message}}}async calculatePlanMetrics(t){try{const{error:n}=await we.rpc("calculate_plan_metrics",{p_plan_id:t});if(n)throw n;return{success:!0}}catch(n){return console.error("Error calculating plan metrics:",n),{success:!1,error:n.message}}}async createComparison(t,n){try{const{data:r,error:a}=await we.from("plan_comparisons").insert({comparison_name:n,plan_ids:t,comparison_metrics:{}}).select().single();if(a)throw a;return{success:!0,data:r}}catch(r){return console.error("Error creating comparison:",r),{success:!1,error:r.message}}}aggregateMetrics(t){return t.reduce((n,r)=>(n[r.metric_type]=r.metric_value,n),{})}calculateLandUsePercentages(t){const n=t.reduce((r,a)=>r+(a.area_sqm||0),0);return t.map(r=>({...r,percentage:n>0?r.area_sqm/n*100:0}))}calculateBuildingStatistics(t){return t.length===0?{total_buildings:0,total_floor_area:0,avg_height:0,total_units:0}:{total_buildings:t.length,total_floor_area:t.reduce((n,r)=>n+(r.gross_floor_area||0),0),avg_height:t.reduce((n,r)=>n+(r.height||0),0)/t.length,total_units:t.reduce((n,r)=>n+(r.units_count||0),0)}}}const fa=new IM,T5=Object.freeze(Object.defineProperty({__proto__:null,PlanService:IM,planService:fa},Symbol.toStringTag,{value:"Module"})),j5=({projectId:e,onPlanUpdate:t,onPlanDelete:n})=>{const[r,a]=A.useState([]),[o,l]=A.useState(null),[c,f]=A.useState(null),[d,p]=A.useState("disconnected"),[m,v]=A.useState(!0);A.useEffect(()=>{e&&(async()=>{v(!0);try{const _=await fa.getPlansByProject(e);_.success&&_.data&&(a(_.data),_.data.length>0&&!o&&l(_.data[0]))}catch(_){console.error("Error loading plans:",_)}finally{v(!1)}})()},[e]),A.useEffect(()=>{if(!e)return;p("connecting");const S=we.channel(`project-${e}-plans`).on("postgres_changes",{event:"*",schema:"public",table:"building_plans",filter:`project_id=eq.${e}`},async _=>{if(console.log("Plan change detected:",_),_.eventType==="INSERT"||_.eventType==="UPDATE")try{const O=await fa.getPlanWithDetails(_.new.id);O.success&&O.data&&(a(T=>T.find(M=>M.id===O.data.id)?T.map(M=>M.id===O.data.id?O.data:M):[...T,O.data]),t?.(O.data))}catch(O){console.error("Error handling plan update:",O)}else _.eventType==="DELETE"&&(a(O=>O.filter(T=>T.id!==_.old.id)),o?.id===_.old.id&&l(null),n?.(_.old.id))}).on("postgres_changes",{event:"*",schema:"public",table:"plan_metrics"},async _=>{const O=_.new?.plan_id||_.old?.plan_id;if(O)try{const T=await fa.getPlanWithDetails(O);T.success&&T.data&&(a(j=>j.map(M=>M.id===O?{...M,metrics:T.data.metrics}:M)),o?.id===O&&l(j=>j?{...j,metrics:T.data.metrics}:null))}catch(T){console.error("Error handling metrics update:",T)}}).on("postgres_changes",{event:"*",schema:"public",table:"plan_buildings"},async _=>{const O=_.new?.plan_id||_.old?.plan_id;if(O)try{const T=await fa.getPlanWithDetails(O);T.success&&T.data&&(a(j=>j.map(M=>M.id===O?T.data:M)),o?.id===O&&l(T.data))}catch(T){console.error("Error handling buildings update:",T)}}).subscribe(_=>{console.log("Subscription status:",_),p(_==="SUBSCRIBED"?"connected":"disconnected")});return f(S),()=>{S&&we.removeChannel(S)}},[e,t,n,o]);const b=A.useCallback(S=>{l(S),c&&S&&c.send({type:"broadcast",event:"plan_selected",payload:{planId:S.id,planName:S.plan_name,timestamp:new Date().toISOString()}})},[c]),x=A.useCallback(async()=>{try{const S=await fa.getPlansByProject(e);S.success&&S.data&&a(S.data)}catch(S){console.error("Error refreshing plans:",S)}},[e]);return{plans:r,selectedPlan:o,selectPlan:b,syncStatus:d,loading:m,refreshPlans:x}},E5=({plans:e,selectedPlan:t,onPlanChange:n,compareMode:r=!1,onCompareToggle:a,loading:o=!1})=>{const[l,c]=A.useState(!1),[f,d]=A.useState(""),p=e.filter(x=>x.plan_name.toLowerCase().includes(f.toLowerCase())||x.plan_type.toLowerCase().includes(f.toLowerCase())),m=x=>{n(x),c(!1),d("")},v=x=>{switch(x){case"baseline":return"📋";case"alternative":return"🔄";case"proposed":return"📝";case"approved":return"✅";default:return"📄"}},b=x=>{switch(x){case"draft":return"#ffa726";case"review":return"#42a5f5";case"approved":return"#66bb6a";case"archived":return"#bdbdbd";default:return"#757575"}};return o?w.jsx("div",{className:"plan-selector loading",children:w.jsxs("div",{className:"selector-trigger disabled",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("span",{children:"טוען תוכניות..."})]})}):w.jsxs("div",{className:"plan-selector",children:[w.jsxs("div",{className:"selector-header",children:[w.jsxs("button",{className:"selector-trigger",onClick:()=>c(!l),disabled:e.length===0,children:[w.jsx("span",{className:"plan-icon",children:"🏗️"}),w.jsxs("div",{className:"selected-plan-info",children:[w.jsx("span",{className:"selected-plan-name",children:t?.plan_name||"בחר תוכנית"}),t&&w.jsxs("span",{className:"selected-plan-type",children:[v(t.plan_type)," ",t.plan_type]})]}),w.jsx("span",{className:`chevron ${l?"rotate-180":""}`,children:"▼"})]}),a&&e.length>1&&w.jsx("button",{className:`compare-toggle ${r?"active":""}`,onClick:a,title:"השווה תוכניות",children:"⚖️ השווה"})]}),w.jsx(tM,{children:l&&w.jsxs(Ho.div,{className:"plan-dropdown",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[e.length>3&&w.jsx("div",{className:"plan-search-container",children:w.jsx("input",{type:"text",placeholder:"חפש תוכניות...",value:f,onChange:x=>d(x.target.value),className:"plan-search",autoFocus:!0})}),w.jsx("div",{className:"plan-list",children:p.length===0?w.jsx("div",{className:"no-plans",children:f?"לא נמצאו תוכניות":"אין תוכניות זמינות"}):p.map(x=>w.jsxs(Ho.button,{className:`plan-item ${t?.id===x.id?"selected":""}`,onClick:()=>m(x),whileHover:{backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.98},children:[w.jsxs("div",{className:"plan-item-content",children:[w.jsxs("div",{className:"plan-main-info",children:[w.jsx("span",{className:"plan-type-icon",children:v(x.plan_type)}),w.jsxs("div",{className:"plan-text-info",children:[w.jsx("span",{className:"plan-name",children:x.plan_name}),w.jsx("span",{className:"plan-type-text",children:x.plan_type})]})]}),w.jsxs("div",{className:"plan-meta",children:[w.jsx("span",{className:"plan-status",style:{color:b(x.status)},children:x.status}),x.metrics?.total_units&&w.jsxs("span",{className:"plan-units",children:[x.metrics.total_units,' יח"ד']})]})]}),t?.id===x.id&&w.jsx("span",{className:"check-icon",children:"✓"})]},x.id))}),e.length>0&&w.jsx("div",{className:"plan-dropdown-footer",children:w.jsxs("span",{className:"plan-count",children:[p.length," מתוך ",e.length," תוכניות"]})})]})})]})};function qM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=qM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=qM(e))&&(r&&(r+=" "),r+=t);return r}var yg={},bg={},zO;function C5(){return zO||(zO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(bg)),bg}var xg={},IO;function VM(){return IO||(IO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(xg)),xg}var wg={},qO;function KM(){return qO||(qO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t}(wg)),wg}var _g={},VO;function lb(){return VO||(VO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let o=0,l="",c="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<a;){const d=n[o];c?d==="\\"&&o+1<a?(o++,l+=n[o]):d===c?c="":l+=d:f?d==='"'||d==="'"?c=d:d==="]"?(f=!1,r.push(l),l=""):l+=d:d==="["?(f=!0,l&&(r.push(l),l="")):d==="."?l&&(r.push(l),l=""):l+=d,o++}return l&&r.push(l),r}e.toPath=t}(_g)),_g}var KO;function ub(){return KO||(KO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5(),n=VM(),r=KM(),a=lb();function o(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?n.isDeepKey(f)?o(c,a.toPath(f),d):d:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=c[f];return p===void 0?d:p}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?d:p}}}function l(c,f,d){if(f.length===0)return d;let p=c;for(let m=0;m<f.length;m++){if(p==null||t.isUnsafeProperty(f[m]))return d;p=p[f[m]]}return p===void 0?d:p}e.get=o}(yg)),yg}var Sg,HO;function P5(){return HO||(HO=1,Sg=ub().get),Sg}var M5=P5();const ga=Wr(M5);var Ag={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function D5(){if(FO)return st;FO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case n:case a:case r:case f:case d:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case m:case p:return S;case o:return S;default:return _}}case t:return _}}}return st.ContextConsumer=o,st.ContextProvider=l,st.Element=e,st.ForwardRef=c,st.Fragment=n,st.Lazy=m,st.Memo=p,st.Portal=t,st.Profiler=a,st.StrictMode=r,st.Suspense=f,st.SuspenseList=d,st.isContextConsumer=function(S){return x(S)===o},st.isContextProvider=function(S){return x(S)===l},st.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},st.isForwardRef=function(S){return x(S)===c},st.isFragment=function(S){return x(S)===n},st.isLazy=function(S){return x(S)===m},st.isMemo=function(S){return x(S)===p},st.isPortal=function(S){return x(S)===t},st.isProfiler=function(S){return x(S)===a},st.isStrictMode=function(S){return x(S)===r},st.isSuspense=function(S){return x(S)===f},st.isSuspenseList=function(S){return x(S)===d},st.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===a||S===r||S===f||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===c||S.$$typeof===b||S.getModuleId!==void 0)},st.typeOf=x,st}var GO;function k5(){return GO||(GO=1,Ag.exports=D5()),Ag.exports}var R5=k5(),Jt=e=>e===0?0:e>0?1:-1,Wn=e=>typeof e=="number"&&e!=+e,rs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Wn(e),Gr=e=>fe(e)||typeof e=="string",N5=0,Fo=e=>{var t=++N5;return"".concat(e||"").concat(t)},An=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return r;var o;if(rs(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Wn(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},HM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},la=(e,t)=>fe(e)&&fe(t)?n=>e+n*(t-e):()=>t;function B5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ga(r,t))===n)}var $t=e=>e===null||typeof e>"u",ac=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),L5=["viewBox","children"],U5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YO=["points","pathLength"],Og={svg:L5,polygon:YO,polyline:YO},cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{cb.includes(a)&&(r[a]=o=>n[a](n,o))}),r},z5=(e,t,n)=>r=>(e(t,n,r),null),sc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var o=e[a];cb.includes(a)&&typeof o=="function"&&(r||(r={}),r[a]=z5(o,t,n))}),r},WO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",XO=null,Tg=null,FM=e=>{if(e===XO&&Array.isArray(Tg))return Tg;var t=[];return A.Children.forEach(e,n=>{$t(n)||(R5.isFragment(n)?t=t.concat(FM(n.props.children)):t.push(n))}),Tg=t,XO=e,t};function oc(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>WO(a)):r=[WO(t)],FM(e).forEach(a=>{var o=ga(a,"type.displayName")||ga(a,"type.name");r.indexOf(o)!==-1&&n.push(a)}),n}var I5=(e,t,n,r)=>{var a,o=(a=r&&Og?.[r])!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(r&&o.includes(t)||U5.includes(t))||n&&cb.includes(t)},tt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(o=>{var l;I5((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(a[o]=r[o])}),a},q5=["children","width","height","viewBox","className","style","title","desc"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(null,arguments)}function V5(e,t){if(e==null)return{};var n,r,a=K5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fb=A.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:f,desc:d}=e,p=V5(e,q5),m=o||{width:r,height:a,x:0,y:0},v=et("recharts-surface",l);return A.createElement("svg",Cy({},tt(p,!0,"svg"),{className:v,width:r,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,f),A.createElement("desc",null,d),n)}),H5=["children","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Py.apply(null,arguments)}function F5(e,t){if(e==null)return{};var n,r,a=G5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var On=A.forwardRef((e,t)=>{var{children:n,className:r}=e,a=F5(e,H5),o=et("recharts-layer",r);return A.createElement("g",Py({className:o},tt(a,!0),{ref:t}),n)}),GM=qC(),YM=A.createContext(null),Y5=()=>A.useContext(YM);function ft(e){return function(){return e}}const WM=Math.cos,vd=Math.sin,Mr=Math.sqrt,yd=Math.PI,nh=2*yd,My=Math.PI,Dy=2*My,Xa=1e-6,W5=Dy-Xa;function XM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function X5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XM;const n=10**t;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Z5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XM:X5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,o,l){this._append`C${+t},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,a,o){if(t=+t,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-t,d=a-n,p=l-t,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Xa)if(!(Math.abs(m*f-d*p)>Xa)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,x=a-c,S=f*f+d*d,_=b*b+x*x,O=Math.sqrt(S),T=Math.sqrt(v),j=o*Math.tan((My-Math.acos((S+v-_)/(2*O*T)))/2),M=j/T,P=j/O;Math.abs(M-1)>Xa&&this._append`L${t+M*p},${n+M*m}`,this._append`A${o},${o},0,0,${+(m*b>p*x)},${this._x1=t+P*f},${this._y1=n+P*d}`}}arc(t,n,r,a,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),f=r*Math.sin(a),d=t+c,p=n+f,m=1^l,v=l?a-o:o-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Xa||Math.abs(this._y1-p)>Xa)&&this._append`L${d},${p}`,r&&(v<0&&(v=v%Dy+Dy),v>W5?this._append`A${r},${r},0,1,${m},${t-c},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=p}`:v>Xa&&this._append`A${r},${r},0,${+(v>=My)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function db(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Z5(t)}function hb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZM(e){this._context=e}ZM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rh(e){return new ZM(e)}function QM(e){return e[0]}function JM(e){return e[1]}function e2(e,t){var n=ft(!0),r=null,a=rh,o=null,l=db(c);e=typeof e=="function"?e:e===void 0?QM:ft(e),t=typeof t=="function"?t:t===void 0?JM:ft(t);function c(f){var d,p=(f=hb(f)).length,m,v=!1,b;for(r==null&&(o=a(b=l())),d=0;d<=p;++d)!(d<p&&n(m=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(m,d,f),+t(m,d,f));if(b)return o=null,b+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ft(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,r!=null&&(o=a(r)),c):a},c.context=function(f){return arguments.length?(f==null?r=o=null:o=a(r=f),c):r},c}function Hf(e,t,n){var r=null,a=ft(!0),o=null,l=rh,c=null,f=db(d);e=typeof e=="function"?e:e===void 0?QM:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?JM:ft(+n);function d(m){var v,b,x,S=(m=hb(m)).length,_,O=!1,T,j=new Array(S),M=new Array(S);for(o==null&&(c=l(T=f())),v=0;v<=S;++v){if(!(v<S&&a(_=m[v],v,m))===O)if(O=!O)b=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=v-1;x>=b;--x)c.point(j[x],M[x]);c.lineEnd(),c.areaEnd()}O&&(j[v]=+e(_,v,m),M[v]=+t(_,v,m),c.point(r?+r(_,v,m):j[v],n?+n(_,v,m):M[v]))}if(T)return c=null,T+""||null}function p(){return e2().defined(a).curve(l).context(o)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ft(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ft(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ft(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ft(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ft(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ft(+m),d):n},d.lineX0=d.lineY0=function(){return p().x(e).y(t)},d.lineY1=function(){return p().x(e).y(n)},d.lineX1=function(){return p().x(r).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:ft(!!m),d):a},d.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),d):o},d}class t2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Q5(e){return new t2(e,!0)}function J5(e){return new t2(e,!1)}const pb={draw(e,t){const n=Mr(t/yd);e.moveTo(n,0),e.arc(0,0,n,0,nh)}},e6={draw(e,t){const n=Mr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},n2=Mr(1/3),t6=n2*2,n6={draw(e,t){const n=Mr(t/t6),r=n*n2;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},r6={draw(e,t){const n=Mr(t),r=-n/2;e.rect(r,r,n,n)}},i6=.8908130915292852,r2=vd(yd/10)/vd(7*yd/10),a6=vd(nh/10)*r2,s6=-WM(nh/10)*r2,o6={draw(e,t){const n=Mr(t*i6),r=a6*n,a=s6*n;e.moveTo(0,-n),e.lineTo(r,a);for(let o=1;o<5;++o){const l=nh*o/5,c=WM(l),f=vd(l);e.lineTo(f*n,-c*n),e.lineTo(c*r-f*a,f*r+c*a)}e.closePath()}},jg=Mr(3),l6={draw(e,t){const n=-Mr(t/(jg*3));e.moveTo(0,n*2),e.lineTo(-jg*n,-n),e.lineTo(jg*n,-n),e.closePath()}},cr=-.5,fr=Mr(3)/2,ky=1/Mr(12),u6=(ky/2+1)*3,c6={draw(e,t){const n=Mr(t/u6),r=n/2,a=n*ky,o=r,l=n*ky+n,c=-o,f=l;e.moveTo(r,a),e.lineTo(o,l),e.lineTo(c,f),e.lineTo(cr*r-fr*a,fr*r+cr*a),e.lineTo(cr*o-fr*l,fr*o+cr*l),e.lineTo(cr*c-fr*f,fr*c+cr*f),e.lineTo(cr*r+fr*a,cr*a-fr*r),e.lineTo(cr*o+fr*l,cr*l-fr*o),e.lineTo(cr*c+fr*f,cr*f-fr*c),e.closePath()}};function f6(e,t){let n=null,r=db(a);e=typeof e=="function"?e:ft(e||pb),t=typeof t=="function"?t:ft(t===void 0?64:+t);function a(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:ft(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:ft(+o),a):t},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function bd(){}function xd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i2(e){this._context=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d6(e){return new i2(e)}function a2(e){this._context=e}a2.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h6(e){return new a2(e)}function s2(e){this._context=e}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p6(e){return new s2(e)}function o2(e){this._context=e}o2.prototype={areaStart:bd,areaEnd:bd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function m6(e){return new o2(e)}function ZO(e){return e<0?-1:1}function QO(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),l=(n-e._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(ZO(o)+ZO(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function JO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Eg(e,t,n){var r=e._x0,a=e._y0,o=e._x1,l=e._y1,c=(o-r)/3;e._context.bezierCurveTo(r+c,a+c*t,o-c,l-c*n,o,l)}function wd(e){this._context=e}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eg(this,this._t0,JO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Eg(this,JO(this,n=QO(this,e,t)),n);break;default:Eg(this,this._t0,n=QO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function l2(e){this._context=new u2(e)}(l2.prototype=Object.create(wd.prototype)).point=function(e,t){wd.prototype.point.call(this,t,e)};function u2(e){this._context=e}u2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}};function g6(e){return new wd(e)}function v6(e){return new l2(e)}function c2(e){this._context=e}c2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=eT(e),a=eT(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eT(e){var t,n=e.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(a[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function y6(e){return new c2(e)}function ih(e,t){this._context=e,this._t=t}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function b6(e){return new ih(e,.5)}function x6(e){return new ih(e,0)}function w6(e){return new ih(e,1)}function Go(e,t){if((l=e.length)>1)for(var n=1,r,a,o=e[t[0]],l,c=o.length;n<l;++n)for(a=o,o=e[t[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ry(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _6(e,t){return e[t]}function S6(e){const t=[];return t.key=e,t}function A6(){var e=ft([]),t=Ry,n=Go,r=_6;function a(o){var l=Array.from(e.apply(this,arguments),S6),c,f=l.length,d=-1,p;for(const m of o)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(m,l[c].key,d,o)]).data=m;for(c=0,p=hb(t(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ft(Array.from(o)),a):e},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:ft(+o),a):r},a.order=function(o){return arguments.length?(t=o==null?Ry:typeof o=="function"?o:ft(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(n=o??Go,a):n},a}function O6(e,t){if((r=e.length)>0){for(var n,r,a=0,o=e[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=e[n][a][1]||0;if(l)for(n=0;n<r;++n)e[n][a][1]/=l}Go(e,t)}}function T6(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=e[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Go(e,t)}}function j6(e,t){if(!(!((l=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,f=0,d=0;c<l;++c){for(var p=e[t[c]],m=p[r][1]||0,v=p[r-1][1]||0,b=(m-v)/2,x=0;x<c;++x){var S=e[t[x]],_=S[r][1]||0,O=S[r-1][1]||0;b+=_-O}f+=m,d+=b*m}a[r-1][1]+=a[r-1][0]=n,f&&(n-=d/f)}a[r-1][1]+=a[r-1][0]=n,Go(e,t)}}var E6=["type","size","sizeType"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){C6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C6(e,t,n){return(t=P6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P6(e){var t=M6(e,"string");return typeof t=="symbol"?t:t+""}function M6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D6(e,t){if(e==null)return{};var n,r,a=k6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f2={symbolCircle:pb,symbolCross:e6,symbolDiamond:n6,symbolSquare:r6,symbolStar:o6,symbolTriangle:l6,symbolWye:c6},R6=Math.PI/180,N6=e=>{var t="symbol".concat(ac(e));return f2[t]||pb},B6=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*R6;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L6=(e,t)=>{f2["symbol".concat(ac(e))]=t},mb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=D6(e,E6),o=nT(nT({},a),{},{type:t,size:n,sizeType:r}),l=()=>{var m=N6(t),v=f6().type(m).size(B6(n,r,t));return v()},{className:c,cx:f,cy:d}=o,p=tt(o,!0);return f===+f&&d===+d&&n===+n?A.createElement("path",Ny({},p,{className:et("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:l()})):null};mb.registerSymbol=L6;function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(null,arguments)}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){gb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gb(e,t,n){return(t=$6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $6(e){var t=z6(e,"string");return typeof t=="symbol"?t:t+""}function z6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=32;class vb extends A.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=dr/2,o=dr/6,l=dr/3,c=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:dr,y2:a,className:"recharts-legend-icon"});if(f==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(dr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return A.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var d=U6({},t);return delete d.legendIcon,A.cloneElement(t.legendIcon,d)}return A.createElement(mb,{fill:c,cx:a,cy:a,size:dr,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:dr,height:dr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var v=p.formatter||a,b=et({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var x=p.inactive?o:p.color,S=v?v(p.value,p,m):p.value;return A.createElement("li",By({className:b,style:f,key:"legend-item-".concat(m)},sc(this.props,p,m)),A.createElement(fb,{width:n,height:n,viewBox:c,style:d,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,l)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}gb(vb,"displayName","Legend");gb(vb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Cg={},Pg={},iT;function I6(){return iT||(iT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t}(Pg)),Pg}var Mg={},aT;function d2(){return aT||(aT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Mg)),Mg}var Dg={},kg={},Rg={},sT;function q6(){return sT||(sT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Rg)),Rg}var oT;function yb(){return oT||(oT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q6();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(kg)),kg}var Ng={},lT;function V6(){return lT||(lT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Ng)),Ng}var uT;function K6(){return uT||(uT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb(),n=V6();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r}(Dg)),Dg}var Bg={},Lg={},cT;function H6(){return cT||(cT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ub();function n(r){return function(a){return t.get(a,r)}}e.property=n}(Lg)),Lg}var Ug={},$g={},zg={},Ig={},fT;function h2(){return fT||(fT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Ig)),Ig}var qg={},dT;function p2(){return dT||(dT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(qg)),qg}var Vg={},hT;function bb(){return hT||(hT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(Vg)),Vg}var pT;function F6(){return pT||(pT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb(),n=h2(),r=p2(),a=bb();function o(m,v,b){return typeof b!="function"?t.isMatch(m,v):l(m,v,function x(S,_,O,T,j,M){const P=b(S,_,O,T,j,M);return P!==void 0?!!P:l(S,_,x,M)},new Map)}function l(m,v,b,x){if(v===m)return!0;switch(typeof v){case"object":return c(m,v,b,x);case"function":return Object.keys(v).length>0?l(m,{...v},b,x):a.eq(m,v);default:return n.isObject(m)?typeof v=="string"?v==="":!0:a.eq(m,v)}}function c(m,v,b,x){if(v==null)return!0;if(Array.isArray(v))return d(m,v,b,x);if(v instanceof Map)return f(m,v,b,x);if(v instanceof Set)return p(m,v,b,x);const S=Object.keys(v);if(m==null)return S.length===0;if(S.length===0)return!0;if(x&&x.has(v))return x.get(v)===m;x&&x.set(v,m);try{for(let _=0;_<S.length;_++){const O=S[_];if(!r.isPrimitive(m)&&!(O in m)||v[O]===void 0&&m[O]!==void 0||v[O]===null&&m[O]!==null||!b(m[O],v[O],O,m,v,x))return!1}return!0}finally{x&&x.delete(v)}}function f(m,v,b,x){if(v.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,_]of v.entries()){const O=m.get(S);if(b(O,_,S,m,v,x)===!1)return!1}return!0}function d(m,v,b,x){if(v.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let _=0;_<v.length;_++){const O=v[_];let T=!1;for(let j=0;j<m.length;j++){if(S.has(j))continue;const M=m[j];let P=!1;if(b(M,O,_,m,v,x)&&(P=!0),P){S.add(j),T=!0;break}}if(!T)return!1}return!0}function p(m,v,b,x){return v.size===0?!0:m instanceof Set?d([...m],[...v],b,x):!1}e.isMatchWith=o,e.isSetMatch=p}(zg)),zg}var mT;function xb(){return mT||(mT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}($g)),$g}var Kg={},Hg={},Fg={},gT;function m2(){return gT||(gT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(Fg)),Fg}var Gg={},vT;function wb(){return vT||(vT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(Gg)),Gg}var Yg={},yT;function _b(){return yT||(yT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",b="[object Object]",x="[object Error]",S="[object DataView]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]",M="[object BigUint64Array]",P="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",D="[object BigInt64Array]",I="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=M,e.booleanTag=a,e.dataViewTag=S,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=I,e.float64ArrayTag=J,e.functionTag=m,e.int16ArrayTag=k,e.int32ArrayTag=R,e.int8ArrayTag=P,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=T,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=O}(Yg)),Yg}var Wg={},bT;function G6(){return bT||(bT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(Wg)),Wg}var xT;function g2(){return xT||(xT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2(),n=wb(),r=_b(),a=p2(),o=G6();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,v,b=new Map,x=void 0){const S=x?.(p,m,v,b);if(S!=null)return S;if(a.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let O=0;O<p.length;O++)_[O]=c(p[O],O,v,b,x);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[O,T]of p)_.set(O,c(T,O,v,b,x));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const O of p)_.add(c(O,void 0,v,b,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let O=0;O<p.length;O++)_[O]=c(p[O],O,v,b,x);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),f(_,p,v,b,x),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),f(_,p,v,b,x),_}if(p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),f(_,p,v,b,x),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,v,b,x),_}if(typeof p=="object"&&d(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),f(_,p,v,b,x),_}return p}function f(p,m,v=p,b,x){const S=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<S.length;_++){const O=S[_],T=Object.getOwnPropertyDescriptor(p,O);(T==null||T.writable)&&(p[O]=c(m[O],O,v,b,x))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=f}(Hg)),Hg}var wT;function Y6(){return wT||(wT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(Kg)),Kg}var _T;function W6(){return _T||(_T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb(),n=Y6();function r(a){return a=n.cloneDeep(a),o=>t.isMatch(o,a)}e.matches=r}(Ug)),Ug}var Xg={},Zg={},Qg={},ST;function X6(){return ST||(ST=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2(),n=_b();function r(a,o){return t.cloneDeepWith(a,(l,c,f,d)=>{const p=o?.(l,c,f,d);if(p!=null)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r}(Qg)),Qg}var AT;function Z6(){return AT||(AT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X6();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(Zg)),Zg}var Jg={},ev={},OT;function v2(){return OT||(OT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(ev)),ev}var tv={},TT;function Q6(){return TT||(TT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(tv)),tv}var jT;function J6(){return jT||(jT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VM(),n=v2(),r=Q6(),a=lb();function o(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?f=a.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let p=0;p<f.length;p++){const m=f[p];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=o}(Jg)),Jg}var ET;function eq(){return ET||(ET=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb(),n=KM(),r=Z6(),a=ub(),o=J6();function l(c,f){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const p=a.get(d,c);return p===void 0?o.has(d,c):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l}(Xg)),Xg}var CT;function tq(){return CT||(CT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2(),n=H6(),r=W6(),a=eq();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o}(Bg)),Bg}var PT;function nq(){return PT||(PT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6(),n=d2(),r=K6(),a=tq();function o(l,c=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=o}(Cg)),Cg}var nv,MT;function rq(){return MT||(MT=1,nv=nq().uniqBy),nv}var iq=rq();const DT=Wr(iq);function y2(e,t,n){return t===!0?DT(e,n):typeof t=="function"?DT(e,t):e}var rv={exports:{}},iv={},av={exports:{}},sv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function aq(){if(kT)return sv;kT=1;var e=nl();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(m,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),S=x[0].inst,_=x[1];return o(function(){S.value=b,S.getSnapshot=v,f(S)&&_({inst:S})},[m,b,v]),a(function(){return f(S)&&_({inst:S}),m(function(){f(S)&&_({inst:S})})},[m]),l(b),b}function f(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch{return!0}}function d(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return sv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,sv}var RT;function sq(){return RT||(RT=1,av.exports=aq()),av.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function oq(){if(NT)return iv;NT=1;var e=nl(),t=sq();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,f=e.useDebugValue;return iv.useSyncExternalStoreWithSelector=function(d,p,m,v,b){var x=o(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function O(k){if(!T){if(T=!0,j=k,k=v(k),b!==void 0&&S.hasValue){var R=S.value;if(b(R,k))return M=R}return M=k}if(R=M,r(j,k))return R;var D=v(k);return b!==void 0&&b(R,D)?(j=k,R):(j=k,M=D)}var T=!1,j,M,P=m===void 0?null:m;return[function(){return O(p())},P===null?void 0:function(){return O(P())}]},[p,m,v,b]);var _=a(d,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},iv}var BT;function lq(){return BT||(BT=1,rv.exports=oq()),rv.exports}var uq=lq(),Sb=A.createContext(null),cq=e=>e,vt=()=>{var e=A.useContext(Sb);return e?e.store.dispatch:cq},ud=()=>{},fq=()=>ud,dq=(e,t)=>e===t;function ge(e){var t=A.useContext(Sb);return uq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fq,t?t.store.getState:ud,t?t.store.getState:ud,t?e:ud,dq)}function hq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var LT=e=>Array.isArray(e)?e:[e];function gq(e){const t=Array.isArray(e[0])?e[0]:e;return mq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vq(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var yq=class{constructor(e){this.value=e}deref(){return this.value}},bq=typeof WeakRef<"u"?WeakRef:yq,xq=0,UT=1;function Ff(){return{s:xq,v:void 0,o:null,p:null}}function b2(e,t={}){let n=Ff();const{resultEqualityCheck:r}=t;let a,o=0;function l(){let c=n;const{length:f}=arguments;for(let m=0,v=f;m<v;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const S=x.get(b);S===void 0?(c=Ff(),x.set(b,c)):c=S}else{let x=c.p;x===null&&(c.p=x=new Map);const S=x.get(b);S===void 0?(c=Ff(),x.set(b,c)):c=S}}const d=c;let p;if(c.s===UT)p=c.v;else if(p=e.apply(null,arguments),o++,r){const m=a?.deref?.()??a;m!=null&&r(m,p)&&(p=m,o!==0&&o--),a=typeof p=="object"&&p!==null||typeof p=="function"?new bq(p):p}return d.s=UT,d.v=p,p}return l.clearCache=()=>{n=Ff(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function wq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let o=0,l=0,c,f={},d=a.pop();typeof d=="object"&&(f=d,d=a.pop()),hq(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...f},{memoize:m,memoizeOptions:v=[],argsMemoize:b=b2,argsMemoizeOptions:x=[]}=p,S=LT(v),_=LT(x),O=gq(a),T=m(function(){return o++,d.apply(null,arguments)},...S),j=b(function(){l++;const P=vq(O,arguments);return c=T.apply(null,P),c},..._);return Object.assign(j,{resultFunc:d,memoizedResultFunc:T,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var F=wq(b2),_q=Object.assign((e,t=F)=>{pq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>_q}),ov={},lv={},uv={},$T;function Sq(){return $T||($T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=t(r),c=t(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};e.compareValues=n}(uv)),uv}var cv={},fv={},zT;function x2(){return zT||(zT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(fv)),fv}var IT;function Aq(){return IT||(IT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x2(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=a}(cv)),cv}var qT;function Oq(){return qT||(qT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sq(),n=Aq(),r=lb();function a(o,l,c,f){if(o==null)return[];c=f?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const d=(b,x)=>{let S=b;for(let _=0;_<x.length&&S!=null;++_)S=S[x[_]];return S},p=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:d(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?d(x,b):typeof x=="object"?x[b]:x,m=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:m.map(x=>p(x,b))})).slice().sort((b,x)=>{for(let S=0;S<m.length;S++){const _=t.compareValues(b.criteria[S],x.criteria[S],c[S]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=a}(lv)),lv}var dv={},VT;function Tq(){return VT||(VT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],o=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const p=c[d];Array.isArray(p)&&f<o?l(p,f+1):a.push(p)}};return l(n,0),a}e.flatten=t}(dv)),dv}var hv={},KT;function w2(){return KT||(KT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2(),n=yb(),r=h2(),a=bb();function o(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&t.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?a.eq(f[c],l):!1}e.isIterateeCall=o}(hv)),hv}var HT;function jq(){return HT||(HT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oq(),n=Tq(),r=w2();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=a}(ov)),ov}var pv,FT;function Eq(){return FT||(FT=1,pv=jq().sortBy),pv}var Cq=Eq();const ah=Wr(Cq);var _2=e=>e.legend.settings,Pq=e=>e.legend.size,Mq=e=>e.legend.payload,Dq=F([Mq,_2],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ah(r,n):r});function kq(){return ge(Dq)}var Gf=1;function S2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Gf||Math.abs(l.left-t.left)>Gf||Math.abs(l.top-t.top)>Gf||Math.abs(l.width-t.width)>Gf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rq=typeof Symbol=="function"&&Symbol.observable||"@@observable",GT=Rq,mv=()=>Math.random().toString(36).substring(7).split("").join("."),Nq={INIT:`@@redux/INIT${mv()}`,REPLACE:`@@redux/REPLACE${mv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mv()}`},_d=Nq;function Ab(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function A2(e,t,n){if(typeof e!="function")throw new Error(ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ln(1));return n(A2)(e,t)}let r=e,a=t,o=new Map,l=o,c=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((_,O)=>{l.set(O,_)}))}function p(){if(f)throw new Error(ln(3));return a}function m(_){if(typeof _!="function")throw new Error(ln(4));if(f)throw new Error(ln(5));let O=!0;d();const T=c++;return l.set(T,_),function(){if(O){if(f)throw new Error(ln(6));O=!1,d(),l.delete(T),o=null}}}function v(_){if(!Ab(_))throw new Error(ln(7));if(typeof _.type>"u")throw new Error(ln(8));if(typeof _.type!="string")throw new Error(ln(17));if(f)throw new Error(ln(9));try{f=!0,a=r(a,_)}finally{f=!1}return(o=l).forEach(T=>{T()}),_}function b(_){if(typeof _!="function")throw new Error(ln(10));r=_,v({type:_d.REPLACE})}function x(){const _=m;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ln(11));function T(){const M=O;M.next&&M.next(p())}return T(),{unsubscribe:_(T)}},[GT](){return this}}}return v({type:_d.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:b,[GT]:x}}function Bq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:_d.INIT})>"u")throw new Error(ln(12));if(typeof n(void 0,{type:_d.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function O2(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let a;try{Bq(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let f=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],b=l[m],x=v(b,c);if(typeof x>"u")throw c&&c.type,new Error(ln(14));d[m]=x,f=f||x!==b}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Sd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Lq(...e){return t=>(n,r)=>{const a=t(n,r);let o=()=>{throw new Error(ln(15))};const l={getState:a.getState,dispatch:(f,...d)=>o(f,...d)},c=e.map(f=>f(l));return o=Sd(...c)(a.dispatch),{...a,dispatch:o}}}function T2(e){return Ab(e)&&"type"in e&&typeof e.type=="string"}var j2=Symbol.for("immer-nothing"),YT=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function Cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yo=Object.getPrototypeOf;function ms(e){return!!e&&!!e[Xn]}function _i(e){return e?E2(e)||Array.isArray(e)||!!e[YT]||!!e.constructor?.[YT]||oh(e)||lh(e):!1}var Uq=Object.prototype.constructor.toString();function E2(e){if(!e||typeof e!="object")return!1;const t=Yo(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Uq}function Ad(e,t){sh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function sh(e){const t=e[Xn];return t?t.type_:Array.isArray(e)?1:oh(e)?2:lh(e)?3:0}function Ly(e,t){return sh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C2(e,t,n){const r=sh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $q(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oh(e){return e instanceof Map}function lh(e){return e instanceof Set}function Za(e){return e.copy_||e.base_}function Uy(e,t){if(oh(e))return new Map(e);if(lh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=E2(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Xn];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(Yo(e),r)}else{const r=Yo(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Ob(e,t=!1){return uh(e)||ms(e)||!_i(e)||(sh(e)>1&&(e.set=e.add=e.clear=e.delete=zq),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ob(r,!0))),e}function zq(){Cr(2)}function uh(e){return Object.isFrozen(e)}var Iq={};function gs(e){const t=Iq[e];return t||Cr(0,e),t}var Vu;function P2(){return Vu}function qq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WT(e,t){t&&(gs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $y(e){zy(e),e.drafts_.forEach(Vq),e.drafts_=null}function zy(e){e===Vu&&(Vu=e.parent_)}function XT(e){return Vu=qq(Vu,e)}function Vq(e){const t=e[Xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Xn].modified_&&($y(t),Cr(4)),_i(e)&&(e=Od(t,e),t.parent_||Td(t,e)),t.patches_&&gs("Patches").generateReplacementPatches_(n[Xn].base_,e,t.patches_,t.inversePatches_)):e=Od(t,n,[]),$y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j2?e:void 0}function Od(e,t,n){if(uh(t))return t;const r=t[Xn];if(!r)return Ad(t,(a,o)=>QT(e,r,t,a,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Td(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),Ad(o,(c,f)=>QT(e,r,a,c,f,n,l)),Td(e,a,!1),n&&e.patches_&&gs("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function QT(e,t,n,r,a,o,l){if(ms(a)){const c=o&&t&&t.type_!==3&&!Ly(t.assigned_,r)?o.concat(r):void 0,f=Od(e,a,c);if(C2(n,r,f),ms(f))e.canAutoFreeze_=!1;else return}else l&&n.add(a);if(_i(a)&&!uh(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Od(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Td(e,a)}}function Td(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ob(t,n)}function Kq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:P2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=Tb;n&&(a=[r],o=Ku);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var Tb={get(e,t){if(t===Xn)return e;const n=Za(e);if(!Ly(n,t))return Hq(e,n,t);const r=n[t];return e.finalized_||!_i(r)?r:r===gv(e.base_,t)?(vv(e),e.copy_[t]=qy(r,e)):r},has(e,t){return t in Za(e)},ownKeys(e){return Reflect.ownKeys(Za(e))},set(e,t,n){const r=M2(Za(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=gv(Za(e),t),o=a?.[Xn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($q(n,a)&&(n!==void 0||Ly(e.base_,t)))return!0;vv(e),Iy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vv(e),Iy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Za(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Cr(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){Cr(12)}},Ku={};Ad(Tb,(e,t)=>{Ku[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ku.deleteProperty=function(e,t){return Ku.set.call(this,e,t,void 0)};Ku.set=function(e,t,n){return Tb.set.call(this,e[0],t,n,e[0])};function gv(e,t){const n=e[Xn];return(n?Za(n):e)[t]}function Hq(e,t,n){const r=M2(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function M2(e,t){if(!(t in e))return;let n=Yo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Yo(n)}}function Iy(e){e.modified_||(e.modified_=!0,e.parent_&&Iy(e.parent_))}function vv(e){e.copy_||(e.copy_=Uy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...d){return l.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&Cr(6),r!==void 0&&typeof r!="function"&&Cr(7);let a;if(_i(t)){const o=XT(this),l=qy(t,void 0);let c=!0;try{a=n(l),c=!1}finally{c?$y(o):zy(o)}return WT(o,r),ZT(a,o)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===j2&&(a=void 0),this.autoFreeze_&&Ob(a,!0),r){const o=[],l=[];gs("Patches").generateReplacementPatches_(t,a,o,l),r(o,l)}return a}else Cr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,f=>t(f,...c));let r,a;return[this.produce(t,n,(l,c)=>{r=l,a=c}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_i(e)||Cr(8),ms(e)&&(e=yi(e));const t=XT(this),n=qy(e,void 0);return n[Xn].isManual_=!0,zy(t),n}finishDraft(e,t){const n=e&&e[Xn];(!n||!n.isManual_)&&Cr(9);const{scope_:r}=n;return WT(r,t),ZT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=gs("Patches").applyPatches_;return ms(e)?r(e,t):this.produce(e,a=>r(a,t))}};function qy(e,t){const n=oh(e)?gs("MapSet").proxyMap_(e,t):lh(e)?gs("MapSet").proxySet_(e,t):Kq(e,t);return(t?t.scope_:P2()).drafts_.push(n),n}function yi(e){return ms(e)||Cr(10,e),D2(e)}function D2(e){if(!_i(e)||uh(e))return e;const t=e[Xn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Uy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Uy(e,!0);return Ad(n,(r,a)=>{C2(n,r,D2(a))}),t&&(t.finalized_=!1),n}var Zn=new Fq,k2=Zn.produce;Zn.produceWithPatches.bind(Zn);Zn.setAutoFreeze.bind(Zn);Zn.setUseStrictShallowCopy.bind(Zn);Zn.applyPatches.bind(Zn);Zn.createDraft.bind(Zn);Zn.finishDraft.bind(Zn);function R2(e){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,e):a(o)}var Gq=R2(),Yq=R2,Wq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sd:Sd.apply(null,arguments)};function yr(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Yn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>T2(r)&&r.type===e,n}var N2=class Su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Su(...t[0].concat(this)):new Su(...t.concat(this))}};function JT(e){return _i(e)?k2(e,()=>{}):e}function Yf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Xq(e){return typeof e=="boolean"}var Zq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{};let l=new N2;return n&&(Xq(n)?l.push(Gq):l.push(Yq(n.extraArgument))),l},Qq="RTK_autoBatch",ej=e=>t=>{setTimeout(t,e)},Jq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,o=!1,l=!1;const c=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ej(10):e.type==="callback"?e.queueNotification:ej(e.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>a&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){try{return a=!p?.meta?.[Qq],o=!a,o&&(l||(l=!0,f(d))),r.dispatch(p)}finally{a=!0}}})},e8=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new N2(e);return r&&a.push(Jq(typeof r=="object"?r:void 0)),a};function t8(e){const t=Zq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Ab(n))c=O2(n);else throw new Error(Yn(1));let f;typeof r=="function"?f=r(t):f=t();let d=Sd;a&&(d=Wq({trace:!1,...typeof a=="object"&&a}));const p=Lq(...f),m=e8(p);let v=typeof l=="function"?l(m):m();const b=d(...v);return A2(c,o,b)}function B2(e){const t={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Yn(28));if(c in t)throw new Error(Yn(29));return t[c]=l,a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return e(a),[t,n,r]}function n8(e){return typeof e=="function"}function r8(e,t){let[n,r,a]=B2(t),o;if(n8(e))o=()=>JT(e());else{const c=JT(e);o=()=>c}function l(c=o(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[a]),d.reduce((p,m)=>{if(m)if(ms(p)){const b=m(p,f);return b===void 0?p:b}else{if(_i(p))return k2(p,v=>m(v,f));{const v=m(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return l.getInitialState=o,l}var i8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",a8=(e=21)=>{let t="",n=e;for(;n--;)t+=i8[Math.random()*64|0];return t},s8=Symbol.for("rtk-slice-createasyncthunk");function o8(e,t){return`${e}/${t}`}function l8({creators:e}={}){const t=e?.asyncThunk?.[s8];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Yn(11));const l=(typeof r.reducers=="function"?r.reducers(c8()):r.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,M){const P=typeof j=="string"?j:j.type;if(!P)throw new Error(Yn(12));if(P in f.sliceCaseReducersByType)throw new Error(Yn(13));return f.sliceCaseReducersByType[P]=M,d},addMatcher(j,M){return f.sliceMatchers.push({matcher:j,reducer:M}),d},exposeAction(j,M){return f.actionCreators[j]=M,d},exposeCaseReducer(j,M){return f.sliceCaseReducersByName[j]=M,d}};c.forEach(j=>{const M=l[j],P={reducerName:j,type:o8(a,j),createNotation:typeof r.reducers=="function"};d8(M)?p8(P,M,d,t):f8(P,M,d)});function p(){const[j={},M=[],P=void 0]=typeof r.extraReducers=="function"?B2(r.extraReducers):[r.extraReducers],k={...j,...f.sliceCaseReducersByType};return r8(r.initialState,R=>{for(let D in k)R.addCase(D,k[D]);for(let D of f.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of M)R.addMatcher(D.matcher,D.reducer);P&&R.addDefaultCase(P)})}const m=j=>j,v=new Map,b=new WeakMap;let x;function S(j,M){return x||(x=p()),x(j,M)}function _(){return x||(x=p()),x.getInitialState()}function O(j,M=!1){function P(R){let D=R[j];return typeof D>"u"&&M&&(D=Yf(b,P,_)),D}function k(R=m){const D=Yf(v,M,()=>new WeakMap);return Yf(D,R,()=>{const I={};for(const[J,W]of Object.entries(r.selectors??{}))I[J]=u8(W,R,()=>Yf(b,R,_),M);return I})}return{reducerPath:j,getSelectors:k,get selectors(){return k(P)},selectSlice:P}}const T={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:_,...O(o),injectInto(j,{reducerPath:M,...P}={}){const k=M??o;return j.inject({reducerPath:k,reducer:S},P),{...T,...O(k,!0)}}};return T}}function u8(e,t,n,r){function a(o,...l){let c=t(o);return typeof c>"u"&&r&&(c=n()),e(c,...l)}return a.unwrapped=e,a}var xr=l8();function c8(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function f8({type:e,reducerName:t,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!h8(r))throw new Error(Yn(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?yr(e,l):yr(e))}function d8(e){return e._reducerDefinitionType==="asyncThunk"}function h8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function p8({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Yn(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:d,options:p}=n,m=a(e,o,p);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||Wf,pending:c||Wf,rejected:f||Wf,settled:d||Wf})}function Wf(){}var m8="task",L2="listener",U2="completed",jb="cancelled",g8=`task-${jb}`,v8=`task-${U2}`,Vy=`${L2}-${jb}`,y8=`${L2}-${U2}`,ch=class{constructor(e){this.code=e,this.message=`${m8} ${jb} (reason: ${e})`}name="TaskAbortError";message},Eb=(e,t)=>{if(typeof e!="function")throw new TypeError(Yn(32))},jd=()=>{},$2=(e,t=jd)=>(e.catch(t),e),z2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},fs=e=>{if(e.aborted){const{reason:t}=e;throw new ch(t)}};function I2(e,t){let n=jd;return new Promise((r,a)=>{const o=()=>a(new ch(e.reason));if(e.aborted){o();return}n=z2(e,o),t.finally(()=>n()).then(r,a)}).finally(()=>{n=jd})}var b8=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ch?"cancelled":"rejected",error:n}}finally{t?.()}},Ed=e=>t=>$2(I2(e,t).then(n=>(fs(e),n))),q2=e=>{const t=Ed(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:zo}=Object,tj={},fh="listenerMiddleware",x8=(e,t)=>{const n=r=>z2(e,()=>cs(r,e.reason));return(r,a)=>{Eb(r);const o=new AbortController;n(o);const l=b8(async()=>{fs(e),fs(o.signal);const c=await r({pause:Ed(o.signal),delay:q2(o.signal),signal:o.signal});return fs(o.signal),c},()=>cs(o,v8));return a?.autoJoin&&t.push(l.catch(jd)),{result:Ed(e)(l),cancel(){cs(o,g8)}}}},w8=(e,t)=>{const n=async(r,a)=>{fs(t);let o=()=>{};const c=[new Promise((f,d)=>{let p=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),f([m,v.getState(),v.getOriginalState()])}});o=()=>{p(),d()}})];a!=null&&c.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await I2(t,Promise.race(c));return fs(t),f}finally{o()}};return(r,a)=>$2(n(r,a))},V2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:o}=e;if(t)a=yr(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Yn(21));return Eb(o),{predicate:a,type:t,effect:o}},K2=zo(e=>{const{type:t,predicate:n,effect:r}=V2(e);return{id:a8(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yn(22))}}},{withTypes:()=>K2}),nj=(e,t)=>{const{type:n,effect:r,predicate:a}=V2(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},Ky=e=>{e.pending.forEach(t=>{cs(t,Vy)})},_8=e=>()=>{e.forEach(Ky),e.clear()},rj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},H2=zo(yr(`${fh}/add`),{withTypes:()=>H2}),S8=yr(`${fh}/removeAll`),F2=zo(yr(`${fh}/remove`),{withTypes:()=>F2}),A8=(...e)=>{console.error(`${fh}/error`,...e)},lc=(e={})=>{const t=new Map,{extra:n,onError:r=A8}=e;Eb(r);const a=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&Ky(p)}),o=p=>{const m=nj(t,p)??K2(p);return a(m)};zo(o,{withTypes:()=>o});const l=p=>{const m=nj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Ky(m)),!!m};zo(l,{withTypes:()=>l});const c=async(p,m,v,b)=>{const x=new AbortController,S=w8(o,x.signal),_=[];try{p.pending.add(x),await Promise.resolve(p.effect(m,zo({},v,{getOriginalState:b,condition:(O,T)=>S(O,T).then(Boolean),take:S,delay:q2(x.signal),pause:Ed(x.signal),extra:n,signal:x.signal,fork:x8(x.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((O,T,j)=>{O!==x&&(cs(O,Vy),j.delete(O))})},cancel:()=>{cs(x,Vy),p.pending.delete(x)},throwIfCancelled:()=>{fs(x.signal)}})))}catch(O){O instanceof ch||rj(r,O,{raisedBy:"effect"})}finally{await Promise.all(_),cs(x,y8),p.pending.delete(x)}},f=_8(t);return{middleware:p=>m=>v=>{if(!T2(v))return m(v);if(H2.match(v))return o(v.payload);if(S8.match(v)){f();return}if(F2.match(v))return l(v.payload);let b=p.getState();const x=()=>{if(b===tj)throw new Error(Yn(23));return b};let S;try{if(S=m(v),t.size>0){const _=p.getState(),O=Array.from(t.values());for(const T of O){let j=!1;try{j=T.predicate(v,_,b)}catch(M){j=!1,rj(r,M,{raisedBy:"predicate"})}j&&c(T,v,p,x)}}}finally{b=tj}return S},startListening:o,stopListening:l,clearListeners:f}};function Yn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var O8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},G2=xr({name:"chartLayout",initialState:O8,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:T8,setLayout:j8,setChartSize:E8,setScale:C8}=G2.actions,P8=G2.reducer;function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){M8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M8(e,t,n){return(t=D8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=Math.PI/180,R8=e=>e*180/Math.PI,Ut=(e,t,n,r)=>({x:e+Math.cos(-Cd*r)*n,y:t+Math.sin(-Cd*r)*n}),Y2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},N8=(e,t)=>{var{x:n,y:r}=e,{x:a,y:o}=t;return Math.sqrt((n-a)**2+(r-o)**2)},B8=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:o}=t,l=N8({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,f=Math.acos(c);return r>o&&(f=2*Math.PI-f),{radius:l,angle:R8(f),angleInRadian:f}},L8=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:t-o*360,endAngle:n-o*360}},U8=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return e+l*360},$8=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:o}=B8({x:n,y:r},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:f,endAngle:d}=L8(t),p=o,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?aj(aj({},t),{},{radius:a,angle:U8(p,t)}):null};function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z8(e,t,n){return(t=I8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=q8(e,"string");return typeof t=="symbol"?t:t+""}function q8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return $t(e)||$t(t)?n:Gr(t)?ga(e,t,n):typeof t=="function"?t(e):n}var V8=(e,t,n,r,a)=>{var o,l=-1,c=(o=t?.length)!==null&&o!==void 0?o:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<c;f++){var d=f>0?n[f-1].coordinate:n[c-1].coordinate,p=n[f].coordinate,m=f>=c-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Jt(p-d)!==Jt(m-p)){var b=[];if(Jt(m-p)===Jt(a[1]-a[0])){v=m;var x=p+a[1]-a[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{v=d;var S=m+a[1]-a[0];b[0]=Math.min(p,(S+p)/2),b[1]=Math.max(p,(S+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){({index:l}=n[f]);break}}else{var O=Math.min(d,m),T=Math.max(d,m);if(e>(O+p)/2&&e<=(T+p)/2){({index:l}=n[f]);break}}}else if(t){for(var j=0;j<c;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},K8=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&fe(e[o]))return mr(mr({},e),{},{[o]:e[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&fe(e[l]))return mr(mr({},e),{},{[l]:e[l]+(a||0)})}return e},_s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",W2=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var a,o,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(t),o||l.push(n),l},X2=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:d,tickCount:p,ticks:m,niceTicks:v,axisType:b}=e;if(!l)return null;var x=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(S=b==="angleAxis"&&o&&o.length>=2?Jt(o[0]-o[1])*2*S:S,m||v){var _=(m||v||[]).map((O,T)=>{var j=r?r.indexOf(O):O;return{coordinate:l(j)+S,value:O,offset:S,index:T}});return _.filter(O=>!Wn(O.coordinate))}return f&&d?d.map((O,T)=>({coordinate:l(O)+S,value:O,index:T,offset:S})):l.ticks&&p!=null?l.ticks(p).map((O,T)=>({coordinate:l(O)+S,value:O,offset:S,index:T})):l.domain().map((O,T)=>({coordinate:l(O)+S,value:r?r[O]:O,index:T,offset:S}))},oj=1e-4,H8=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-oj,o=Math.max(r[0],r[1])+oj,l=e(t[0]),c=e(t[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([t[0],t[n-1]])}},F8=(e,t)=>{if(!t||t.length!==2||!fe(t[0])||!fe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<n)&&(a[0]=n),(!fe(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},G8=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0,l=0;l<t;++l){var c=Wn(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Y8=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,o=0;o<t;++o){var l=Wn(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},W8={sign:G8,expand:O6,none:Go,silhouette:T6,wiggle:j6,positive:Y8},X8=(e,t,n)=>{var r=W8[n],a=A6().keys(t).value((o,l)=>+Ot(o,l,0)).order(Ry).offset(r);return a(e)};function Z2(e){return e==null?void 0:String(e)}var lj=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var c=Ot(o,t.dataKey,t.scale.domain()[l]);return $t(c)?null:t.scale(c)-a/2+r},Z8=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Q8=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},J8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],eV=(e,t,n)=>{if(e!=null)return J8(Object.keys(e).reduce((r,a)=>{var o=e[a],{stackedData:l}=o,c=l.reduce((f,d)=>{var p=Q8(d.slice(t,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},uj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=ah(t,p=>p.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var f=a[l],d=a[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function fj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:o}=e;return mr(mr({},t),{},{dataKey:n,payload:r,value:a,name:o})}function dh(e,t){if(e)return String(e);if(typeof t=="string")return t}function tV(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var o=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return o?{x:e,y:t}:null}return r?$8({x:e,y:t},r):null}var nV=(e,t,n,r)=>{var a=t.find(d=>d&&d.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,{radius:l}=r;return mr(mr(mr({},r),Ut(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:f}=r;return mr(mr(mr({},r),Ut(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{x:0,y:0}},rV=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,ji=e=>e.layout.height,iV=e=>e.layout.scale,Q2=e=>e.layout.margin,Pb=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mb=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),J2="data-recharts-item-index",eD="data-recharts-item-data-key",hh=60;function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lV=e=>e.brush.height,Kt=F([Ti,ji,Q2,lV,Pb,Mb,_2,Pq],(e,t,n,r,a,o,l,c)=>{var f=o.reduce((x,S)=>{var{orientation:_}=S;if(!S.mirror&&!S.hide){var O=typeof S.width=="number"?S.width:hh;return ra(ra({},x),{},{[_]:x[_]+O})}return x},{left:n.left||0,right:n.right||0}),d=a.reduce((x,S)=>{var{orientation:_}=S;return!S.mirror&&!S.hide?ra(ra({},x),{},{[_]:ga(x,"".concat(_))+S.height}):x},{top:n.top||0,bottom:n.bottom||0}),p=ra(ra({},d),f),m=p.bottom;p.bottom+=r,p=K8(p,l,c);var v=e-p.left-p.right,b=t-p.top-p.bottom;return ra(ra({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(b,0)})}),uV=F(Kt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tD=F(Ti,ji,(e,t)=>({x:0,y:0,width:e,height:t})),cV=A.createContext(null),Rn=()=>A.useContext(cV)!=null,ph=e=>e.brush,mh=F([ph,Kt,Q2],(e,t,n)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:fe(e.width)?e.width:t.width})),Db=()=>{var e,t=Rn(),n=ge(uV),r=ge(mh),a=(e=ge(ph))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},fV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nD=()=>{var e;return(e=ge(Kt))!==null&&e!==void 0?e:fV},kb=()=>ge(Ti),Rb=()=>ge(ji),dV={top:0,right:0,bottom:0,left:0},hV=()=>{var e;return(e=ge(t=>t.layout.margin))!==null&&e!==void 0?e:dV},nt=e=>e.layout.layoutType,Nb=()=>ge(nt),pV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rD=xr({name:"legend",initialState:pV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=yi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:hj,setLegendSettings:mV,addLegendPayload:iD,removeLegendPayload:aD}=rD.actions,gV=rD.reducer,vV=["contextPayload"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){Bb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bb(e,t,n){return(t=yV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xV(e,t){if(e==null)return{};var n,r,a=wV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _V(e){return e.value}function SV(e){var{contextPayload:t}=e,n=xV(e,vV),r=y2(t,e.payloadUniqBy,_V),a=Wo(Wo({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,a):typeof e.content=="function"?A.createElement(e.content,a):A.createElement(vb,a)}function AV(e,t,n,r,a,o){var{layout:l,align:c,verticalAlign:f}=t,d,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?d={left:((r||0)-o.width)/2}:d=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((a||0)-o.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Wo(Wo({},d),p)}function OV(e){var t=vt();return A.useEffect(()=>{t(mV(e))},[t,e]),null}function TV(e){var t=vt();return A.useEffect(()=>(t(hj(e)),()=>{t(hj({width:0,height:0}))}),[t,e]),null}function jV(e){var t=kq(),n=Y5(),r=hV(),{width:a,height:o,wrapperStyle:l,portal:c}=e,[f,d]=S2([t]),p=kb(),m=Rb(),v=p-(r.left||0)-(r.right||0),b=uc.getWidthOrHeight(e.layout,o,a,v),x=c?l:Wo(Wo({position:"absolute",width:b?.width||a||"auto",height:b?.height||o||"auto"},AV(l,e,r,p,m,f)),l),S=c??n;if(S==null)return null;var _=A.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},A.createElement(OV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(TV,{width:f.width,height:f.height}),A.createElement(SV,Hy({},e,b,{margin:r,chartWidth:p,chartHeight:m,contextPayload:t})));return GM.createPortal(_,S)}class uc extends A.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&fe(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return A.createElement(jV,this.props)}}Bb(uc,"displayName","Legend");Bb(uc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){EV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EV(e,t,n){return(t=CV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MV(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var DV=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,b=()=>{if(o&&o.length){var P={padding:0,margin:0},k=(c?ah(o,c):o).map((R,D)=>{if(R.type==="none")return null;var I=R.formatter||l||MV,{value:J,name:W}=R,H=J,ie=W;if(I){var oe=I(J,W,R,D,o);if(Array.isArray(oe))[H,ie]=oe;else if(oe!=null)H=oe;else return null}var me=yv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:me},Gr(ie)?A.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Gr(ie)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},x=yv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=yv({margin:0},a),_=!$t(p),O=_?p:"",T=et("recharts-default-tooltip",f),j=et("recharts-tooltip-label",d);_&&m&&o!==void 0&&o!==null&&(O=m(p,o));var M=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Fy({className:T,style:x},M),A.createElement("p",{className:j,style:S},A.isValidElement(O)?O:"".concat(O)),b())},hu="recharts-tooltip-wrapper",kV={visibility:"hidden"};function RV(e){var{coordinate:t,translateX:n,translateY:r}=e;return et(hu,{["".concat(hu,"-right")]:fe(n)&&t&&fe(t.x)&&n>=t.x,["".concat(hu,"-left")]:fe(n)&&t&&fe(t.x)&&n<t.x,["".concat(hu,"-bottom")]:fe(r)&&t&&fe(t.y)&&r>=t.y,["".concat(hu,"-top")]:fe(r)&&t&&fe(t.y)&&r<t.y})}function gj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=e;if(o&&fe(o[r]))return o[r];var p=n[r]-c-(a>0?a:0),m=n[r]+a;if(t[r])return l[r]?p:m;var v=f[r];if(v==null)return 0;if(l[r]){var b=p,x=v;return b<x?Math.max(m,v):Math.max(p,v)}if(d==null)return 0;var S=m+c,_=v+d;return S>_?Math.max(p,v):Math.max(m,v)}function NV(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function BV(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:f}=e,d,p,m;return l.height>0&&l.width>0&&n?(p=gj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=gj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=NV({translateX:p,translateY:m,useTranslate3d:c})):d=kV,{cssProperties:d,cssClasses:RV({translateX:p,translateY:m,coordinate:n})}}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){Gy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gy(e,t,n){return(t=LV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $V extends A.PureComponent{constructor(){super(...arguments),Gy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:p,reverseDirection:m,useTranslate3d:v,viewBox:b,wrapperStyle:x,lastBoundingBox:S,innerRef:_,hasPortalFromProps:O}=this.props,{cssClasses:T,cssProperties:j}=BV({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:p,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:b}),M=O?{}:Xf(Xf({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=Xf(Xf({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:P,ref:_},o)}}var zV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ol={isSsr:zV()},sD=()=>ge(e=>e.rootProps.accessibilityLayer);function Qn(e){return Number.isFinite(e)}function Xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(r){IV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IV(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xj={curveBasisClosed:h6,curveBasisOpen:p6,curveBasis:d6,curveBumpX:Q5,curveBumpY:J5,curveLinearClosed:m6,curveLinear:rh,curveMonotoneX:g6,curveMonotoneY:v6,curveNatural:y6,curveStep:b6,curveStepAfter:w6,curveStepBefore:x6},Zf=e=>Qn(e.x)&&Qn(e.y),pu=e=>e.x,mu=e=>e.y,KV=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ac(e));return(n==="curveMonotone"||n==="curveBump")&&t?xj["".concat(n).concat(t==="vertical"?"Y":"X")]:xj[n]||rh},HV=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:o=!1}=e,l=KV(t,a),c=o?n.filter(Zf):n,f;if(Array.isArray(r)){var d=o?r.filter(m=>Zf(m)):r,p=c.map((m,v)=>bj(bj({},m),{},{base:d[v]}));return a==="vertical"?f=Hf().y(mu).x1(pu).x0(m=>m.base.x):f=Hf().x(pu).y1(mu).y0(m=>m.base.y),f.defined(Zf).curve(l),f(p)}return a==="vertical"&&fe(r)?f=Hf().y(mu).x1(pu).x0(r):fe(r)?f=Hf().x(pu).y1(mu).y0(r):f=e2().x(pu).y(mu),f.defined(Zf).curve(l),f(c)},oD=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?HV(e):r;return A.createElement("path",Yy({},tt(e,!1),$5(e),{className:et("recharts-curve",t),d:o===null?void 0:o,ref:a}))},FV=["x","y","top","left","width","height","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(r){YV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YV(e,t,n){return(t=WV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t){if(e==null)return{};var n,r,a=QV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JV=(e,t,n,r,a,o)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),e9=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=e,f=ZV(e,FV),d=GV({x:t,y:n,top:r,left:a,width:o,height:l},f);return!fe(t)||!fe(n)||!fe(o)||!fe(l)||!fe(r)||!fe(a)?null:A.createElement("path",Wy({},tt(d,!0),{className:et("recharts-cross",c),d:JV(t,n,o,l,r,a)}))};function t9(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){r9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r9(e,t,n){return(t=i9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dr(e,t){var n=n9({},e),r=t,a=Object.keys(t),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}var bv={},xv={},wv={},Sj;function s9(){return Sj||(Sj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(wv)),wv}var Aj;function o9(){return Aj||(Aj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s9(),n=m2(),r=wb(),a=_b(),o=bb();function l(d,p,m){return c(d,p,void 0,void 0,void 0,void 0,m)}function c(d,p,m,v,b,x,S){const _=S(d,p,m,v,b,x);if(_!==void 0)return _;if(typeof d==typeof p)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===p;case"number":return d===p||Object.is(d,p);case"function":return d===p;case"object":return f(d,p,x,S)}return f(d,p,x,S)}function f(d,p,m,v){if(Object.is(d,p))return!0;let b=r.getTag(d),x=r.getTag(p);if(b===a.argumentsTag&&(b=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),b!==x)return!1;switch(b){case a.stringTag:return d.toString()===p.toString();case a.numberTag:{const O=d.valueOf(),T=p.valueOf();return o.eq(O,T)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),p.valueOf());case a.regexpTag:return d.source===p.source&&d.flags===p.flags;case a.functionTag:return d===p}m=m??new Map;const S=m.get(d),_=m.get(p);if(S!=null&&_!=null)return S===p;m.set(d,p),m.set(p,d);try{switch(b){case a.mapTag:{if(d.size!==p.size)return!1;for(const[O,T]of d.entries())if(!p.has(O)||!c(T,p.get(O),O,d,p,m,v))return!1;return!0}case a.setTag:{if(d.size!==p.size)return!1;const O=Array.from(d.values()),T=Array.from(p.values());for(let j=0;j<O.length;j++){const M=O[j],P=T.findIndex(k=>c(M,k,void 0,d,p,m,v));if(P===-1)return!1;T.splice(P,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(p)||d.length!==p.length)return!1;for(let O=0;O<d.length;O++)if(!c(d[O],p[O],O,d,p,m,v))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==p.byteLength?!1:f(new Uint8Array(d),new Uint8Array(p),m,v);case a.dataViewTag:return d.byteLength!==p.byteLength||d.byteOffset!==p.byteOffset?!1:f(new Uint8Array(d),new Uint8Array(p),m,v);case a.errorTag:return d.name===p.name&&d.message===p.message;case a.objectTag:{if(!(f(d.constructor,p.constructor,m,v)||t.isPlainObject(d)&&t.isPlainObject(p)))return!1;const T=[...Object.keys(d),...n.getSymbols(d)],j=[...Object.keys(p),...n.getSymbols(p)];if(T.length!==j.length)return!1;for(let M=0;M<T.length;M++){const P=T[M],k=d[P];if(!Object.hasOwn(p,P))return!1;const R=p[P];if(!c(k,R,P,d,p,m,v))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(p)}}e.isEqualWith=l}(xv)),xv}var _v={},Oj;function l9(){return Oj||(Oj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(_v)),_v}var Tj;function u9(){return Tj||(Tj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o9(),n=l9();function r(a,o){return t.isEqualWith(a,o,n.noop)}e.isEqual=r}(bv)),bv}var Sv,jj;function c9(){return jj||(jj=1,Sv=u9().isEqual),Sv}var f9=c9();const d9=Wr(f9);function h9(e){var t={},n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){a=e.setTimeout(o.bind(null,d),f);return}o(f),a=e.setTimeout(o.bind(null,d));return}typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}var Pd=1e-4,lD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Ej=(e,t)=>n=>{var r=lD(e,t);return uD(r,n)},p9=(e,t)=>n=>{var r=lD(e,t),a=[...r.map((o,l)=>o*l).slice(1),0];return uD(a,n)},Cj=function(){for(var t,n,r,a,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,a]=f[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([t,r,n,a]=l);var d=Ej(t,n),p=Ej(r,a),m=p9(t,n),v=x=>x>1?1:x<0?0:x,b=x=>{for(var S=x>1?1:x,_=S,O=0;O<8;++O){var T=d(_)-S,j=m(_);if(Math.abs(T-S)<Pd||j<Pd)return p(_);_=v(_-T/j)}return p(_)};return b.isStepper=!1,b},m9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,o=(l,c,f)=>{var d=-(l-c)*n,p=f*r,m=f+(d-p)*a/1e3,v=f*a/1e3+l;return Math.abs(v-c)<Pd&&Math.abs(m)<Pd?[c,0]:[v,m]};return o.isStepper=!0,o.dt=a,o},g9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cj(e);case"spring":return m9();default:if(e.split("(")[0]==="cubic-bezier")return Cj(e)}return typeof e=="function"?e:null};function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){v9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v9(e,t,n){return(t=y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),w9=(e,t,n)=>e.map(r=>"".concat(x9(r)," ").concat(t,"ms ").concat(n)).join(","),_9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Hu=(e,t)=>Object.keys(t).reduce((n,r)=>Mj(Mj({},n),{},{[r]:e(r,t[r])}),{});function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){S9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S9(e,t,n){return(t=A9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md=(e,t,n)=>e+(t-e)*n,Xy=e=>{var{from:t,to:n}=e;return t!==n},cD=(e,t,n)=>{var r=Hu((a,o)=>{if(Xy(o)){var[l,c]=e(o.from,o.to,o.velocity);return cn(cn({},o),{},{from:l,velocity:c})}return o},t);return n<1?Hu((a,o)=>Xy(o)?cn(cn({},o),{},{velocity:Md(o.velocity,r[a].velocity,n),from:Md(o.from,r[a].from,n)}):o,t):cD(e,r,n-1)};function T9(e,t,n,r,a,o){var l,c=r.reduce((v,b)=>cn(cn({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Hu((v,b)=>b.from,c),d=()=>!Object.values(c).filter(Xy).length,p=null,m=v=>{l||(l=v);var b=v-l,x=b/n.dt;c=cD(n,c,x),a(cn(cn(cn({},e),t),f())),l=v,d()||(p=o.setTimeout(m))};return()=>(p=o.setTimeout(m),()=>{p()})}function j9(e,t,n,r,a,o,l){var c=null,f=a.reduce((m,v)=>cn(cn({},m),{},{[v]:[e[v],t[v]]}),{}),d,p=m=>{d||(d=m);var v=(m-d)/r,b=Hu((S,_)=>Md(..._,n(v)),f);if(o(cn(cn(cn({},e),t),b)),v<1)c=l.setTimeout(p);else{var x=Hu((S,_)=>Md(..._,n(1)),f);o(cn(cn(cn({},e),t),x))}};return()=>(c=l.setTimeout(p),()=>{c()})}const E9=(e,t,n,r,a,o)=>{var l=_9(e,t);return n.isStepper===!0?T9(e,t,n,l,a,o):j9(e,t,n,r,l,a,o)};class C9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{cancelAnimationFrame(a)}}}var P9=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function M9(e,t){if(e==null)return{};var n,r,a=D9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){is(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function is(e,t,n){return(t=k9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N9(){return h9(new C9)}class Lb extends A.PureComponent{constructor(t,n){super(t,n),is(this,"mounted",!1),is(this,"manager",null),is(this,"stopJSAnimation",null),is(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:o,to:l,children:c,duration:f,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(o){if(typeof c=="function"){this.state={style:o};return}this.state={style:a?{[a]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:o,to:l,from:c}=this.props,{style:f}=this.state;if(r){if(!n){var d={style:a?{[a]:l}:l};this.state&&f&&(a&&f[a]!==l||!a&&f!==l)&&this.setState(d);return}if(!(d9(t.to,l)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||o?c:t.to;if(this.state&&f){var v={style:a?{[a]:m}:m};(a&&f[a]!==m||!a&&f!==m)&&this.setState(v)}this.runAnimation(ia(ia({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:f}=t,d=E9(n,r,g9(o),a,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=d()};this.manager.start([f,l,p,a,c])}runAnimation(t){var{begin:n,duration:r,attributeName:a,to:o,easing:l,onAnimationStart:c,onAnimationEnd:f,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof d=="function"||l==="spring"){this.runJSAnimation(t);return}var p=a?{[a]:o}:o,m=w9(Object.keys(p),r,l);this.manager.start([c,n,ia(ia({},p),{},{transition:m}),r,f])}render(){var t=this.props,{children:n,begin:r,duration:a,attributeName:o,easing:l,isActive:c,from:f,to:d,canBegin:p,onAnimationEnd:m,shouldReAnimate:v,onAnimationReStart:b,animationManager:x}=t,S=M9(t,P9),_=A.Children.count(n),O=this.state.style;if(typeof n=="function")return n(O);if(!c||_===0||a<=0)return n;var T=j=>{var{style:M={},className:P}=j.props,k=A.cloneElement(j,ia(ia({},S),{},{style:ia(ia({},M),O),className:P}));return k};return _===1?T(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,j=>T(j)))}}is(Lb,"displayName","Animate");is(Lb,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var B9=A.createContext(null);function vs(e){var t,n,r=A.useContext(B9);return A.createElement(Lb,Zy({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:N9()}))}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(null,arguments)}var Rj=(e,t,n,r,a)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=a[m]>o?o:a[m];d="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(t)),d+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*p[1])),d+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),d+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*p[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);d="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*b," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},L9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fD=e=>{var t=Dr(e,L9),n=A.useRef(null),[r,a]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&a(O)}catch{}},[]);var{x:o,y:l,width:c,height:f,radius:d,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:S}=t;if(o!==+o||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var _=et("recharts-rectangle",p);return S?A.createElement(vs,{canBegin:r>0,from:{width:c,height:f,x:o,y:l},to:{width:c,height:f,x:o,y:l},duration:v,animationEasing:m,isActive:S},O=>{var{width:T,height:j,x:M,y:P}=O;return A.createElement(vs,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:x,easing:m},A.createElement("path",Dd({},tt(t,!0),{className:_,d:Rj(M,P,T,j,d),ref:n})))}):A.createElement("path",Dd({},tt(t,!0),{className:_,d:Rj(o,l,c,f,d)}))};function dD(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:o}=e,l=Ut(t,n,r,a),c=Ut(t,n,r,o);return{points:[l,c],cx:t,cy:n,radius:r,startAngle:a,endAngle:o}}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}var U9=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qf=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:f}=e,d=c*(l?1:-1)+r,p=Math.asin(c/d)/Cd,m=f?a:a+o*p,v=Ut(t,n,d,m),b=Ut(t,n,r,m),x=f?a-o*p:a,S=Ut(t,n,d*Math.cos(p*Cd),x);return{center:v,circleTangency:b,lineTangency:S,theta:p}},hD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=e,c=U9(o,l),f=o+c,d=Ut(t,n,a,o),p=Ut(t,n,a,f),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Ut(t,n,r,o),b=Ut(t,n,r,f);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},$9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=e,p=Jt(d-f),{circleTangency:m,lineTangency:v,theta:b}=Qf({cx:t,cy:n,radius:a,angle:f,sign:p,cornerRadius:o,cornerIsExternal:c}),{circleTangency:x,lineTangency:S,theta:_}=Qf({cx:t,cy:n,radius:a,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:c}),O=c?Math.abs(f-d):Math.abs(f-d)-b-_;if(O<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hD({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:d});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:M,theta:P}=Qf({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:k,lineTangency:R,theta:D}=Qf({cx:t,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=c?Math.abs(f-d):Math.abs(f-d)-P-D;if(I<0&&o===0)return"".concat(T,"L").concat(t,",").concat(n,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(p>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else T+="L".concat(t,",").concat(n,"Z");return T},z9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pD=e=>{var t=Dr(e,z9),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p,className:m}=t;if(o<a||d===p)return null;var v=et("recharts-sector",m),b=o-a,x=An(l,b,0,!0),S;return x>0&&Math.abs(d-p)<360?S=$9({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):S=hD({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:p}),A.createElement("path",Qy({},tt(t,!0),{className:v,d:S}))};function I9(e,t,n){var r,a,o,l;if(e==="horizontal")r=t.x,o=r,a=n.top,l=n.top+n.height;else if(e==="vertical")a=t.y,l=a,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:f,innerRadius:d,outerRadius:p,angle:m}=t,v=Ut(c,f,d,m),b=Ut(c,f,p,m);r=v.x,a=v.y,o=b.x,l=b.y}else return dD(t);return[{x:r,y:a},{x:o,y:l}]}var Av={},Ov={},Tv={},Nj;function q9(){return Nj||(Nj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x2();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(Tv)),Tv}var Bj;function V9(){return Bj||(Bj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q9();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(Ov)),Ov}var Lj;function K9(){return Lj||(Lj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w2(),n=V9();function r(a,o,l){l&&typeof l!="number"&&t.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=a,a+=l;return f}e.range=r}(Av)),Av}var jv,Uj;function H9(){return Uj||(Uj=1,jv=K9().range),jv}var F9=H9();const mD=Wr(F9);function ha(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ub(e){let t,n,r;e.length!==2?(t=ha,n=(c,f)=>ha(e(c),f),r=(c,f)=>e(c)-f):(t=e===ha||e===G9?e:Y9,n=e,r=e);function a(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const m=d+p>>>1;n(c[m],f)<0?d=m+1:p=m}while(d<p)}return d}function o(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const m=d+p>>>1;n(c[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function l(c,f,d=0,p=c.length){const m=a(c,f,d,p-1);return m>d&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:a,center:l,right:o}}function Y9(){return 0}function gD(e){return e===null?NaN:+e}function*W9(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const X9=Ub(ha),cc=X9.right;Ub(gD).center;class $j extends Map{constructor(t,n=J9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(zj(this,t))}has(t){return super.has(zj(this,t))}set(t,n){return super.set(Z9(this,t),n)}delete(t){return super.delete(Q9(this,t))}}function zj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Z9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Q9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function J9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eK(e=ha){if(e===ha)return vD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function vD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tK=Math.sqrt(50),nK=Math.sqrt(10),rK=Math.sqrt(2);function kd(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=tK?10:o>=nK?5:o>=rK?2:1;let c,f,d;return a<0?(d=Math.pow(10,-a)/l,c=Math.round(e*d),f=Math.round(t*d),c/d<e&&++c,f/d>t&&--f,d=-d):(d=Math.pow(10,a)*l,c=Math.round(e/d),f=Math.round(t/d),c*d<e&&++c,f*d>t&&--f),f<c&&.5<=n&&n<2?kd(e,t,n*2):[c,f,d]}function Jy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,o,l]=r?kd(t,e,n):kd(e,t,n);if(!(o>=a))return[];const c=o-a+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(o-d)/-l;else for(let d=0;d<c;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(a+d)/-l;else for(let d=0;d<c;++d)f[d]=(a+d)*l;return f}function e0(e,t,n){return t=+t,e=+e,n=+n,kd(e,t,n)[2]}function t0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?e0(t,e,n):e0(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Ij(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yD(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?vD:eK(a);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(t-d*m/f+v)),x=Math.min(r,Math.floor(t+(f-d)*m/f+v));yD(e,t,b,x,a)}const o=e[t];let l=n,c=r;for(gu(e,n,t),a(e[r],o)>0&&gu(e,n,r);l<c;){for(gu(e,l,c),++l,--c;a(e[l],o)<0;)++l;for(;a(e[c],o)>0;)--c}a(e[n],o)===0?gu(e,n,c):(++c,gu(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iK(e,t,n){if(e=Float64Array.from(W9(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qj(e);if(t>=1)return Ij(e);var r,a=(r-1)*t,o=Math.floor(a),l=Ij(yD(e,o).subarray(0,o+1)),c=qj(e.subarray(o+1));return l+(c-l)*(a-o)}}function aK(e,t,n=gD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),l=+n(e[o],o,e),c=+n(e[o+1],o+1,e);return l+(c-l)*(a-o)}}function sK(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}function wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const n0=Symbol("implicit");function $b(){var e=new $j,t=[],n=[],r=n0;function a(o){let l=e.get(o);if(l===void 0){if(r!==n0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new $j;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return $b(t,n).unknown(r)},wr.apply(a,arguments),a}function zb(){var e=$b().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,o,l,c=!1,f=0,d=0,p=.5;delete e.unknown;function m(){var v=t().length,b=a<r,x=b?a:r,S=b?r:a;o=(S-x)/Math.max(1,v-f+d*2),c&&(o=Math.floor(o)),x+=(S-x-o*(v-f))*p,l=o*(1-f),c&&(x=Math.round(x),l=Math.round(l));var _=sK(v).map(function(O){return x+o*O});return n(b?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,m()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(c=!!v,m()):c},e.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),m()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},e.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return zb(t(),[r,a]).round(c).paddingInner(f).paddingOuter(d).align(p)},wr.apply(m(),arguments)}function bD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bD(t())},e}function oK(){return bD(zb.apply(null,arguments).paddingInner(1))}function Ib(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fc(){}var Fu=.7,Rd=1/Fu,Io="\\s*([+-]?\\d+)\\s*",Gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lK=/^#([0-9a-f]{3,8})$/,uK=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),cK=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),fK=new RegExp(`^rgba\\(${Io},${Io},${Io},${Gu}\\)$`),dK=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${Gu}\\)$`),hK=new RegExp(`^hsl\\(${Gu},${Fr},${Fr}\\)$`),pK=new RegExp(`^hsla\\(${Gu},${Fr},${Fr},${Gu}\\)$`),Vj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ib(fc,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kj,formatHex:Kj,formatHex8:mK,formatHsl:gK,formatRgb:Hj,toString:Hj});function Kj(){return this.rgb().formatHex()}function mK(){return this.rgb().formatHex8()}function gK(){return wD(this).formatHsl()}function Hj(){return this.rgb().formatRgb()}function Yu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fj(t):n===3?new kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uK.exec(e))?new kn(t[1],t[2],t[3],1):(t=cK.exec(e))?new kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fK.exec(e))?Jf(t[1],t[2],t[3],t[4]):(t=dK.exec(e))?Jf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hK.exec(e))?Wj(t[1],t[2]/100,t[3]/100,1):(t=pK.exec(e))?Wj(t[1],t[2]/100,t[3]/100,t[4]):Vj.hasOwnProperty(e)?Fj(Vj[e]):e==="transparent"?new kn(NaN,NaN,NaN,0):null}function Fj(e){return new kn(e>>16&255,e>>8&255,e&255,1)}function Jf(e,t,n,r){return r<=0&&(e=t=n=NaN),new kn(e,t,n,r)}function vK(e){return e instanceof fc||(e=Yu(e)),e?(e=e.rgb(),new kn(e.r,e.g,e.b,e.opacity)):new kn}function r0(e,t,n,r){return arguments.length===1?vK(e):new kn(e,t,n,r??1)}function kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ib(kn,r0,xD(fc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fu:Math.pow(Fu,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kn(ds(this.r),ds(this.g),ds(this.b),Nd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gj,formatHex:Gj,formatHex8:yK,formatRgb:Yj,toString:Yj}));function Gj(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function yK(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yj(){const e=Nd(this.opacity);return`${e===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${e===1?")":`, ${e})`}`}function Nd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=ds(e),(e<16?"0":"")+e.toString(16)}function Wj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pr(e,t,n,r)}function wD(e){if(e instanceof Pr)return new Pr(e.h,e.s,e.l,e.opacity);if(e instanceof fc||(e=Yu(e)),!e)return new Pr;if(e instanceof Pr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,c=o-a,f=(o+a)/2;return c?(t===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-t)/c+2:l=(t-n)/c+4,c/=f<.5?o+a:2-o-a,l*=60):c=f>0&&f<1?0:l,new Pr(l,c,f,e.opacity)}function bK(e,t,n,r){return arguments.length===1?wD(e):new Pr(e,t,n,r??1)}function Pr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ib(Pr,bK,xD(fc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fu:Math.pow(Fu,e),new Pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new kn(Ev(e>=240?e-240:e+120,a,r),Ev(e,a,r),Ev(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Pr(Xj(this.h),ed(this.s),ed(this.l),Nd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nd(this.opacity);return`${e===1?"hsl(":"hsla("}${Xj(this.h)}, ${ed(this.s)*100}%, ${ed(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xj(e){return e=(e||0)%360,e<0?e+360:e}function ed(e){return Math.max(0,Math.min(1,e||0))}function Ev(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qb=e=>()=>e;function xK(e,t){return function(n){return e+n*t}}function wK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _K(e){return(e=+e)==1?_D:function(t,n){return n-t?wK(t,n,e):qb(isNaN(t)?n:t)}}function _D(e,t){var n=t-e;return n?xK(e,n):qb(isNaN(e)?t:e)}const Zj=function e(t){var n=_K(t);function r(a,o){var l=n((a=r0(a)).r,(o=r0(o)).r),c=n(a.g,o.g),f=n(a.b,o.b),d=_D(a.opacity,o.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=f(p),a.opacity=d(p),a+""}}return r.gamma=e,r}(1);function SK(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function AK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OK(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=ll(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function TK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jK(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ll(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var i0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cv=new RegExp(i0.source,"g");function EK(e){return function(){return e}}function CK(e){return function(t){return e(t)+""}}function PK(e,t){var n=i0.lastIndex=Cv.lastIndex=0,r,a,o,l=-1,c=[],f=[];for(e=e+"",t=t+"";(r=i0.exec(e))&&(a=Cv.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,f.push({i:l,x:Bd(r,a)})),n=Cv.lastIndex;return n<t.length&&(o=t.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?CK(f[0].x):EK(t):(t=f.length,function(d){for(var p=0,m;p<t;++p)c[(m=f[p]).i]=m.x(d);return c.join("")})}function ll(e,t){var n=typeof t,r;return t==null||n==="boolean"?qb(t):(n==="number"?Bd:n==="string"?(r=Yu(t))?(t=r,Zj):PK:t instanceof Yu?Zj:t instanceof Date?TK:AK(t)?SK:Array.isArray(t)?OK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jK:Bd)(e,t)}function Vb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function MK(e,t){t===void 0&&(t=e,e=ll);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function DK(e){return function(){return e}}function Ld(e){return+e}var Qj=[0,1];function Sn(e){return e}function a0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:DK(isNaN(t)?NaN:.5)}function kK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function RK(e,t,n){var r=e[0],a=e[1],o=t[0],l=t[1];return a<r?(r=a0(a,r),o=n(l,o)):(r=a0(r,a),o=n(o,l)),function(c){return o(r(c))}}function NK(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)a[l]=a0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(c){var f=cc(e,c,1,r)-1;return o[f](a[f](c))}}function dc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gh(){var e=Qj,t=Qj,n=ll,r,a,o,l=Sn,c,f,d;function p(){var v=Math.min(e.length,t.length);return l!==Sn&&(l=kK(e[0],e[v-1])),c=v>2?NK:RK,f=d=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=c(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(a((d||(d=c(t,e.map(r),Bd)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Ld),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=Vb,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Sn,p()):l!==Sn},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,b){return r=v,a=b,p()}}function Kb(){return gh()(Sn,Sn)}function BK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ud(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zo(e){return e=Ud(Math.abs(e)),e?e[1]:NaN}function LK(e,t){return function(n,r){for(var a=n.length,o=[],l=0,c=e[0],f=0;a>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(a-=c,a+c)),!((f+=c+1)>r));)c=e[l=(l+1)%e.length];return o.reverse().join(t)}}function UK(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $K=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wu(e){if(!(t=$K.exec(e)))throw new Error("invalid format: "+e);var t;return new Hb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wu.prototype=Hb.prototype;function Hb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zK(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var SD;function IK(e,t){var n=Ud(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(SD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ud(e,Math.max(0,t+o-1))[0]}function Jj(e,t){var n=Ud(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const eE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jj(e*100,t),r:Jj,s:IK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tE(e){return e}var nE=Array.prototype.map,rE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qK(e){var t=e.grouping===void 0||e.thousands===void 0?tE:LK(nE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?tE:UK(nE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Wu(m);var v=m.fill,b=m.align,x=m.sign,S=m.symbol,_=m.zero,O=m.width,T=m.comma,j=m.precision,M=m.trim,P=m.type;P==="n"?(T=!0,P="g"):eE[P]||(j===void 0&&(j=12),M=!0,P="g"),(_||v==="0"&&b==="=")&&(_=!0,v="0",b="=");var k=S==="$"?n:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=S==="$"?r:/[%p]/.test(P)?l:"",D=eE[P],I=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function J(W){var H=k,ie=R,oe,me,q;if(P==="c")ie=D(W)+ie,W="";else{W=+W;var G=W<0||1/W<0;if(W=isNaN(W)?f:D(Math.abs(W),j),M&&(W=zK(W)),G&&+W==0&&x!=="+"&&(G=!1),H=(G?x==="("?x:c:x==="-"||x==="("?"":x)+H,ie=(P==="s"?rE[8+SD/3]:"")+ie+(G&&x==="("?")":""),I){for(oe=-1,me=W.length;++oe<me;)if(q=W.charCodeAt(oe),48>q||q>57){ie=(q===46?a+W.slice(oe+1):W.slice(oe))+ie,W=W.slice(0,oe);break}}}T&&!_&&(W=t(W,1/0));var se=H.length+W.length+ie.length,be=se<O?new Array(O-se+1).join(v):"";switch(T&&_&&(W=t(be+W,be.length?O-ie.length:1/0),be=""),b){case"<":W=H+W+ie+be;break;case"=":W=H+be+W+ie;break;case"^":W=be.slice(0,se=be.length>>1)+H+W+ie+be.slice(se);break;default:W=be+H+W+ie;break}return o(W)}return J.toString=function(){return m+""},J}function p(m,v){var b=d((m=Wu(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Zo(v)/3)))*3,S=Math.pow(10,-x),_=rE[8+x/3];return function(O){return b(S*O)+_}}return{format:d,formatPrefix:p}}var td,Fb,AD;VK({thousands:",",grouping:[3],currency:["$",""]});function VK(e){return td=qK(e),Fb=td.format,AD=td.formatPrefix,td}function KK(e){return Math.max(0,-Zo(Math.abs(e)))}function HK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zo(t)/3)))*3-Zo(Math.abs(e)))}function FK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zo(t)-Zo(e))+1}function OD(e,t,n,r){var a=t0(e,t,n),o;switch(r=Wu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=HK(a,l))&&(r.precision=o),AD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=FK(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=KK(a))&&(r.precision=o-(r.type==="%")*2);break}}return Fb(r)}function xa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Jy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return OD(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,l=r[a],c=r[o],f,d,p=10;for(c<l&&(d=l,l=c,c=d,d=a,a=o,o=d);p-- >0;){if(d=e0(l,c,n),d===f)return r[a]=l,r[o]=c,t(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return e},e}function TD(){var e=Kb();return e.copy=function(){return dc(e,TD())},wr.apply(e,arguments),xa(e)}function jD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ld),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jD(e).unknown(t)},e=arguments.length?Array.from(e,Ld):[0,1],xa(n)}function ED(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),e[n]=t.floor(a),e[r]=t.ceil(o),e}function iE(e){return Math.log(e)}function aE(e){return Math.exp(e)}function GK(e){return-Math.log(-e)}function YK(e){return-Math.exp(-e)}function WK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XK(e){return e===10?WK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ZK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sE(e){return(t,n)=>-e(-t,n)}function Gb(e){const t=e(iE,aE),n=t.domain;let r=10,a,o;function l(){return a=ZK(r),o=XK(r),n()[0]<0?(a=sE(a),o=sE(o),e(GK,YK)):e(iE,aE),t}return t.base=function(c){return arguments.length?(r=+c,l()):r},t.domain=function(c){return arguments.length?(n(c),l()):n()},t.ticks=c=>{const f=n();let d=f[0],p=f[f.length-1];const m=p<d;m&&([d,p]=[p,d]);let v=a(d),b=a(p),x,S;const _=c==null?10:+c;let O=[];if(!(r%1)&&b-v<_){if(v=Math.floor(v),b=Math.ceil(b),d>0){for(;v<=b;++v)for(x=1;x<r;++x)if(S=v<0?x/o(-v):x*o(v),!(S<d)){if(S>p)break;O.push(S)}}else for(;v<=b;++v)for(x=r-1;x>=1;--x)if(S=v>0?x/o(-v):x*o(v),!(S<d)){if(S>p)break;O.push(S)}O.length*2<_&&(O=Jy(d,p,_))}else O=Jy(v,b,Math.min(b-v,_)).map(o);return m?O.reverse():O},t.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Wu(f)).precision==null&&(f.trim=!0),f=Fb(f)),c===1/0)return f;const d=Math.max(1,r*c/t.ticks().length);return p=>{let m=p/o(Math.round(a(p)));return m*r<r-.5&&(m*=r),m<=d?f(p):""}},t.nice=()=>n(ED(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function CD(){const e=Gb(gh()).domain([1,10]);return e.copy=()=>dc(e,CD()).base(e.base()),wr.apply(e,arguments),e}function oE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yb(e){var t=1,n=e(oE(t),lE(t));return n.constant=function(r){return arguments.length?e(oE(t=+r),lE(t)):t},xa(n)}function PD(){var e=Yb(gh());return e.copy=function(){return dc(e,PD()).constant(e.constant())},wr.apply(e,arguments)}function uE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JK(e){return e<0?-e*e:e*e}function Wb(e){var t=e(Sn,Sn),n=1;function r(){return n===1?e(Sn,Sn):n===.5?e(QK,JK):e(uE(n),uE(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},xa(t)}function Xb(){var e=Wb(gh());return e.copy=function(){return dc(e,Xb()).exponent(e.exponent())},wr.apply(e,arguments),e}function eH(){return Xb.apply(null,arguments).exponent(.5)}function cE(e){return Math.sign(e)*e*e}function tH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MD(){var e=Kb(),t=[0,1],n=!1,r;function a(o){var l=tH(e(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return e.invert(cE(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ld)).map(cE)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return MD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},wr.apply(a,arguments),xa(a)}function DD(){var e=[],t=[],n=[],r;function a(){var l=0,c=Math.max(1,t.length);for(n=new Array(c-1);++l<c;)n[l-1]=aK(e,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:t[cc(n,l)]}return o.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ha),a()},o.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return DD().domain(e).range(t).unknown(r)},wr.apply(o,arguments)}function kD(){var e=0,t=1,n=1,r=[.5],a=[0,1],o;function l(f){return f!=null&&f<=f?a[cc(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,c()):[e,t]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,c()):a.slice()},l.invertExtent=function(f){var d=a.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return kD().domain([e,t]).range(a).unknown(o)},wr.apply(xa(l),arguments)}function RD(){var e=[.5],t=[0,1],n,r=1;function a(o){return o!=null&&o<=o?t[cc(e,o,0,r)]:n}return a.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return RD().domain(e).range(t).unknown(n)},wr.apply(a,arguments)}const Pv=new Date,Mv=new Date;function Ht(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const f=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let d;do f.push(d=new Date(+o)),t(o,c),e(o);while(d<o&&o<l);return f},a.filter=o=>Ht(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!o(l););else for(;--c>=0;)for(;t(l,1),!o(l););}),n&&(a.count=(o,l)=>(Pv.setTime(+o),Mv.setTime(+l),e(Pv),e(Mv),Math.floor(n(Pv,Mv))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const $d=Ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$d.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$d);$d.range;const gi=1e3,gr=gi*60,vi=gr*60,Si=vi*24,Zb=Si*7,fE=Si*30,Dv=Si*365,ss=Ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());ss.range;const Qb=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());Qb.range;const Jb=Ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());Jb.range;const ex=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());ex.range;const tx=Ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());tx.range;const hc=Ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/Si,e=>e.getDate()-1);hc.range;const vh=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>e.getUTCDate()-1);vh.range;const ND=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>Math.floor(e/Si));ND.range;function Ss(e){return Ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*gr)/Zb)}const yh=Ss(0),zd=Ss(1),nH=Ss(2),rH=Ss(3),Qo=Ss(4),iH=Ss(5),aH=Ss(6);yh.range;zd.range;nH.range;rH.range;Qo.range;iH.range;aH.range;function As(e){return Ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Zb)}const bh=As(0),Id=As(1),sH=As(2),oH=As(3),Jo=As(4),lH=As(5),uH=As(6);bh.range;Id.range;sH.range;oH.range;Jo.range;lH.range;uH.range;const nx=Ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nx.range;const rx=Ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rx.range;const Ai=Ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ai.range;const Oi=Ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Oi.range;function BD(e,t,n,r,a,o){const l=[[ss,1,gi],[ss,5,5*gi],[ss,15,15*gi],[ss,30,30*gi],[o,1,gr],[o,5,5*gr],[o,15,15*gr],[o,30,30*gr],[a,1,vi],[a,3,3*vi],[a,6,6*vi],[a,12,12*vi],[r,1,Si],[r,2,2*Si],[n,1,Zb],[t,1,fE],[t,3,3*fE],[e,1,Dv]];function c(d,p,m){const v=p<d;v&&([d,p]=[p,d]);const b=m&&typeof m.range=="function"?m:f(d,p,m),x=b?b.range(d,+p+1):[];return v?x.reverse():x}function f(d,p,m){const v=Math.abs(p-d)/m,b=Ub(([,,_])=>_).right(l,v);if(b===l.length)return e.every(t0(d/Dv,p/Dv,m));if(b===0)return $d.every(Math.max(t0(d,p,m),1));const[x,S]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return x.every(S)}return[c,f]}const[cH,fH]=BD(Oi,rx,bh,ND,tx,Jb),[dH,hH]=BD(Ai,nx,yh,hc,ex,Qb);function kv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pH(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,l=e.shortDays,c=e.months,f=e.shortMonths,d=yu(a),p=bu(a),m=yu(o),v=bu(o),b=yu(l),x=bu(l),S=yu(c),_=bu(c),O=yu(f),T=bu(f),j={a:G,A:se,b:be,B,c:null,d:vE,e:vE,f:LH,g:GH,G:WH,H:RH,I:NH,j:BH,L:LD,m:UH,M:$H,p:X,q:Q,Q:xE,s:wE,S:zH,u:IH,U:qH,V:VH,w:KH,W:HH,x:null,X:null,y:FH,Y:YH,Z:XH,"%":bE},M={a:re,A:pe,b:_e,B:Oe,c:null,d:yE,e:yE,f:eF,g:cF,G:dF,H:ZH,I:QH,j:JH,L:$D,m:tF,M:nF,p:Ft,q:Ge,Q:xE,s:wE,S:rF,u:iF,U:aF,V:sF,w:oF,W:lF,x:null,X:null,y:uF,Y:fF,Z:hF,"%":bE},P={a:J,A:W,b:H,B:ie,c:oe,d:mE,e:mE,f:PH,g:pE,G:hE,H:gE,I:gE,j:TH,L:CH,m:OH,M:jH,p:I,q:AH,Q:DH,s:kH,S:EH,u:bH,U:xH,V:wH,w:yH,W:_H,x:me,X:q,y:pE,Y:hE,Z:SH,"%":MH};j.x=k(n,j),j.X=k(r,j),j.c=k(t,j),M.x=k(n,M),M.X=k(r,M),M.c=k(t,M);function k(ue,Me){return function(Re){var ne=[],Tt=-1,Ie=0,nn=ue.length,rn,xt,Es;for(Re instanceof Date||(Re=new Date(+Re));++Tt<nn;)ue.charCodeAt(Tt)===37&&(ne.push(ue.slice(Ie,Tt)),(xt=dE[rn=ue.charAt(++Tt)])!=null?rn=ue.charAt(++Tt):xt=rn==="e"?" ":"0",(Es=Me[rn])&&(rn=Es(Re,xt)),ne.push(rn),Ie=Tt+1);return ne.push(ue.slice(Ie,Tt)),ne.join("")}}function R(ue,Me){return function(Re){var ne=vu(1900,void 0,1),Tt=D(ne,ue,Re+="",0),Ie,nn;if(Tt!=Re.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Me&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ie=Rv(vu(ne.y,0,1)),nn=Ie.getUTCDay(),Ie=nn>4||nn===0?Id.ceil(Ie):Id(Ie),Ie=vh.offset(Ie,(ne.V-1)*7),ne.y=Ie.getUTCFullYear(),ne.m=Ie.getUTCMonth(),ne.d=Ie.getUTCDate()+(ne.w+6)%7):(Ie=kv(vu(ne.y,0,1)),nn=Ie.getDay(),Ie=nn>4||nn===0?zd.ceil(Ie):zd(Ie),Ie=hc.offset(Ie,(ne.V-1)*7),ne.y=Ie.getFullYear(),ne.m=Ie.getMonth(),ne.d=Ie.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),nn="Z"in ne?Rv(vu(ne.y,0,1)).getUTCDay():kv(vu(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(nn+5)%7:ne.w+ne.U*7-(nn+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Rv(ne)):kv(ne)}}function D(ue,Me,Re,ne){for(var Tt=0,Ie=Me.length,nn=Re.length,rn,xt;Tt<Ie;){if(ne>=nn)return-1;if(rn=Me.charCodeAt(Tt++),rn===37){if(rn=Me.charAt(Tt++),xt=P[rn in dE?Me.charAt(Tt++):rn],!xt||(ne=xt(ue,Re,ne))<0)return-1}else if(rn!=Re.charCodeAt(ne++))return-1}return ne}function I(ue,Me,Re){var ne=d.exec(Me.slice(Re));return ne?(ue.p=p.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function J(ue,Me,Re){var ne=b.exec(Me.slice(Re));return ne?(ue.w=x.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function W(ue,Me,Re){var ne=m.exec(Me.slice(Re));return ne?(ue.w=v.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function H(ue,Me,Re){var ne=O.exec(Me.slice(Re));return ne?(ue.m=T.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function ie(ue,Me,Re){var ne=S.exec(Me.slice(Re));return ne?(ue.m=_.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function oe(ue,Me,Re){return D(ue,t,Me,Re)}function me(ue,Me,Re){return D(ue,n,Me,Re)}function q(ue,Me,Re){return D(ue,r,Me,Re)}function G(ue){return l[ue.getDay()]}function se(ue){return o[ue.getDay()]}function be(ue){return f[ue.getMonth()]}function B(ue){return c[ue.getMonth()]}function X(ue){return a[+(ue.getHours()>=12)]}function Q(ue){return 1+~~(ue.getMonth()/3)}function re(ue){return l[ue.getUTCDay()]}function pe(ue){return o[ue.getUTCDay()]}function _e(ue){return f[ue.getUTCMonth()]}function Oe(ue){return c[ue.getUTCMonth()]}function Ft(ue){return a[+(ue.getUTCHours()>=12)]}function Ge(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Me=k(ue+="",j);return Me.toString=function(){return ue},Me},parse:function(ue){var Me=R(ue+="",!1);return Me.toString=function(){return ue},Me},utcFormat:function(ue){var Me=k(ue+="",M);return Me.toString=function(){return ue},Me},utcParse:function(ue){var Me=R(ue+="",!0);return Me.toString=function(){return ue},Me}}}var dE={"-":"",_:" ",0:"0"},en=/^\s*\d+/,mH=/^%/,gH=/[\\^$*+?|[\]().{}]/g;function He(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function vH(e){return e.replace(gH,"\\$&")}function yu(e){return new RegExp("^(?:"+e.map(vH).join("|")+")","i")}function bu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yH(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bH(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xH(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wH(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _H(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hE(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pE(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AH(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function OH(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mE(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TH(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gE(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jH(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function EH(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function CH(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function PH(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function MH(e,t,n){var r=mH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DH(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kH(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vE(e,t){return He(e.getDate(),t,2)}function RH(e,t){return He(e.getHours(),t,2)}function NH(e,t){return He(e.getHours()%12||12,t,2)}function BH(e,t){return He(1+hc.count(Ai(e),e),t,3)}function LD(e,t){return He(e.getMilliseconds(),t,3)}function LH(e,t){return LD(e,t)+"000"}function UH(e,t){return He(e.getMonth()+1,t,2)}function $H(e,t){return He(e.getMinutes(),t,2)}function zH(e,t){return He(e.getSeconds(),t,2)}function IH(e){var t=e.getDay();return t===0?7:t}function qH(e,t){return He(yh.count(Ai(e)-1,e),t,2)}function UD(e){var t=e.getDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function VH(e,t){return e=UD(e),He(Qo.count(Ai(e),e)+(Ai(e).getDay()===4),t,2)}function KH(e){return e.getDay()}function HH(e,t){return He(zd.count(Ai(e)-1,e),t,2)}function FH(e,t){return He(e.getFullYear()%100,t,2)}function GH(e,t){return e=UD(e),He(e.getFullYear()%100,t,2)}function YH(e,t){return He(e.getFullYear()%1e4,t,4)}function WH(e,t){var n=e.getDay();return e=n>=4||n===0?Qo(e):Qo.ceil(e),He(e.getFullYear()%1e4,t,4)}function XH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function yE(e,t){return He(e.getUTCDate(),t,2)}function ZH(e,t){return He(e.getUTCHours(),t,2)}function QH(e,t){return He(e.getUTCHours()%12||12,t,2)}function JH(e,t){return He(1+vh.count(Oi(e),e),t,3)}function $D(e,t){return He(e.getUTCMilliseconds(),t,3)}function eF(e,t){return $D(e,t)+"000"}function tF(e,t){return He(e.getUTCMonth()+1,t,2)}function nF(e,t){return He(e.getUTCMinutes(),t,2)}function rF(e,t){return He(e.getUTCSeconds(),t,2)}function iF(e){var t=e.getUTCDay();return t===0?7:t}function aF(e,t){return He(bh.count(Oi(e)-1,e),t,2)}function zD(e){var t=e.getUTCDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function sF(e,t){return e=zD(e),He(Jo.count(Oi(e),e)+(Oi(e).getUTCDay()===4),t,2)}function oF(e){return e.getUTCDay()}function lF(e,t){return He(Id.count(Oi(e)-1,e),t,2)}function uF(e,t){return He(e.getUTCFullYear()%100,t,2)}function cF(e,t){return e=zD(e),He(e.getUTCFullYear()%100,t,2)}function fF(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function dF(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Jo(e):Jo.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function hF(){return"+0000"}function bE(){return"%"}function xE(e){return+e}function wE(e){return Math.floor(+e/1e3)}var jo,ID,qD;pF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pF(e){return jo=pH(e),ID=jo.format,jo.parse,qD=jo.utcFormat,jo.utcParse,jo}function mF(e){return new Date(e)}function gF(e){return e instanceof Date?+e:+new Date(+e)}function ix(e,t,n,r,a,o,l,c,f,d){var p=Kb(),m=p.invert,v=p.domain,b=d(".%L"),x=d(":%S"),S=d("%I:%M"),_=d("%I %p"),O=d("%a %d"),T=d("%b %d"),j=d("%B"),M=d("%Y");function P(k){return(f(k)<k?b:c(k)<k?x:l(k)<k?S:o(k)<k?_:r(k)<k?a(k)<k?O:T:n(k)<k?j:M)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?v(Array.from(k,gF)):v().map(mF)},p.ticks=function(k){var R=v();return e(R[0],R[R.length-1],k??10)},p.tickFormat=function(k,R){return R==null?P:d(R)},p.nice=function(k){var R=v();return(!k||typeof k.range!="function")&&(k=t(R[0],R[R.length-1],k??10)),k?v(ED(R,k)):p},p.copy=function(){return dc(p,ix(e,t,n,r,a,o,l,c,f,d))},p}function vF(){return wr.apply(ix(dH,hH,Ai,nx,yh,hc,ex,Qb,ss,ID).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yF(){return wr.apply(ix(cH,fH,Oi,rx,bh,vh,tx,Jb,ss,qD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xh(){var e=0,t=1,n,r,a,o,l=Sn,c=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(a===0?.5:(m=(o(m)-n)*a,c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(l=m,d):l};function p(m){return function(v){var b,x;return arguments.length?([b,x]=v,l=m(b,x),d):[l(0),l(1)]}}return d.range=p(ll),d.rangeRound=p(Vb),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(e),r=m(t),a=n===r?0:1/(r-n),d}}function wa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VD(){var e=xa(xh()(Sn));return e.copy=function(){return wa(e,VD())},Ei.apply(e,arguments)}function KD(){var e=Gb(xh()).domain([1,10]);return e.copy=function(){return wa(e,KD()).base(e.base())},Ei.apply(e,arguments)}function HD(){var e=Yb(xh());return e.copy=function(){return wa(e,HD()).constant(e.constant())},Ei.apply(e,arguments)}function ax(){var e=Wb(xh());return e.copy=function(){return wa(e,ax()).exponent(e.exponent())},Ei.apply(e,arguments)}function bF(){return ax.apply(null,arguments).exponent(.5)}function FD(){var e=[],t=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return t((cc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ha),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>iK(e,o/r))},n.copy=function(){return FD(t).domain(e)},Ei.apply(n,arguments)}function wh(){var e=0,t=.5,n=1,r=1,a,o,l,c,f,d=Sn,p,m=!1,v;function b(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-o)*(r*S<r*o?c:f),d(m?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,n]=S,a=p(e=+e),o=p(t=+t),l=p(n=+n),c=a===o?0:.5/(o-a),f=o===l?0:.5/(l-o),r=o<a?-1:1,b):[e,t,n]},b.clamp=function(S){return arguments.length?(m=!!S,b):m},b.interpolator=function(S){return arguments.length?(d=S,b):d};function x(S){return function(_){var O,T,j;return arguments.length?([O,T,j]=_,d=MK(S,[O,T,j]),b):[d(0),d(.5),d(1)]}}return b.range=x(ll),b.rangeRound=x(Vb),b.unknown=function(S){return arguments.length?(v=S,b):v},function(S){return p=S,a=S(e),o=S(t),l=S(n),c=a===o?0:.5/(o-a),f=o===l?0:.5/(l-o),r=o<a?-1:1,b}}function GD(){var e=xa(wh()(Sn));return e.copy=function(){return wa(e,GD())},Ei.apply(e,arguments)}function YD(){var e=Gb(wh()).domain([.1,1,10]);return e.copy=function(){return wa(e,YD()).base(e.base())},Ei.apply(e,arguments)}function WD(){var e=Yb(wh());return e.copy=function(){return wa(e,WD()).constant(e.constant())},Ei.apply(e,arguments)}function sx(){var e=Wb(wh());return e.copy=function(){return wa(e,sx()).exponent(e.exponent())},Ei.apply(e,arguments)}function xF(){return sx.apply(null,arguments).exponent(.5)}const Au=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zb,scaleDiverging:GD,scaleDivergingLog:YD,scaleDivergingPow:sx,scaleDivergingSqrt:xF,scaleDivergingSymlog:WD,scaleIdentity:jD,scaleImplicit:n0,scaleLinear:TD,scaleLog:CD,scaleOrdinal:$b,scalePoint:oK,scalePow:Xb,scaleQuantile:DD,scaleQuantize:kD,scaleRadial:MD,scaleSequential:VD,scaleSequentialLog:KD,scaleSequentialPow:ax,scaleSequentialQuantile:FD,scaleSequentialSqrt:bF,scaleSequentialSymlog:HD,scaleSqrt:eH,scaleSymlog:PD,scaleThreshold:RD,scaleTime:vF,scaleUtc:yF,tickFormat:OD},Symbol.toStringTag,{value:"Module"}));var Os=e=>e.chartData,ox=F([Os],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),XD=(e,t,n,r)=>r?ox(e):Os(e);function el(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Qn(t)&&Qn(n))return!0}return!1}function _E(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,o;if(Qn(n))a=n;else if(typeof n=="function")return;if(Qn(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(el(l))return l}}function _F(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(el(r))return _E(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,o]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(fe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&uj.test(a)){var f=uj.exec(a);if(f==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t?.[0];if(o==="auto")t!=null&&(c=Math.max(...t));else if(fe(o))c=o;else if(typeof o=="function")try{t!=null&&(c=o(t?.[1]))}catch{}else if(typeof o=="string"&&cj.test(o)){var p=cj.exec(o);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t?.[1];var v=[l,c];if(el(v))return t==null?v:_E(v,t,n)}}}var ul=1e9,SF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ux,gt=!0,br="[DecimalError] ",hs=br+"Invalid argument: ",lx=br+"Exponent out of range: ",cl=Math.floor,Qa=Math.pow,AF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,Qt=1e7,dt=7,ZD=9007199254740991,qd=cl(ZD/dt),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(e){return bi(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,n=t.constructor;return lt(bi(t,new n(e),0,1),n.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return zt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Gn))throw Error(br+"NaN");if(n.s<1)throw Error(br+(n.s?"NaN":"-Infinity"));return n.eq(Gn)?new r(0):(gt=!1,t=bi(Xu(n,o),Xu(e,o),o),gt=!0,lt(t,a))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ek(t,e):QD(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(br+"NaN");return n.s?(gt=!1,t=bi(n,e,0,1).times(e),gt=!0,n.minus(t)):lt(new r(n),a)};de.naturalExponential=de.exp=function(){return JD(this)};de.naturalLogarithm=de.ln=function(){return Xu(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QD(t,e):ek(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hs+e);if(t=zt(a)+1,r=a.d.length-1,n=r*dt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};de.squareRoot=de.sqrt=function(){var e,t,n,r,a,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(br+"NaN")}for(e=zt(c),gt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=qr(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=cl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(o=r,r=o.plus(bi(c,o,l+2)).times(.5),qr(o.d).slice(0,l)===(t=qr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(lt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(t!="9999")break;l+=4}return gt=!0,lt(r,n)};de.times=de.mul=function(e){var t,n,r,a,o,l,c,f,d,p=this,m=p.constructor,v=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,f=v.length,d=b.length,f<d&&(o=v,v=b,b=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,a=f+r;a>r;)c=o[a]+b[r]*v[a-r-1]+t,o[a--]=c%Qt|0,t=c/Qt|0;o[a]=(o[a]+t)%Qt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,gt?lt(e,m.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Yr(e,0,ul),t===void 0?t=r.rounding:Yr(t,0,8),lt(n,e+zt(n)+1,t))};de.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=ys(r,!0):(Yr(e,0,ul),t===void 0?t=a.rounding:Yr(t,0,8),r=lt(new a(r),e+1,t),n=ys(r,!0,e+1)),n};de.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?ys(a):(Yr(e,0,ul),t===void 0?t=o.rounding:Yr(t,0,8),r=lt(new o(a),e+zt(a)+1,t),n=ys(r.abs(),!1,e+zt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return lt(new t(e),zt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,n,r,a,o,l,c=this,f=c.constructor,d=12,p=+(e=new f(e));if(!e.s)return new f(Gn);if(c=new f(c),!c.s){if(e.s<1)throw Error(br+"Infinity");return c}if(c.eq(Gn))return c;if(r=f.precision,e.eq(Gn))return lt(c,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=c.s,l){if((n=p<0?-p:p)<=ZD){for(a=new f(Gn),t=Math.ceil(r/dt+4),gt=!1;n%2&&(a=a.times(c),AE(a.d,t)),n=cl(n/2),n!==0;)c=c.times(c),AE(c.d,t);return gt=!0,e.s<0?new f(Gn).div(a):lt(a,r)}}else if(o<0)throw Error(br+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,gt=!1,a=e.times(Xu(c,r+d)),gt=!0,a=JD(a),a.s=o,a};de.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?(n=zt(a),r=ys(a,n<=o.toExpNeg||n>=o.toExpPos)):(Yr(e,1,ul),t===void 0?t=o.rounding:Yr(t,0,8),a=lt(new o(a),e,t),n=zt(a),r=ys(a,e<=n||n<=o.toExpNeg,e)),r};de.toSignificantDigits=de.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Yr(e,1,ul),t===void 0?t=r.rounding:Yr(t,0,8)),lt(new r(n),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),n=e.constructor;return ys(e,t<=n.toExpNeg||t>=n.toExpPos)};function QD(e,t){var n,r,a,o,l,c,f,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),gt?lt(t,m):t;if(f=e.d,d=t.d,l=e.e,a=t.e,f=f.slice(),o=l-a,o){for(o<0?(r=f,o=-o,c=d.length):(r=d,a=l,c=f.length),l=Math.ceil(m/dt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=d.length,c-o<0&&(o=c,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Qt|0,f[o]%=Qt;for(n&&(f.unshift(n),++a),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=a,gt?lt(t,m):t}function Yr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hs+e)}function qr(e){var t,n,r,a=e.length-1,o="",l=e[0];if(a>0){for(o+=l,t=1;t<a;t++)r=e[t]+"",n=dt-r.length,n&&(o+=ua(n)),o+=r;l=e[t],r=l+"",n=dt-r.length,n&&(o+=ua(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var bi=function(){function e(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%Qt|0,l=o/Qt|0;return l&&r.unshift(l),r}function t(r,a,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=a[c]){f=r[c]>a[c]?1:-1;break}return f}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*Qt+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,f,d,p,m,v,b,x,S,_,O,T,j,M,P,k,R,D,I=r.constructor,J=r.s==a.s?1:-1,W=r.d,H=a.d;if(!r.s)return new I(r);if(!a.s)throw Error(br+"Division by zero");for(f=r.e-a.e,R=H.length,P=W.length,b=new I(J),x=b.d=[],d=0;H[d]==(W[d]||0);)++d;if(H[d]>(W[d]||0)&&--f,o==null?T=o=I.precision:l?T=o+(zt(r)-zt(a))+1:T=o,T<0)return new I(0);if(T=T/dt+2|0,d=0,R==1)for(p=0,H=H[0],T++;(d<P||p)&&T--;d++)j=p*Qt+(W[d]||0),x[d]=j/H|0,p=j%H|0;else{for(p=Qt/(H[0]+1)|0,p>1&&(H=e(H,p),W=e(W,p),R=H.length,P=W.length),M=R,S=W.slice(0,R),_=S.length;_<R;)S[_++]=0;D=H.slice(),D.unshift(0),k=H[0],H[1]>=Qt/2&&++k;do p=0,c=t(H,S,R,_),c<0?(O=S[0],R!=_&&(O=O*Qt+(S[1]||0)),p=O/k|0,p>1?(p>=Qt&&(p=Qt-1),m=e(H,p),v=m.length,_=S.length,c=t(m,S,v,_),c==1&&(p--,n(m,R<v?D:H,v))):(p==0&&(c=p=1),m=H.slice()),v=m.length,v<_&&m.unshift(0),n(S,m,_),c==-1&&(_=S.length,c=t(H,S,R,_),c<1&&(p++,n(S,R<_?D:H,_))),_=S.length):c===0&&(p++,S=[0]),x[d++]=p,c&&S[0]?S[_++]=W[M]||0:(S=[W[M]],_=1);while((M++<P||S[0]!==void 0)&&T--)}return x[0]||x.shift(),b.e=f,lt(b,l?o+zt(b)+1:o)}}();function JD(e,t){var n,r,a,o,l,c,f=0,d=0,p=e.constructor,m=p.precision;if(zt(e)>16)throw Error(lx+zt(e));if(!e.s)return new p(Gn);for(gt=!1,c=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Qa(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new p(Gn),p.precision=c;;){if(a=lt(a.times(e),c),n=n.times(++f),l=o.plus(bi(a,n,c)),qr(l.d).slice(0,c)===qr(o.d).slice(0,c)){for(;d--;)o=lt(o.times(o),c);return p.precision=m,t==null?(gt=!0,lt(o,m)):o}o=l}}function zt(e){for(var t=e.e*dt,n=e.d[0];n>=10;n/=10)t++;return t}function Nv(e,t,n){if(t>e.LN10.sd())throw gt=!0,n&&(e.precision=n),Error(br+"LN10 precision limit exceeded");return lt(new e(e.LN10),t)}function ua(e){for(var t="";e--;)t+="0";return t}function Xu(e,t){var n,r,a,o,l,c,f,d,p,m=1,v=10,b=e,x=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(br+(b.s?"NaN":"-Infinity"));if(b.eq(Gn))return new S(0);if(t==null?(gt=!1,d=_):d=t,b.eq(10))return t==null&&(gt=!0),Nv(S,d);if(d+=v,S.precision=d,n=qr(x),r=n.charAt(0),o=zt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=qr(b.d),r=n.charAt(0),m++;o=zt(b),r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1))}else return f=Nv(S,d+2,_).times(o+""),b=Xu(new S(r+"."+n.slice(1)),d-v).plus(f),S.precision=_,t==null?(gt=!0,lt(b,_)):b;for(c=l=b=bi(b.minus(Gn),b.plus(Gn),d),p=lt(b.times(b),d),a=3;;){if(l=lt(l.times(p),d),f=c.plus(bi(l,new S(a),d)),qr(f.d).slice(0,d)===qr(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(Nv(S,d+2,_).times(o+""))),c=bi(c,new S(m),d),S.precision=_,t==null?(gt=!0,lt(c,_)):c;c=f,a+=2}}function SE(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=cl(n/dt),e.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=dt;r<a;)e.d.push(+t.slice(r,r+=dt));t=t.slice(r),r=dt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),gt&&(e.e>qd||e.e<-qd))throw Error(lx+n)}else e.s=0,e.e=0,e.d=[0];return e}function lt(e,t,n){var r,a,o,l,c,f,d,p,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=dt,a=t,d=m[p=0];else{if(p=Math.ceil((r+1)/dt),o=m.length,p>=o)return e;for(d=o=m[p],l=1;o>=10;o/=10)l++;r%=dt,a=r-dt+l}if(n!==void 0&&(o=Qa(10,l-a-1),c=d/o%10|0,f=t<0||m[p+1]!==void 0||d%o,f=n<4?(c||f)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?a>0?d/Qa(10,l-a):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(o=zt(e),m.length=1,t=t-o-1,m[0]=Qa(10,(dt-t%dt)%dt),e.e=cl(-t/dt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=Qa(10,dt-r),m[p]=a>0?(d/Qa(10,l-a)%Qa(10,a)|0)*o:0),f)for(;;)if(p==0){(m[0]+=o)==Qt&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=Qt)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(gt&&(e.e>qd||e.e<-qd))throw Error(lx+zt(e));return e}function ek(e,t){var n,r,a,o,l,c,f,d,p,m,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),gt?lt(t,b):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=d,c=f.length),a=Math.max(Math.ceil(b/dt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(f[a]!=m[a]){p=f[a]<m[a];break}l=0}for(p&&(n=f,f=m,m=n,t.s=-t.s),c=f.length,a=m.length-c;a>0;--a)f[c++]=0;for(a=m.length;a>l;){if(f[--a]<m[a]){for(o=a;o&&f[--o]===0;)f[o]=Qt-1;--f[o],f[a]+=Qt}f[a]-=m[a]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,gt?lt(t,b):t):new v(0)}function ys(e,t,n){var r,a=zt(e),o=qr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ua(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+ua(-a-1)+o,n&&(r=n-l)>0&&(o+=ua(r))):a>=l?(o+=ua(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+ua(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=ua(r))),e.s<0?"-"+o:o}function AE(e,t){if(e.length>t)return e.length=t,!0}function tk(e){var t,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(hs+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return SE(l,o.toString())}else if(typeof o!="string")throw Error(hs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,AF.test(o))SE(l,o);else throw Error(hs+o)}if(a.prototype=de,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tk,a.config=a.set=OF,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function OF(e){if(!e||typeof e!="object")throw Error(br+"Object expected");var t,n,r,a=["precision",1,ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(cl(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(hs+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hs+n+": "+r);return this}var ux=tk(SF);Gn=new ux(1);const Je=ux;var TF=e=>e,nk={},rk=e=>e===nk,OE=e=>function t(){return arguments.length===0||arguments.length===1&&rk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ik=(e,t)=>e===1?t:OE(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(l=>l!==nk).length;return o>=e?t(...r):ik(e-o,OE(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=r.map(p=>rk(p)?c.shift():p);return t(...d,...c)}))}),_h=e=>ik(e.length,e),s0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jF=_h((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),EF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return TF;var a=n.reverse(),o=a[0],l=a.slice(1);return function(){return l.reduce((c,f)=>f(c),o(...arguments))}},o0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ak=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t&&a.every((l,c)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[c])})||(t=a,n=e(...a)),n}};function sk(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function ok(e,t,n){for(var r=new Je(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}_h((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});_h((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});_h((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var lk=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},uk=(e,t,n)=>{if(e.lte(0))return new Je(0);var r=sk(e.toNumber()),a=new Je(10).pow(r),o=e.div(a),l=r!==1?.05:.1,c=new Je(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(a);return t?new Je(f.toNumber()):new Je(Math.ceil(f.toNumber()))},CF=(e,t,n)=>{var r=new Je(1),a=new Je(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new Je(10).pow(sk(e)-1),a=new Je(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new Je(Math.floor(e)))}else e===0?a=new Je(Math.floor((t-1)/2)):n||(a=new Je(Math.floor(e)));var l=Math.floor((t-1)/2),c=EF(jF(f=>a.add(new Je(f-l).mul(r)).toNumber()),s0);return c(0,t)},ck=function(t,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var l=uk(new Je(n).sub(t).div(r-1),a,o),c;t<=0&&n>=0?c=new Je(0):(c=new Je(t).add(n).div(2),c=c.sub(new Je(c).mod(l)));var f=Math.ceil(c.sub(t).div(l).toNumber()),d=Math.ceil(new Je(n).sub(c).div(l).toNumber()),p=f+d+1;return p>r?ck(t,n,r,a,o+1):(p<r&&(d=n>0?d+(r-p):d,f=n>0?f:f+(r-p)),{step:l,tickMin:c.sub(new Je(f).mul(l)),tickMax:c.add(new Je(d).mul(l))})};function PF(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,c]=lk([t,n]);if(l===-1/0||c===1/0){var f=c===1/0?[l,...s0(0,r-1).map(()=>1/0)]:[...s0(0,r-1).map(()=>-1/0),c];return t>n?o0(f):f}if(l===c)return CF(l,r,a);var{step:d,tickMin:p,tickMax:m}=ck(l,c,o,a,0),v=ok(p,m.add(new Je(.1).mul(d)),d);return t>n?o0(v):v}function MF(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=lk([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var c=Math.max(t,2),f=uk(new Je(l).sub(o).div(c-1),a,0),d=[...ok(new Je(o),new Je(l),f),l];return a===!1&&(d=d.map(p=>Math.round(p))),n>r?o0(d):d}var DF=ak(PF),kF=ak(MF),fk=e=>e.rootProps.maxBarSize,RF=e=>e.rootProps.barGap,dk=e=>e.rootProps.barCategoryGap,NF=e=>e.rootProps.barSize,pc=e=>e.rootProps.stackOffset,cx=e=>e.options.chartName,fx=e=>e.rootProps.syncId,hk=e=>e.rootProps.syncMethod,dx=e=>e.options.eventEmitter,hi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Hn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},BF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hi.angleAxisId,includeHidden:!1,name:void 0,reversed:hi.reversed,scale:hi.scale,tick:hi.tick,tickCount:void 0,ticks:void 0,type:hi.type,unit:void 0},LF={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,ticks:void 0,type:Hn.type,unit:void 0},UF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$F={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,ticks:void 0,type:"category",unit:void 0},hx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?UF:BF,px=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$F:LF,Ah=e=>e.polarOptions,mx=F([Ti,ji,Kt],Y2),pk=F([Ah,mx],(e,t)=>{if(e!=null)return An(e.innerRadius,t,0)}),mk=F([Ah,mx],(e,t)=>{if(e!=null)return An(e.outerRadius,t,t*.8)}),zF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},gk=F([Ah],zF);F([hx,gk],Sh);var vk=F([mx,pk,mk],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});F([px,vk],Sh);var IF=F([nt,Ah,pk,mk,Ti,ji],(e,t,n,r,a,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=t;return{cx:An(l,a,a/2),cy:An(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Mt=(e,t)=>t,mc=(e,t,n)=>n;function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){qF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l0=[0,"auto"],Vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ci=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Vn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:l0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hh},_a=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Kn},HF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??HF},Dt=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return _a(e,n);case"zAxis":return gx(e,n);case"angleAxis":return hx(e,n);case"radiusAxis":return px(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FF=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return _a(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gc=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return _a(e,n);case"angleAxis":return hx(e,n);case"radiusAxis":return px(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yk=e=>e.graphicalItems.countOfBars>0;function vx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var yx=e=>e.graphicalItems.cartesianItems,GF=F([Mt,mc],vx),bx=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),vc=F([yx,Dt,GF],bx),bk=e=>e.filter(t=>t.stackId===void 0),YF=F([vc],bk),xx=e=>e.map(t=>t.data).filter(Boolean).flat(1),WF=F([vc],xx),wx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Oh=F([WF,XD],wx),_x=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Ot(a,r)}))):e.map(r=>({value:r})),Th=F([Oh,Dt,vc],_x);function xk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ts(e){return e.filter(t=>Gr(t)||t instanceof Date).map(Number).filter(t=>Wn(t)===!1)}function XF(e,t,n){return!n||typeof t!="number"||Wn(t)?[]:n.length?Ts(n.flatMap(r=>{var a=Ot(e,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!Qn(o)||!Qn(l)))return[t-o,t+l]})):[]}var wk=(e,t,n)=>{var r={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,f=c.map(d=>d.dataKey);return[l,{stackedData:X8(e,f,n),graphicalItems:c}]}))},u0=F([Oh,vc,pc],wk),_k=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var o=eV(e,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},ZF=F([u0,Os,Mt],_k),Sk=(e,t,n,r)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var l,c,f=(l=o.errorBars)===null||l===void 0?void 0:l.filter(p=>xk(r,p)),d=Ot(a,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:XF(a,d,f)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ot(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),QF=F(Oh,Dt,YF,Mt,Sk);function JF(e){var{value:t}=e;if(Gr(t)||t instanceof Date)return t}var e7=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ts(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},t7=(e,t,n)=>{var r=e.map(JF).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&HM(r))?mD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Sx=e=>{var t;if(e==null||!("domain"in e))return l0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ts(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:l0},Ax=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},Ak=e=>e.referenceElements.dots,fl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),n7=F([Ak,Mt,mc],fl),Ok=e=>e.referenceElements.areas,r7=F([Ok,Mt,mc],fl),Tk=e=>e.referenceElements.lines,i7=F([Tk,Mt,mc],fl),jk=(e,t)=>{var n=Ts(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},a7=F(n7,Mt,jk),Ek=(e,t)=>{var n=Ts(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},s7=F([r7,Mt],Ek),Ck=(e,t)=>{var n=Ts(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},o7=F(i7,Mt,Ck),l7=F(a7,o7,s7,(e,t,n)=>Ax(e,n,t)),Pk=F([Dt],Sx),Ox=(e,t,n,r,a)=>{var o=wF(t,e.allowDataOverflow);return o??_F(t,Ax(n,a,e7(r)),e.allowDataOverflow)},u7=F([Dt,Pk,ZF,QF,l7],Ox),c7=[0,1],Tx=(e,t,n,r,a,o,l)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:c,type:f}=e,d=_s(t,o);return d&&c==null?mD(0,n.length):f==="category"?t7(r,e,d):a==="expand"?c7:l}},jx=F([Dt,nt,Oh,Th,pc,Mt,u7],Tx),Mk=(e,t,n,r,a)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(ac(o));return c in Au?c:"point"}}},dl=F([Dt,nt,yk,cx,Mt],Mk);function f7(e){if(e!=null){if(e in Au)return Au[e]();var t="scale".concat(ac(e));if(t in Au)return Au[t]()}}function Ex(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=f7(t);if(a!=null){var o=a.domain(n).range(r);return H8(o),o}}}var Cx=(e,t,n)=>{var r=Sx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&el(e))return DF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&el(e))return kF(e,t.tickCount,t.allowDecimals)}},Px=F([jx,gc,dl],Cx),Mx=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&el(t)&&Array.isArray(n)&&n.length>0){var a=t[0],o=n[0],l=t[1],c=n[n.length-1];return[Math.min(a,o),Math.max(l,c)]}return t},d7=F([Dt,jx,Px,Mt],Mx),h7=F(Th,Dt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ts(e.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/a}}),Dk=F(h7,nt,dk,Kt,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!Qn(e))return 0;var o=t==="vertical"?r.height:r.width;if(a==="gap")return e*o/2;if(a==="no-gap"){var l=An(n,e*o),c=e*o/2;return c-l-(c-l)/o*l}return 0}),p7=(e,t)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:Dk(e,"xAxis",t,n.padding)},m7=(e,t)=>{var n=_a(e,t);return n==null||typeof n.padding!="string"?0:Dk(e,"yAxis",t,n.padding)},g7=F(Ci,p7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),v7=F(_a,m7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),y7=F([Kt,g7,mh,ph,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),b7=F([Kt,nt,v7,mh,ph,(e,t,n)=>n],(e,t,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),yc=(e,t,n,r)=>{var a;switch(t){case"xAxis":return y7(e,n,r);case"yAxis":return b7(e,n,r);case"zAxis":return(a=gx(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return gk(e);case"radiusAxis":return vk(e,n);default:return}},kk=F([Dt,yc],Sh),hl=F([Dt,dl,d7,kk],Ex);F(vc,Mt,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>xk(t,n)));function Rk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jh=(e,t)=>t,Eh=(e,t,n)=>n,x7=F(Pb,jh,Eh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Rk)),w7=F(Mb,jh,Eh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Rk)),Nk=(e,t)=>({width:e.width,height:t.height}),_7=(e,t)=>{var n=typeof t.width=="number"?t.width:hh;return{width:n,height:e.height}},Bk=F(Kt,Ci,Nk),S7=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},A7=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},O7=F(ji,Kt,x7,jh,Eh,(e,t,n,r,a)=>{var o={},l;return n.forEach(c=>{var f=Nk(t,c);l==null&&(l=S7(t,r,e));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),T7=F(Ti,Kt,w7,jh,Eh,(e,t,n,r,a)=>{var o={},l;return n.forEach(c=>{var f=_7(t,c);l==null&&(l=A7(t,r,e));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),j7=(e,t)=>{var n=Kt(e),r=Ci(e,t);if(r!=null){var a=O7(e,r.orientation,r.mirror),o=a[t];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},E7=(e,t)=>{var n=Kt(e),r=_a(e,t);if(r!=null){var a=T7(e,r.orientation,r.mirror),o=a[t];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},Lk=F(Kt,_a,(e,t)=>{var n=typeof t.width=="number"?t.width:hh;return{width:n,height:e.height}}),jE=(e,t,n)=>{switch(t){case"xAxis":return Bk(e,n).width;case"yAxis":return Lk(e,n).height;default:return}},Uk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=_s(e,r),f=t.map(d=>d.value);if(l&&c&&o==="category"&&a&&HM(f))return f}},Dx=F([nt,Th,Dt,Mt],Uk),$k=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=_s(e,r);if(l&&(a==="number"||o!=="auto"))return t.map(c=>c.value)}},kx=F([nt,Th,gc,Mt],$k),EE=F([nt,FF,dl,hl,Dx,kx,yc,Px,Mt],(e,t,n,r,a,o,l,c,f)=>{if(t==null)return null;var d=_s(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}),C7=(e,t,n,r,a,o,l,c,f)=>{if(!(t==null||r==null)){var d=_s(e,f),{type:p,ticks:m,tickCount:v}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=p==="category"&&r.bandwidth?r.bandwidth()/b:0;x=f==="angleAxis"&&o!=null&&o.length>=2?Jt(o[0]-o[1])*2*x:x;var S=m||a;if(S){var _=S.map((O,T)=>{var j=l?l.indexOf(O):O;return{index:T,coordinate:r(j)+x,value:O,offset:x}});return _.filter(O=>!Wn(O.coordinate))}return d&&c?c.map((O,T)=>({coordinate:r(O)+x,value:O,index:T,offset:x})):r.ticks?r.ticks(v).map(O=>({coordinate:r(O)+x,value:O,offset:x})):r.domain().map((O,T)=>({coordinate:r(O)+x,value:l?l[O]:O,index:T,offset:x}))}},zk=F([nt,gc,dl,hl,Px,yc,Dx,kx,Mt],C7),P7=(e,t,n,r,a,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=_s(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?Jt(r[0]-r[1])*2*d:d,c&&o?o.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}},tl=F([nt,gc,hl,yc,Dx,kx,Mt],P7),va=F(Dt,hl,(e,t)=>{if(!(e==null||t==null))return Vd(Vd({},e),{},{scale:t})}),M7=F([Dt,dl,jx,kk],Ex);F((e,t,n)=>gx(e,n),M7,(e,t)=>{if(!(e==null||t==null))return Vd(Vd({},e),{},{scale:t})});var D7=F([nt,Pb,Mb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Ik=e=>e.options.defaultTooltipEventType,qk=e=>e.options.validateTooltipEventTypes;function Vk(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Rx(e,t){var n=Ik(e),r=qk(e);return Vk(t,n,r)}function k7(e){return ge(t=>Rx(t,e))}var Kk=(e,t)=>{var n,r=Number(t);if(!(Wn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},R7=e=>e.tooltip.settings,da={active:!1,index:null,dataKey:void 0,coordinate:void 0},N7={itemInteraction:{click:da,hover:da},axisInteraction:{click:da,hover:da},keyboardInteraction:da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hk=xr({name:"tooltip",initialState:N7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=yi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:B7,removeTooltipEntrySettings:L7,setTooltipSettingsState:U7,setActiveMouseOverItemIndex:Fk,mouseLeaveItem:$7,mouseLeaveChart:Gk,setActiveClickItemIndex:z7,setMouseOverAxisIndex:Yk,setMouseClickAxisIndex:I7,setSyncInteraction:c0,setKeyboardInteraction:f0}=Hk.actions,q7=Hk.reducer;function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F7(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function G7(e){return e.index!=null}var Wk=(e,t,n,r)=>{if(t==null)return da;var a=F7(e,t,n);if(a==null)return da;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(G7(a)){if(o)return nd(nd({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return nd(nd({},da),{},{coordinate:a.coordinate})},Nx=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!Qn(r))return n;var a=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(a,Math.min(r,o)))},Xk=(e,t,n,r,a,o,l,c)=>{if(!(o==null||c==null)){var f=l[0],d=f==null?void 0:c(f.positions,o);if(d!=null)return d;var p=a?.[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},Zk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===a})},bc=e=>e.options.tooltipPayloadSearcher,pl=e=>e.tooltip;function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Q7(e,t){return e??t}var Qk=(e,t,n,r,a,o,l)=>{if(!(t==null||o==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:p}=n,m=[];return e.reduce((v,b)=>{var x,{dataDefinedOnItem:S,settings:_}=b,O=Q7(S,c),T=Z7(O,d,p),j=(x=_?.dataKey)!==null&&x!==void 0?x:r?.dataKey,M=_?.nameKey,P;if(r!=null&&r.dataKey&&Array.isArray(T)&&!Array.isArray(T[0])&&l==="axis"?P=B5(T,r.dataKey,a):P=o(T,t,f,M),Array.isArray(P))P.forEach(R=>{var D=ME(ME({},_),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(fj({tooltipEntrySettings:D,dataKey:R.dataKey,payload:R.payload,value:Ot(R.payload,R.dataKey),name:R.name}))});else{var k;v.push(fj({tooltipEntrySettings:_,dataKey:j,payload:P,value:Ot(P,j),name:(k=Ot(P,M))!==null&&k!==void 0?k:_?.name}))}return v},m)}},tn=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ml=e=>e.tooltip.settings.axisId,fn=e=>{var t=tn(e),n=ml(e);return gc(e,t,n)},Bx=F([fn,nt,yk,cx,tn],Mk),J7=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eG=F([tn,ml],vx),Ch=F([J7,fn,eG],bx),tG=F([Ch],xx),js=F([tG,Os],wx),Lx=F([js,fn,Ch],_x),nG=F([fn],Sx),rG=F([js,Ch,pc],wk),iG=F([rG,Os,tn],_k),aG=F([Ch],bk),sG=F([js,fn,aG,tn],Sk),oG=F([Ak,tn,ml],fl),lG=F([oG,tn],jk),uG=F([Ok,tn,ml],fl),cG=F([uG,tn],Ek),fG=F([Tk,tn,ml],fl),dG=F([fG,tn],Ck),hG=F([lG,dG,cG],Ax),pG=F([fn,nG,iG,sG,hG],Ox),Jk=F([fn,nt,js,Lx,pc,tn,pG],Tx),mG=F([Jk,fn,Bx],Cx),gG=F([fn,Jk,mG,tn],Mx),eR=e=>{var t=tn(e),n=ml(e),r=!1;return yc(e,t,n,r)},tR=F([fn,eR],Sh),nR=F([fn,Bx,gG,tR],Ex),vG=F([nt,Lx,fn,tn],Uk),yG=F([nt,Lx,fn,tn],$k),bG=(e,t,n,r,a,o,l,c)=>{if(t){var{type:f}=t,d=_s(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&a!=null&&a?.length>=2?Jt(a[0]-a[1])*2*m:m,d&&l?l.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}}},Pi=F([nt,fn,Bx,nR,eR,vG,yG,tn],bG),Ux=F([Ik,qk,R7],(e,t,n)=>Vk(n.shared,e,t)),rR=e=>e.tooltip.settings.trigger,$x=e=>e.tooltip.settings.defaultIndex,Ph=F([pl,Ux,rR,$x],Wk),bs=F([Ph,js],Nx),iR=F([Pi,bs],Kk),aR=F([Ph],e=>{if(e)return e.dataKey}),sR=F([pl,Ux,rR,$x],Zk),xG=F([Ti,ji,nt,Kt,Pi,$x,sR,bc],Xk),wG=F([Ph,xG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_G=F([Ph],e=>e.active),SG=F([sR,bs,Os,fn,iR,bc,Ux],Qk);F([SG],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){AG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AG(e,t,n){return(t=OG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jG=()=>ge(fn),EG=()=>{var e=jG(),t=ge(Pi),n=ge(nR);return Cb(kE(kE({},e),{},{scale:n}),t)},CG=()=>ge(cx),zx=(e,t)=>t,oR=(e,t,n)=>n,Ix=(e,t,n,r)=>r,PG=F(Pi,e=>ah(e,t=>t.coordinate)),qx=F([pl,zx,oR,Ix],Wk),lR=F([qx,js],Nx),MG=(e,t,n)=>{if(t!=null){var r=pl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},uR=F([pl,zx,oR,Ix],Zk),Kd=F([Ti,ji,nt,Kt,Pi,Ix,uR,bc],Xk),DG=F([qx,Kd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),cR=F(Pi,lR,Kk),kG=F([uR,lR,Os,fn,cR,bc,zx],Qk),RG=F([qx],e=>({isActive:e.active,activeIndex:e.index})),NG=(e,t,n,r,a,o,l,c)=>{if(!(!e||!t||!r||!a||!o)){var f=tV(e.chartX,e.chartY,t,n,c);if(f){var d=rV(f,t),p=V8(d,l,o,r,a),m=nV(t,o,p,f);return{activeIndex:String(p),activeCoordinate:m}}}};function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BG(e,t,n){return(t=LG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:f,chartName:d}=e,p=t,m=n,v=r;if(!c||!p||d!=="ScatterChart"&&f!=="axis")return null;var b,x;if(d==="ScatterChart")b=p,x=e9;else if(d==="BarChart")b=t9(l,p,a,o),x=fD;else if(l==="radial"){var{cx:S,cy:_,radius:O,startAngle:T,endAngle:j}=dD(p);b={cx:S,cy:_,startAngle:T,endAngle:j,innerRadius:O,outerRadius:O},x=pD}else b={points:I9(l,p,a)},x=oD;var M=typeof c=="object"&&"className"in c?c.className:void 0,P=rd(rd(rd(rd({stroke:"#ccc",pointerEvents:"none"},a),b),tt(c,!1)),{},{payload:m,payloadIndex:v,className:et("recharts-tooltip-cursor",M)});return A.isValidElement(c)?A.cloneElement(c,P):A.createElement(x,P)}function zG(e){var t=EG(),n=nD(),r=Nb(),a=CG();return A.createElement($G,d0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var fR=A.createContext(null),IG=()=>A.useContext(fR),Bv={exports:{}},NE;function qG(){return NE||(NE=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new a(p,m||f,v),x=n?n+d:d;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],b]:f._events[x].push(b):(f._events[x]=b,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)t.call(p,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,x=new Array(b);v<b;v++)x[v]=m[v].fn;return x},c.prototype.listenerCount=function(d){var p=n?n+d:d,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,p,m,v,b,x){var S=n?n+d:d;if(!this._events[S])return!1;var _=this._events[S],O=arguments.length,T,j;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,v),!0;case 5:return _.fn.call(_.context,p,m,v,b),!0;case 6:return _.fn.call(_.context,p,m,v,b,x),!0}for(j=1,T=new Array(O-1);j<O;j++)T[j-1]=arguments[j];_.fn.apply(_.context,T)}else{var M=_.length,P;for(j=0;j<M;j++)switch(_[j].once&&this.removeListener(d,_[j].fn,void 0,!0),O){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,p);break;case 3:_[j].fn.call(_[j].context,p,m);break;case 4:_[j].fn.call(_[j].context,p,m,v);break;default:if(!T)for(P=1,T=new Array(O-1);P<O;P++)T[P-1]=arguments[P];_[j].fn.apply(_[j].context,T)}}return!0},c.prototype.on=function(d,p,m){return o(this,d,p,m,!1)},c.prototype.once=function(d,p,m){return o(this,d,p,m,!0)},c.prototype.removeListener=function(d,p,m,v){var b=n?n+d:d;if(!this._events[b])return this;if(!p)return l(this,b),this;var x=this._events[b];if(x.fn)x.fn===p&&(!v||x.once)&&(!m||x.context===m)&&l(this,b);else{for(var S=0,_=[],O=x.length;S<O;S++)(x[S].fn!==p||v&&!x[S].once||m&&x[S].context!==m)&&_.push(x[S]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}(Bv)),Bv.exports}var VG=qG();const KG=Wr(VG);var Zu=new KG,h0="recharts.syncEvent.tooltip",BE="recharts.syncEvent.brush";function dR(e,t){if(t){var n=Number.parseInt(t,10);if(!Wn(n))return e?.[n]}}var HG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},hR=xr({name:"options",initialState:HG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),FG=hR.reducer,{createEventEmitter:GG}=hR.actions;function YG(e){return e.tooltip.syncInteraction}var WG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pR=xr({name:"chartData",initialState:WG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:LE,setDataStartEndIndexes:XG,setComputedData:Dee}=pR.actions,ZG=pR.reducer,mR=()=>{};function QG(){var e=ge(fx),t=ge(dx),n=vt(),r=ge(hk),a=ge(Pi),o=Nb(),l=Db(),c=ge(f=>f.rootProps.className);A.useEffect(()=>{if(e==null)return mR;var f=(d,p,m)=>{if(t!==m&&e===d){if(r==="index"){n(p);return}if(a!=null){var v;if(typeof r=="function"){var b={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},x=r(a,b);v=a[x]}else r==="value"&&(v=a.find(k=>String(k.value)===p.payload.label));var{coordinate:S}=p.payload;if(v==null||p.payload.active===!1||S==null||l==null){n(c0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:O}=S,T=Math.min(_,l.x+l.width),j=Math.min(O,l.y+l.height),M={x:o==="horizontal"?v.coordinate:T,y:o==="horizontal"?j:v.coordinate},P=c0({active:p.payload.active,coordinate:M,dataKey:p.payload.dataKey,index:String(v.index),label:p.payload.label});n(P)}}};return Zu.on(h0,f),()=>{Zu.off(h0,f)}},[c,n,t,e,r,a,o,l])}function JG(){var e=ge(fx),t=ge(dx),n=vt();A.useEffect(()=>{if(e==null)return mR;var r=(a,o,l)=>{t!==l&&e===a&&n(XG(o))};return Zu.on(BE,r),()=>{Zu.off(BE,r)}},[n,t,e])}function eY(){var e=vt();A.useEffect(()=>{e(GG())},[e]),QG(),JG()}function tY(e,t,n,r,a,o){var l=ge(v=>MG(v,e,t)),c=ge(dx),f=ge(fx),d=ge(hk),p=ge(YG),m=p?.active;A.useEffect(()=>{if(!m&&f!=null&&c!=null){var v=c0({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Zu.emit(h0,f,v,c)}},[m,n,l,a,r,c,f,d,o])}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){nY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aY(e){return e.dataKey}function sY(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(DV,t)}var zE=[],oY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ol.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gR(e){var t=Dr(e,oY),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:f,offset:d,payloadUniqBy:p,position:m,reverseDirection:v,useTranslate3d:b,wrapperStyle:x,cursor:S,shared:_,trigger:O,defaultIndex:T,portal:j,axisId:M}=t,P=vt(),k=typeof T=="number"?String(T):T;A.useEffect(()=>{P(U7({shared:_,trigger:O,axisId:M,active:n,defaultIndex:k}))},[P,_,O,M,n,k]);var R=Db(),D=sD(),I=k7(_),{activeIndex:J,isActive:W}=ge(_e=>RG(_e,I,O,k)),H=ge(_e=>kG(_e,I,O,k)),ie=ge(_e=>cR(_e,I,O,k)),oe=ge(_e=>DG(_e,I,O,k)),me=H,q=IG(),G=n??W,[se,be]=S2([me,G]),B=I==="axis"?ie:void 0;tY(I,O,oe,B,J,G);var X=j??q;if(X==null)return null;var Q=me??zE;G||(Q=zE),c&&Q.length&&(Q=y2(me.filter(_e=>_e.value!=null&&(_e.hide!==!0||t.includeHidden)),p,aY));var re=Q.length>0,pe=A.createElement($V,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:f,active:G,coordinate:oe,hasPayload:re,offset:d,position:m,reverseDirection:v,useTranslate3d:b,viewBox:R,wrapperStyle:x,lastBoundingBox:se,innerRef:be,hasPortalFromProps:!!j},sY(l,$E($E({},t),{},{payload:Q,label:B,active:G,coordinate:oe,accessibilityLayer:D})));return A.createElement(A.Fragment,null,GM.createPortal(pe,X),G&&A.createElement(zG,{cursor:S,tooltipEventType:I,coordinate:oe,payload:me,index:J}))}var Lv={},Uv={},$v={},IE;function lY(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:o}={}){let l,c=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{d&&p(),S()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},x=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{x(),l=void 0,c=null},_=()=>{p()},O=function(...T){if(a?.aborted)return;l=this,c=T;const j=v==null;b(),f&&j&&p()};return O.schedule=b,O.cancel=S,O.flush=_,a?.addEventListener("abort",S,{once:!0}),O}e.debounce=t}($v)),$v}var qE;function uY(){return qE||(qE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let p,m=null;const v=t.debounce(function(...S){p=r.apply(this,S),m=null},a,{edges:d}),b=function(...S){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(p=r.apply(this,S),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,S),p)},x=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=x,b}e.debounce=n}(Uv)),Uv}var VE;function cY(){return VE||(VE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return t.debounce(r,a,{leading:l,maxWait:a,trailing:c})}e.throttle=n}(Lv)),Lv}var zv,KE;function fY(){return KE||(KE=1,zv=cY().throttle),zv}var dY=fY();const hY=Wr(dY);var Du=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]};function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vR=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:f,children:d,debounce:p=0,id:m,className:v,onResize:b,style:x={}}=e,S=A.useRef(null),_=A.useRef();_.current=b,A.useImperativeHandle(t,()=>S.current);var[O,T]=A.useState({containerWidth:r.width,containerHeight:r.height}),j=A.useCallback((P,k)=>{T(R=>{var D=Math.round(P),I=Math.round(k);return R.containerWidth===D&&R.containerHeight===I?R:{containerWidth:D,containerHeight:I}})},[]);A.useEffect(()=>{var P=I=>{var J,{width:W,height:H}=I[0].contentRect;j(W,H),(J=_.current)===null||J===void 0||J.call(_,W,H)};p>0&&(P=hY(P,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(P),{width:R,height:D}=S.current.getBoundingClientRect();return j(R,D),k.observe(S.current),()=>{k.disconnect()}},[j,p]);var M=A.useMemo(()=>{var{containerWidth:P,containerHeight:k}=O;if(P<0||k<0)return null;Du(rs(a)||rs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,o),Du(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=rs(a)?P:a,D=rs(o)?k:o;return n&&n>0&&(R?D=R/n:D&&(R=D*n),f&&D>f&&(D=f)),Du(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,a,o,l,c,n),A.Children.map(d,I=>A.cloneElement(I,{width:R,height:D,style:Iv({width:R,height:D},I.props.style)}))},[n,d,o,f,c,l,O,a]);return A.createElement("div",{id:m?"".concat(m):void 0,className:et("recharts-responsive-container",v),style:Iv(Iv({},x),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:f}),ref:S},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},M))}),xc=e=>null;xc.displayName="Cell";function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){vY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vY(e,t,n){return(t=yY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo={widthCache:{},cacheCount:0},xY=2e3,wY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GE="recharts_measurement_span";function _Y(e){var t=p0({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var ku=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ol.isSsr)return{width:0,height:0};var r=_Y(n),a=JSON.stringify({text:t,copyStyle:r});if(Eo.widthCache[a])return Eo.widthCache[a];try{var o=document.getElementById(GE);o||(o=document.createElement("span"),o.setAttribute("id",GE),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=p0(p0({},wY),r);Object.assign(o.style,l),o.textContent="".concat(t);var c=o.getBoundingClientRect(),f={width:c.width,height:c.height};return Eo.widthCache[a]=f,++Eo.cacheCount>xY&&(Eo.cacheCount=0,Eo.widthCache={}),f}catch{return{width:0,height:0}}},YE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,AY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OY=Object.keys(yR),Uo="NaN";function TY(e,t){return e*yR[t]}class Mn{static parse(t){var n,[,r,a]=(n=AY.exec(t))!==null&&n!==void 0?n:[];return new Mn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Wn(t)&&(this.unit=""),n!==""&&!SY.test(n)&&(this.num=NaN,this.unit=""),OY.includes(n)&&(this.num=TY(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Mn(NaN,""):new Mn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mn(NaN,""):new Mn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mn(NaN,""):new Mn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mn(NaN,""):new Mn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wn(this.num)}}function bR(e){if(e.includes(Uo))return Uo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,o]=(n=YE.exec(t))!==null&&n!==void 0?n:[],l=Mn.parse(r??""),c=Mn.parse(o??""),f=a==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Uo;t=t.replace(YE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,p,m,v]=(d=WE.exec(t))!==null&&d!==void 0?d:[],b=Mn.parse(p??""),x=Mn.parse(v??""),S=m==="+"?b.add(x):b.subtract(x);if(S.isNaN())return Uo;t=t.replace(WE,S.toString())}return t}var XE=/\(([^()]*)\)/;function jY(e){for(var t=e,n;(n=XE.exec(t))!=null;){var[,r]=n;t=t.replace(XE,bR(r))}return t}function EY(e){var t=e.replace(/\s+/g,"");return t=jY(t),t=bR(t),t}function CY(e){try{return EY(e)}catch{return Uo}}function qv(e){var t=CY(e.slice(5,-1));return t===Uo?"":t}var PY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MY=["dx","dy","angle","className","breakAll"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function ZE(e,t){if(e==null)return{};var n,r,a=DY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xR=/[ \f\n\r\t\v\u2028\u2029]+/,wR=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];$t(t)||(n?a=t.toString().split(""):a=t.toString().split(xR));var o=a.map(c=>({word:c,width:ku(c,r).width})),l=n?0:ku(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},kY=(e,t,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:f}=e,d=fe(o),p=l,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((H,ie)=>{var{word:oe,width:me}=ie,q=H[H.length-1];if(q&&(r==null||a||q.width+me+n<Number(r)))q.words.push(oe),q.width+=me+n;else{var G={words:[oe],width:me};H.push(G)}return H},[])},v=m(t),b=J=>J.reduce((W,H)=>W.width>H.width?W:H);if(!d||a)return v;var x=v.length>o||b(v).width>Number(r);if(!x)return v;for(var S="…",_=J=>{var W=p.slice(0,J),H=wR({breakAll:f,style:c,children:W+S}).wordsWithComputedWidth,ie=m(H),oe=ie.length>o||b(ie).width>Number(r);return[oe,ie]},O=0,T=p.length-1,j=0,M;O<=T&&j<=p.length-1;){var P=Math.floor((O+T)/2),k=P-1,[R,D]=_(k),[I]=_(P);if(!R&&!I&&(O=P+1),R&&I&&(T=P-1),!R&&I){M=D;break}j++}return M||v},QE=e=>{var t=$t(e)?[]:e.toString().split(xR);return[{words:t}]},RY=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=e;if((t||n)&&!ol.isSsr){var c,f,d=wR({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:p,spaceWidth:m}=d;c=p,f=m}else return QE(r);return kY({breakAll:o,children:r,maxLines:l,style:a},c,f,t,n)}return QE(r)},JE="#808080",Mh=A.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:f="end",fill:d=JE}=e,p=ZE(e,PY),m=A.useMemo(()=>RY({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:b,angle:x,className:S,breakAll:_}=p,O=ZE(p,MY);if(!Gr(n)||!Gr(r))return null;var T=n+(fe(v)?v:0),j=r+(fe(b)?b:0),M;switch(f){case"start":M=qv("calc(".concat(o,")"));break;case"middle":M=qv("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=qv("calc(".concat(m.length-1," * -").concat(a,")"));break}var P=[];if(l){var k=m[0].width,{width:R}=p;P.push("scale(".concat(fe(R)?R/k:1,")"))}return x&&P.push("rotate(".concat(x,", ").concat(T,", ").concat(j,")")),P.length&&(O.transform=P.join(" ")),A.createElement("text",m0({},tt(O,!0),{ref:t,x:T,y:j,className:et("recharts-text",S),textAnchor:c,fill:d.includes("url")?JE:d}),m.map((D,I)=>{var J=D.words.join(_?"":" ");return A.createElement("tspan",{x:T,dy:I===0?M:a,key:"".concat(J,"-").concat(I)},J)}))});Mh.displayName="Text";var NY=["offset"],BY=["labelRef"];function eC(e,t){if(e==null)return{};var n,r,a=LY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function LY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Y(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(null,arguments)}var IY=e=>{var{value:t,formatter:n}=e,r=$t(e.children)?t:e.children;return typeof n=="function"?n(r):r},Vx=e=>e!=null&&typeof e=="function",qY=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},VY=(e,t,n)=>{var{position:r,viewBox:a,offset:o,className:l}=e,{cx:c,cy:f,innerRadius:d,outerRadius:p,startAngle:m,endAngle:v,clockWise:b}=a,x=(d+p)/2,S=qY(m,v),_=S>=0?1:-1,O,T;r==="insideStart"?(O=m+_*o,T=b):r==="insideEnd"?(O=v-_*o,T=!b):r==="end"&&(O=v+_*o,T=b),T=S<=0?T:!T;var j=Ut(c,f,x,O),M=Ut(c,f,x,O+(T?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(M.x,",").concat(M.y),k=$t(e.id)?Fo("recharts-radial-line-"):e.id;return A.createElement("text",pi({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:k,d:P})),A.createElement("textPath",{xlinkHref:"#".concat(k)},t))},KY=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:a,cy:o,innerRadius:l,outerRadius:c,startAngle:f,endAngle:d}=t,p=(f+d)/2;if(r==="outside"){var{x:m,y:v}=Ut(a,o,c+n,p);return{x:m,y:v,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x,y:S}=Ut(a,o,b,p);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},HY=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:o,y:l,width:c,height:f}=t,d=f>=0?1:-1,p=d*r,m=d>0?"end":"start",v=d>0?"start":"end",b=c>=0?1:-1,x=b*r,S=b>0?"end":"start",_=b>0?"start":"end";if(a==="top"){var O={x:o+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:m};return Bt(Bt({},O),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var T={x:o+c/2,y:l+f+p,textAnchor:"middle",verticalAnchor:v};return Bt(Bt({},T),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(a==="left"){var j={x:o-x,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return Bt(Bt({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(a==="right"){var M={x:o+c+x,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return Bt(Bt({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:f}:{})}var P=n?{width:c,height:f}:{};return a==="insideLeft"?Bt({x:o+x,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},P):a==="insideRight"?Bt({x:o+c-x,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?Bt({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},P):a==="insideBottom"?Bt({x:o+c/2,y:l+f-p,textAnchor:"middle",verticalAnchor:m},P):a==="insideTopLeft"?Bt({x:o+x,y:l+p,textAnchor:_,verticalAnchor:v},P):a==="insideTopRight"?Bt({x:o+c-x,y:l+p,textAnchor:S,verticalAnchor:v},P):a==="insideBottomLeft"?Bt({x:o+x,y:l+f-p,textAnchor:_,verticalAnchor:m},P):a==="insideBottomRight"?Bt({x:o+c-x,y:l+f-p,textAnchor:S,verticalAnchor:m},P):a&&typeof a=="object"&&(fe(a.x)||rs(a.x))&&(fe(a.y)||rs(a.y))?Bt({x:o+An(a.x,c),y:l+An(a.y,f),textAnchor:"end",verticalAnchor:"end"},P):Bt({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},FY=e=>"cx"in e&&fe(e.cx);function Fn(e){var{offset:t=5}=e,n=eC(e,NY),r=Bt({offset:t},n),{viewBox:a,position:o,value:l,children:c,content:f,className:d="",textBreakAll:p,labelRef:m}=r,v=Db(),b=a||v;if(!b||$t(l)&&$t(c)&&!A.isValidElement(f)&&typeof f!="function")return null;if(A.isValidElement(f)){var{labelRef:x}=r,S=eC(r,BY);return A.cloneElement(f,S)}var _;if(typeof f=="function"){if(_=A.createElement(f,r),A.isValidElement(_))return _}else _=IY(r);var O=FY(b),T=tt(r,!0);if(O&&(o==="insideStart"||o==="insideEnd"||o==="end"))return VY(r,_,T);var j=O?KY(r):HY(r,b);return A.createElement(Mh,pi({ref:m,className:et("recharts-label",d)},T,j,{breakAll:p}),_)}Fn.displayName="Label";var _R=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:o,r:l,radius:c,innerRadius:f,outerRadius:d,x:p,y:m,top:v,left:b,width:x,height:S,clockWise:_,labelViewBox:O}=e;if(O)return O;if(fe(x)&&fe(S)){if(fe(p)&&fe(m))return{x:p,y:m,width:x,height:S};if(fe(v)&&fe(b))return{x:v,y:b,width:x,height:S}}if(fe(p)&&fe(m))return{x:p,y:m,width:0,height:0};if(fe(t)&&fe(n))return{cx:t,cy:n,startAngle:a||r||0,endAngle:o||r||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:_};if(e.viewBox)return e.viewBox},GY=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Fn,pi({key:"label-implicit"},r)):Gr(e)?A.createElement(Fn,pi({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Fn?A.cloneElement(e,Bt({key:"label-implicit"},r)):A.createElement(Fn,pi({key:"label-implicit",content:e},r)):Vx(e)?A.createElement(Fn,pi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Fn,pi({},e,{key:"label-implicit"},r)):null},YY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:a,labelRef:o}=t,l=_R(t),c=oc(a,Fn).map((d,p)=>A.cloneElement(d,{viewBox:n||l,key:"label-".concat(p)}));if(!r)return c;var f=GY(t.label,n||l,o);return[f,...c]};Fn.parseViewBox=_R;Fn.renderCallByParent=YY;var Vv={},Kv={},nC;function WY(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(Kv)),Kv}var Hv={},rC;function XY(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(Hv)),Hv}var iC;function ZY(){return iC||(iC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WY(),n=XY(),r=yb();function a(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=a}(Vv)),Vv}var Fv,aC;function QY(){return aC||(aC=1,Fv=ZY().last),Fv}var JY=QY();const eW=Wr(JY);var tW=["valueAccessor"],nW=["data","dataKey","clockWise","id","textBreakAll"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(null,arguments)}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){rW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rW(e,t,n){return(t=iW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lC(e,t){if(e==null)return{};var n,r,a=sW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oW=e=>Array.isArray(e.value)?eW(e.value):e.value;function ps(e){var{valueAccessor:t=oW}=e,n=lC(e,tW),{data:r,dataKey:a,clockWise:o,id:l,textBreakAll:c}=n,f=lC(n,nW);return!r||!r.length?null:A.createElement(On,{className:"recharts-label-list"},r.map((d,p)=>{var m=$t(a)?t(d,p):Ot(d&&d.payload,a),v=$t(l)?{}:{id:"".concat(l,"-").concat(p)};return A.createElement(Fn,Hd({},tt(d,!0),f,v,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Fn.parseViewBox($t(o)?d:oC(oC({},d),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}ps.displayName="LabelList";function lW(e,t){return e?e===!0?A.createElement(ps,{key:"labelList-implicit",data:t}):A.isValidElement(e)||Vx(e)?A.createElement(ps,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?A.createElement(ps,Hd({data:t},e,{key:"labelList-implicit"})):null:null}function uW(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,a=oc(r,ps).map((l,c)=>A.cloneElement(l,{data:t,key:"labelList-".concat(c)}));if(!n)return a;var o=lW(e.label,t);return[o,...a]}ps.renderCallByParent=uW;var SR=e=>e.graphicalItems.polarItems,cW=F([Mt,mc],vx),Kx=F([SR,Dt,cW],bx),fW=F([Kx],xx),Hx=F([fW,ox],wx),dW=F([Hx,Dt,Kx],_x),hW=F([Hx,Dt,Kx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var o,l=Ot(r,(o=t.dataKey)!==null&&o!==void 0?o:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Ot(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),uC=()=>{},pW=F([Dt,Pk,uC,hW,uC],Ox),AR=F([Dt,nt,Hx,dW,pc,Mt,pW],Tx),mW=F([AR,Dt,dl],Cx);F([Dt,AR,mW,Mt],Mx);var gW={radiusAxis:{},angleAxis:{}},OR=xr({name:"polarAxis",initialState:gW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kee,removeRadiusAxis:Ree,addAngleAxis:Nee,removeAngleAxis:Bee}=OR.actions,vW=OR.reducer;function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){yW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yW(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=(e,t)=>t,wW=[],Gx=(e,t,n)=>n?.length===0?wW:n,TR=F([ox,Fx,Gx],(e,t,n)=>{var{chartData:r}=e,a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(o=>fC(fC({},t.presentationProps),o.props))),a!=null)return a}),_W=F([TR,Fx,Gx],(e,t,n)=>{if(e!=null)return e.map((r,a)=>{var o,l=Ot(r,t.nameKey,t.name),c;return n!=null&&(o=n[a])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:dh(l,t.dataKey),color:c,payload:r,type:t.legendType}})}),SW=F([SR,Fx],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),AW=F([TR,SW,Gx,Kt],(e,t,n,r)=>{if(!(t==null||e==null))return gX({offset:r,pieSettings:t,displayedData:e,cells:n})}),OW={countOfBars:0,cartesianItems:[],polarItems:[]},jR=xr({name:"graphicalItems",initialState:OW,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=yi(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=yi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=yi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:TW,removeBar:jW,addCartesianGraphicalItem:EW,replaceCartesianGraphicalItem:CW,removeCartesianGraphicalItem:PW,addPolarGraphicalItem:MW,removePolarGraphicalItem:DW}=jR.actions,kW=jR.reducer;function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LW(e){var t=vt(),n=A.useRef(null);return A.useEffect(()=>{var r=hC(hC({},e),{},{stackId:Z2(e.stackId)});n.current===null?t(EW(r)):n.current!==r&&t(CW({prev:n.current,next:r})),n.current=r},[t,e]),A.useEffect(()=>()=>{n.current&&(t(PW(n.current)),n.current=null)},[t]),null}function UW(e){var t=vt();return A.useEffect(()=>(t(MW(e)),()=>{t(DW(e))}),[t,e]),null}var Gv={},pC;function $W(){return pC||(pC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(Gv)),Gv}var Yv,mC;function zW(){return mC||(mC=1,Yv=$W().isPlainObject),Yv}var IW=zW();const qW=Wr(IW);function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(null,arguments)}var gC=(e,t,n,r,a)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+a),l+="L ".concat(e+n-o/2-r,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},VW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KW=e=>{var t=Dr(e,VW),n=A.useRef(),[r,a]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&a(_)}catch{}},[]);var{x:o,y:l,upperWidth:c,lowerWidth:f,height:d,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:b,isUpdateAnimationActive:x}=t;if(o!==+o||l!==+l||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var S=et("recharts-trapezoid",p);return x?A.createElement(vs,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:l},to:{upperWidth:c,lowerWidth:f,height:d,x:o,y:l},duration:v,animationEasing:m,isActive:x},_=>{var{upperWidth:O,lowerWidth:T,height:j,x:M,y:P}=_;return A.createElement(vs,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:m},A.createElement("path",Fd({},tt(t,!0),{className:S,d:gC(M,P,O,T,j),ref:n})))}):A.createElement("g",null,A.createElement("path",Fd({},tt(t,!0),{className:S,d:gC(o,l,c,f,d)})))},HW=["option","shapeType","propTransformer","activeClassName","isActive"];function FW(e,t){if(e==null)return{};var n,r,a=GW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){YW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YW(e,t,n){return(t=WW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){return Gd(Gd({},t),e)}function QW(e,t){return e==="symbols"}function yC(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(fD,n);case"trapezoid":return A.createElement(KW,n);case"sector":return A.createElement(pD,n);case"symbols":if(QW(t))return A.createElement(mb,n);break;default:return null}}function JW(e){return A.isValidElement(e)?e.props:e}function ER(e){var{option:t,shapeType:n,propTransformer:r=ZW,activeClassName:a="recharts-active-shape",isActive:o}=e,l=FW(e,HW),c;if(A.isValidElement(t))c=A.cloneElement(t,Gd(Gd({},l),JW(t)));else if(typeof t=="function")c=t(l);else if(qW(t)&&typeof t!="boolean"){var f=r(t,l);c=A.createElement(yC,{shapeType:n,elementProps:f})}else{var d=l;c=A.createElement(yC,{shapeType:n,elementProps:d})}return o?A.createElement(On,{className:a},c):c}var Yx=(e,t)=>{var n=vt();return(r,a)=>o=>{e?.(r,a,o),n(Fk({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Wx=e=>{var t=vt();return(n,r)=>a=>{e?.(n,r,a),t($7())}},Xx=(e,t)=>{var n=vt();return(r,a)=>o=>{e?.(r,a,o),n(z7({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function CR(e){var{fn:t,args:n}=e,r=vt(),a=Rn();return A.useEffect(()=>{if(!a){var o=t(n);return r(B7(o)),()=>{r(L7(o))}}},[t,n,r,a]),null}var PR=()=>{};function eX(e){var{legendPayload:t}=e,n=vt(),r=Rn();return A.useEffect(()=>r?PR:(n(iD(t)),()=>{n(aD(t))}),[n,r,t]),null}function tX(e){var{legendPayload:t}=e,n=vt(),r=ge(nt);return A.useEffect(()=>r!=="centric"&&r!=="radial"?PR:(n(iD(t)),()=>{n(aD(t))}),[n,r,t]),null}function MR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Fo(t)),r=A.useRef(e);return r.current!==e&&(n.current=Fo(t),r.current=e),n.current}var nX=["onMouseEnter","onClick","onMouseLeave"];function rX(e,t){if(e==null)return{};var n,r,a=iX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){Dh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dh(e,t,n){return(t=aX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(null,arguments)}function oX(e){var t=A.useMemo(()=>tt(e,!1),[e]),n=A.useMemo(()=>oc(e.children,xc),[e.children]),r=A.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=ge(o=>_W(o,r,n));return A.createElement(tX,{legendPayload:a})}function lX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:o,fill:l,name:c,hide:f,tooltipType:d}=e;return{dataDefinedOnItem:r?.map(p=>p.tooltipPayload),positions:r?.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:dh(c,t),hide:f,type:d,color:l,unit:""}}}var uX=(e,t)=>e>t?"start":e<t?"end":"middle",cX=(e,t,n)=>typeof t=="function"?t(e):An(t,n,n*.8),fX=(e,t,n)=>{var{top:r,left:a,width:o,height:l}=t,c=Y2(o,l),f=a+An(e.cx,o,o/2),d=r+An(e.cy,l,l/2),p=An(e.innerRadius,c,0),m=cX(n,e.outerRadius,c),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:p,outerRadius:m,maxRadius:v}},dX=(e,t)=>{var n=Jt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},hX=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var n=et("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return A.createElement(oD,xs({},t,{type:"linear",className:n}))},pX=(e,t,n)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),A.isValidElement(r)))return r;var a=et("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return A.createElement(Mh,xs({},t,{alignmentBaseline:"middle",className:a}),r)};function mX(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:o,dataKey:l}=n;if(!r||!a||!t)return null;var c=tt(n,!1),f=tt(a,!1),d=tt(o,!1),p=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,m=t.map((v,b)=>{var x=(v.startAngle+v.endAngle)/2,S=Ut(v.cx,v.cy,v.outerRadius+p,x),_=At(At(At(At({},c),v),{},{stroke:"none"},f),{},{index:b,textAnchor:uX(S.x,v.cx)},S),O=At(At(At(At({},c),v),{},{fill:"none",stroke:v.fill},d),{},{index:b,points:[Ut(v.cx,v.cy,v.outerRadius,x),S],key:"line"});return A.createElement(On,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},o&&hX(o,O),pX(a,_,Ot(v,l)))});return A.createElement(On,{className:"recharts-pie-labels"},m)}function DR(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:o}=e,l=ge(bs),{onMouseEnter:c,onClick:f,onMouseLeave:d}=a,p=rX(a,nX),m=Yx(c,a.dataKey),v=Wx(d),b=Xx(f,a.dataKey);return t==null?null:A.createElement(A.Fragment,null,t.map((x,S)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var _=n&&String(S)===l,O=l?r:null,T=_?n:O,j=At(At({},x),{},{stroke:x.stroke,tabIndex:-1,[J2]:S,[eD]:a.dataKey});return A.createElement(On,xs({tabIndex:-1,className:"recharts-pie-sector"},sc(p,x,S),{onMouseEnter:m(x,S),onMouseLeave:v(x,S),onClick:b(x,S),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(S)}),A.createElement(ER,xs({option:T,isActive:_,shapeType:"sector"},j)))}),A.createElement(mX,{sectors:t,props:a,showLabels:o}))}function gX(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:p,tooltipType:m}=n,v=Math.abs(n.minAngle),b=dX(c,f),x=Math.abs(b),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,_=r.filter(k=>Ot(k,d,0)!==0).length,O=(x>=360?_:_-1)*S,T=x-_*v-O,j=r.reduce((k,R)=>{var D=Ot(R,d,0);return k+(fe(D)?D:0)},0),M;if(j>0){var P;M=r.map((k,R)=>{var D=Ot(k,d,0),I=Ot(k,p,R),J=fX(n,o,k),W=(fe(D)?D:0)/j,H,ie=At(At({},k),a&&a[R]&&a[R].props);R?H=P.endAngle+Jt(b)*S*(D!==0?1:0):H=c;var oe=H+Jt(b)*((D!==0?v:0)+W*T),me=(H+oe)/2,q=(J.innerRadius+J.outerRadius)/2,G=[{name:I,value:D,payload:ie,dataKey:d,type:m}],se=Ut(J.cx,J.cy,q,me);return P=At(At(At(At({},n.presentationProps),{},{percent:W,cornerRadius:l,name:I,tooltipPayload:G,midAngle:me,middleRadius:q,tooltipPosition:se},ie),J),{},{value:Ot(k,d),startAngle:H,endAngle:oe,payload:ie,paddingAngle:Jt(b)*S}),P})}return M}function vX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:d,onAnimationStart:p,onAnimationEnd:m}=t,v=MR(t,"recharts-pie-"),b=n.current,[x,S]=A.useState(!0),_=A.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),O=A.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return A.createElement(vs,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},onAnimationStart:O,onAnimationEnd:_,key:v},T=>{var{t:j}=T,M=[],P=r&&r[0],k=P.startAngle;return r.forEach((R,D)=>{var I=b&&b[D],J=D>0?ga(R,"paddingAngle",0):0;if(I){var W=la(I.endAngle-I.startAngle,R.endAngle-R.startAngle),H=At(At({},R),{},{startAngle:k+J,endAngle:k+W(j)+J});M.push(H),k=H.endAngle}else{var{endAngle:ie,startAngle:oe}=R,me=la(0,ie-oe),q=me(j),G=At(At({},R),{},{startAngle:k+J,endAngle:k+q+J});M.push(G),k=G.endAngle}}),n.current=M,A.createElement(On,null,A.createElement(DR,{sectors:M,activeShape:f,inactiveShape:d,allOtherPieProps:t,showLabels:!x}))})}function yX(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:a}=e,o=A.useRef(null),l=o.current;return n&&t&&t.length&&(!l||l!==t)?A.createElement(vX,{props:e,previousSectorsRef:o}):A.createElement(DR,{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function bX(e){var{hide:t,className:n,rootTabIndex:r}=e,a=et("recharts-pie",n);return t?null:A.createElement(On,{tabIndex:r,className:a},A.createElement(yX,e))}var kR={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ol.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function xX(e){var t=Dr(e,kR),n=A.useMemo(()=>oc(e.children,xc),[e.children]),r=tt(t,!1),a=A.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),o=ge(l=>AW(l,a,n));return A.createElement(A.Fragment,null,A.createElement(CR,{fn:lX,args:At(At({},t),{},{sectors:o})}),A.createElement(bX,xs({},t,{sectors:o})))}class Zx extends A.PureComponent{constructor(){super(...arguments),Dh(this,"id",Fo("recharts-pie-"))}render(){return A.createElement(A.Fragment,null,A.createElement(UW,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),A.createElement(oX,this.props),A.createElement(xX,this.props),this.props.children)}}Dh(Zx,"displayName","Pie");Dh(Zx,"defaultProps",kR);var wX=F([Kt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_X=F([wX,Ti,ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),SX=e=>{var t=Rn();return ge(n=>va(n,"xAxis",e,t))},AX=e=>{var t=Rn();return ge(n=>va(n,"yAxis",e,t))},RR=()=>ge(_X),OX=()=>{var e=vt();return A.useEffect(()=>(e(TW()),()=>{e(jW())})),null},TX=["children"];function jX(e,t){if(e==null)return{};var n,r,a=EX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xC=()=>{},NR=A.createContext({addErrorBar:xC,removeErrorBar:xC}),CX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BR=A.createContext(CX);function PX(e){var{children:t}=e,n=jX(e,TX);return A.createElement(BR.Provider,{value:n},t)}var MX=()=>A.useContext(BR),DX=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:o,data:l,stackId:c,hide:f,type:d,barSize:p}=e,[m,v]=A.useState([]),b=A.useCallback(_=>{v(O=>[...O,_])},[v]),x=A.useCallback(_=>{v(O=>O.filter(T=>T!==_))},[v]),S=Rn();return A.createElement(NR.Provider,{value:{addErrorBar:b,removeErrorBar:x}},A.createElement(LW,{type:d,data:l,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:o,errorBars:m,stackId:c,hide:f,barSize:p,isPanorama:S}),t)};function kX(e){var{addErrorBar:t,removeErrorBar:n}=A.useContext(NR);return A.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var RX=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function LR(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(null,arguments)}function LX(e,t){if(e==null)return{};var n,r,a=UX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $X(e){var{direction:t,width:n,dataKey:r,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c}=e,f=LX(e,RX),d=tt(f,!1),{data:p,dataPointFormatter:m,xAxisId:v,yAxisId:b,errorBarOffset:x}=MX(),S=SX(v),_=AX(b);if(S?.scale==null||_?.scale==null||p==null||t==="x"&&S.type!=="number")return null;var O=p.map(T=>{var{x:j,y:M,value:P,errorVal:k}=m(T,r,t);if(!k)return null;var R=[],D,I;if(Array.isArray(k)?[D,I]=k:D=I=k,t==="x"){var{scale:J}=S,W=M+x,H=W+n,ie=W-n,oe=J(P-D),me=J(P+I);R.push({x1:me,y1:H,x2:me,y2:ie}),R.push({x1:oe,y1:W,x2:me,y2:W}),R.push({x1:oe,y1:H,x2:oe,y2:ie})}else if(t==="y"){var{scale:q}=_,G=j+x,se=G-n,be=G+n,B=q(P-D),X=q(P+I);R.push({x1:se,y1:X,x2:be,y2:X}),R.push({x1:G,y1:B,x2:G,y2:X}),R.push({x1:se,y1:B,x2:be,y2:B})}var Q="".concat(j+x,"px ").concat(M+x,"px");return A.createElement(On,Qu({className:"recharts-errorBar",key:"bar-".concat(R.map(re=>"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)))},d),R.map(re=>{var pe=a?{transformOrigin:"".concat(re.x1-5,"px")}:void 0;return A.createElement(vs,{from:{transform:"scaleY(0)",transformOrigin:Q},to:{transform:"scaleY(1)",transformOrigin:Q},begin:o,easing:c,isActive:a,duration:l,key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2),style:{transformOrigin:Q}},A.createElement("line",Qu({},re,{style:pe})))}))});return A.createElement(On,{className:"recharts-errorBars"},O)}var UR=A.createContext(void 0);function zX(e){var t=A.useContext(UR);return e??t??"x"}function IX(e){var{direction:t,children:n}=e;return A.createElement(UR.Provider,{value:t},n)}var $R={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function qX(e){var t=zX(e.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:o,animationEasing:l}=Dr(e,$R);return A.createElement(A.Fragment,null,A.createElement(kX,{dataKey:e.dataKey,direction:t}),A.createElement($X,Qu({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:a,animationDuration:o,animationEasing:l})))}class zR extends A.Component{render(){return A.createElement(qX,this.props)}}LR(zR,"defaultProps",$R);LR(zR,"displayName","ErrorBar");var VX="Invariant failed";function KX(e,t){throw new Error(VX)}var HX=["x","y"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){FX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t){if(e==null)return{};var n,r,a=XX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZX(e,t){var{x:n,y:r}=e,a=WX(e,HX),o="".concat(n),l=parseInt(o,10),c="".concat(r),f=parseInt(c,10),d="".concat(t.height||a.height),p=parseInt(d,10),m="".concat(t.width||a.width),v=parseInt(m,10);return xu(xu(xu(xu(xu({},t),a),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function IR(e){return A.createElement(ER,g0({shapeType:"rectangle",propTransformer:ZX,activeClassName:"recharts-active-bar"},e))}var QX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(fe(t))return t;var o=fe(r)||$t(r);return o?t(r,a):(o||KX(),n)}};function qR(e,t){var n,r,a=ge(d=>Ci(d,e)),o=ge(d=>_a(d,t)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Vn.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function JX(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=RR(),{needClipX:o,needClipY:l,needClip:c}=qR(t,n);if(!c)return null;var{x:f,y:d,width:p,height:m}=a;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?f:f-p/2,y:l?d:d-m/2,width:o?p:p*2,height:l?m:m*2}))}var eZ=["onMouseEnter","onMouseLeave","onClick"],tZ=["value","background","tooltipPosition"],nZ=["onMouseEnter","onClick","onMouseLeave"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ju.apply(null,arguments)}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(r){kh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kh(e,t,n){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0(e,t){if(e==null)return{};var n,r,a=aZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sZ=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:r,value:dh(n,t),payload:e}]};function oZ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:dh(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:c}}}function lZ(e){var t=ge(bs),{data:n,dataKey:r,background:a,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:c,onClick:f}=o,d=v0(o,eZ),p=Yx(l,r),m=Wx(c),v=Xx(f,r);if(!a||n==null)return null;var b=tt(a,!1);return A.createElement(A.Fragment,null,n.map((x,S)=>{var{value:_,background:O,tooltipPosition:T}=x,j=v0(x,tZ);if(!O)return null;var M=p(x,S),P=m(x,S),k=v(x,S),R=gn(gn(gn(gn(gn({option:a,isActive:String(S)===t},j),{},{fill:"#eee"},O),b),sc(d,x,S)),{},{onMouseEnter:M,onMouseLeave:P,onClick:k,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return A.createElement(IR,Ju({key:"background-bar-".concat(S)},R))}))}function VR(e){var{data:t,props:n,showLabels:r}=e,a=tt(n,!1),{shape:o,dataKey:l,activeBar:c}=n,f=ge(bs),d=ge(aR),{onMouseEnter:p,onClick:m,onMouseLeave:v}=n,b=v0(n,nZ),x=Yx(p,l),S=Wx(v),_=Xx(m,l);return t?A.createElement(A.Fragment,null,t.map((O,T)=>{var j=c&&String(T)===f&&(d==null||l===d),M=j?c:o,P=gn(gn(gn({},a),O),{},{isActive:j,option:M,index:T,dataKey:l});return A.createElement(On,Ju({className:"recharts-bar-rectangle"},sc(b,O,T),{onMouseEnter:x(O,T),onMouseLeave:S(O,T),onClick:_(O,T),key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(T)}),A.createElement(IR,P))}),r&&ps.renderCallByParent(n,t)):null}function uZ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:d,onAnimationStart:p}=t,m=n.current,v=MR(t,"recharts-bar-"),[b,x]=A.useState(!1),S=A.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),_=A.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return A.createElement(vs,{begin:l,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},onAnimationEnd:S,onAnimationStart:_,key:v},O=>{var{t:T}=O,j=T===1?r:r.map((M,P)=>{var k=m&&m[P];if(k){var R=la(k.x,M.x),D=la(k.y,M.y),I=la(k.width,M.width),J=la(k.height,M.height);return gn(gn({},M),{},{x:R(T),y:D(T),width:I(T),height:J(T)})}if(a==="horizontal"){var W=la(0,M.height),H=W(T);return gn(gn({},M),{},{y:M.y+M.height-H,height:H})}var ie=la(0,M.width),oe=ie(T);return gn(gn({},M),{},{width:oe})});return T>0&&(n.current=j),A.createElement(On,null,A.createElement(VR,{props:t,data:j,showLabels:!b}))})}function cZ(e){var{data:t,isAnimationActive:n}=e,r=A.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?A.createElement(uZ,{previousRectanglesRef:r,props:e}):A.createElement(VR,{props:e,data:t,showLabels:!0})}var KR=0,fZ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ot(e,t)}};class dZ extends A.PureComponent{constructor(){super(...arguments),kh(this,"id",Fo("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:o,yAxisId:l,needClip:c,background:f,id:d,layout:p}=this.props;if(t)return null;var m=et("recharts-bar",a),v=$t(d)?this.id:d;return A.createElement(On,{className:m},c&&A.createElement("defs",null,A.createElement(JX,{clipPathId:v,xAxisId:o,yAxisId:l})),A.createElement(On,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):null},A.createElement(lZ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(cZ,this.props)),A.createElement(IX,{direction:p==="horizontal"?"y":"x"},this.props.children))}}var HR={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ol.isSsr,legendType:"rect",minPointSize:KR,xAxisId:0,yAxisId:0};function hZ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:p}=Dr(e,HR),{needClip:m}=qR(t,n),v=Nb(),b=Rn(),x=A.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:Z2(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),S=oc(e.children,xc),_=ge(j=>IZ(j,t,n,b,x,S));if(v!=="vertical"&&v!=="horizontal")return null;var O,T=_?.[0];return T==null||T.height==null||T.width==null?O=0:O=v==="vertical"?T.height/2:T.width/2,A.createElement(PX,{xAxisId:t,yAxisId:n,data:_,dataPointFormatter:fZ,errorBarOffset:O},A.createElement(dZ,Ju({},e,{layout:v,needClip:m,data:_,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:p})))}function pZ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:d,stackedData:p,displayedData:m,offset:v,cells:b}=e,x=t==="horizontal"?c:l,S=p?x.scale.domain():null,_=Z8({numericAxis:x});return m.map((O,T)=>{var j,M,P,k,R,D;p?j=F8(p[T],S):(j=Ot(O,n),Array.isArray(j)||(j=[_,j]));var I=QX(r,KR)(j[1],T);if(t==="horizontal"){var J,[W,H]=[c.scale(j[0]),c.scale(j[1])];M=lj({axis:l,ticks:f,bandSize:o,offset:a.offset,entry:O,index:T}),P=(J=H??W)!==null&&J!==void 0?J:void 0,k=a.size;var ie=W-H;if(R=Wn(ie)?0:ie,D={x:M,y:v.top,width:k,height:v.height},Math.abs(I)>0&&Math.abs(R)<Math.abs(I)){var oe=Jt(R||I)*(Math.abs(I)-Math.abs(R));P-=oe,R+=oe}}else{var[me,q]=[l.scale(j[0]),l.scale(j[1])];if(M=me,P=lj({axis:c,ticks:d,bandSize:o,offset:a.offset,entry:O,index:T}),k=q-me,R=a.size,D={x:v.left,y:P,width:v.width,height:R},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var G=Jt(k||I)*(Math.abs(I)-Math.abs(k));k+=G}}var se=gn(gn({},O),{},{x:M,y:P,width:k,height:R,value:p?j:j[1],payload:O,background:D,tooltipPosition:{x:M+k/2,y:P+R/2}},b&&b[T]&&b[T].props);return se})}class Ru extends A.PureComponent{render(){return A.createElement(DX,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},A.createElement(OX,null),A.createElement(eX,{legendPayload:sZ(this.props)}),A.createElement(CR,{fn:oZ,args:this.props}),A.createElement(hZ,this.props))}}kh(Ru,"displayName","Bar");kh(Ru,"defaultProps",HR);function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yZ=(e,t)=>t,bZ=(e,t,n)=>n,xZ=(e,t,n,r)=>r,Qx=(e,t,n,r,a)=>a,wZ=(e,t,n,r,a)=>a.maxBarSize,_Z=(e,t,n,r,a,o)=>o,AC=(e,t,n)=>{var r=n??e;if(!$t(r))return An(r,t,0)},SZ=F([nt,yx,yZ,bZ,xZ],(e,t,n,r,a)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===a).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),AZ=(e,t,n,r)=>{var a=nt(e);return a==="horizontal"?u0(e,"yAxis",n,r):u0(e,"xAxis",t,r)},OZ=(e,t,n)=>{var r=nt(e);return r==="horizontal"?jE(e,"xAxis",t):jE(e,"yAxis",n)};function TZ(e){return e.stackId!=null&&e.dataKey!=null}var jZ=(e,t,n)=>{var r={},a=e.filter(TZ),o=e.filter(d=>d.stackId==null),l=a.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),c=Object.entries(l).map(d=>{var[p,m]=d,v=m.map(x=>x.dataKey),b=AC(t,n,m[0].barSize);return{stackId:p,dataKeys:v,barSize:b}}),f=o.map(d=>{var p=[d.dataKey].filter(v=>v!=null),m=AC(t,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...f]},EZ=F([SZ,NF,OZ],jZ),CZ=(e,t,n,r,a)=>{var o,l,c=nt(e),f=fk(e),{maxBarSize:d}=a,p=$t(d)?f:d,m,v;return c==="horizontal"?(m=va(e,"xAxis",t,r),v=tl(e,"xAxis",t,r)):(m=va(e,"yAxis",n,r),v=tl(e,"yAxis",n,r)),(o=(l=Cb(m,v,!0))!==null&&l!==void 0?l:p)!==null&&o!==void 0?o:0},FR=(e,t,n,r)=>{var a=nt(e),o,l;return a==="horizontal"?(o=va(e,"xAxis",t,r),l=tl(e,"xAxis",t,r)):(o=va(e,"yAxis",n,r),l=tl(e,"yAxis",n,r)),Cb(o,l)};function PZ(e,t,n,r,a){var o=r.length;if(!(o<1)){var l=An(e,n,0,!0),c,f=[];if(Qn(r[0].barSize)){var d=!1,p=n/o,m=r.reduce((O,T)=>O+(T.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&p>0&&(d=!0,p*=.9,m=o*p);var v=(n-m)/2>>0,b={offset:v-l,size:0};c=r.reduce((O,T)=>{var j,M={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:b.offset+b.size+l,size:d?p:(j=T.barSize)!==null&&j!==void 0?j:0}},P=[...O,M];return b=P[P.length-1].position,P},f)}else{var x=An(t,n,0,!0);n-2*x-(o-1)*l<=0&&(l=0);var S=(n-2*x-(o-1)*l)/o;S>1&&(S>>=0);var _=Qn(a)?Math.min(S,a):S;c=r.reduce((O,T,j)=>[...O,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:x+(S+l)*j+(S-_)/2,size:_}}],f)}return c}}var MZ=(e,t,n,r,a,o,l)=>{var c=$t(l)?t:l,f=PZ(n,r,a!==o?a:o,e,c);return a!==o&&f!=null&&(f=f.map(d=>id(id({},d),{},{position:id(id({},d.position),{},{offset:d.position.offset-a/2})}))),f},DZ=F([EZ,fk,RF,dk,CZ,FR,wZ],MZ),kZ=(e,t,n,r)=>va(e,"xAxis",t,r),RZ=(e,t,n,r)=>va(e,"yAxis",n,r),NZ=(e,t,n,r)=>tl(e,"xAxis",t,r),BZ=(e,t,n,r)=>tl(e,"yAxis",n,r),LZ=F([DZ,Qx],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),UZ=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:a}=r;if(a){var o=a.find(l=>l.key===t.dataKey);return o}}}}},$Z=F([yx,Qx],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),zZ=F([AZ,Qx],UZ),IZ=F([Kt,kZ,RZ,NZ,BZ,LZ,nt,XD,FR,zZ,$Z,_Z],(e,t,n,r,a,o,l,c,f,d,p,m)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:x}=c;if(!(p==null||o==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||r==null||a==null||f==null)){var{data:S}=p,_;if(S!=null&&S.length>0?_=S:_=v?.slice(b,x+1),_!=null)return pZ({layout:l,barSettings:p,pos:o,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:d,displayedData:_,offset:e,cells:m})}}),GR=e=>{var{chartData:t}=e,n=vt(),r=Rn();return A.useEffect(()=>r?()=>{}:(n(LE(t)),()=>{n(LE(void 0))}),[t,n,r]),null},OC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YR=xr({name:"brush",initialState:OC,reducers:{setBrushSettings(e,t){return t.payload==null?OC:t.payload}}}),{setBrushSettings:Lee}=YR.actions,qZ=YR.reducer;function VZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jx{static create(t){return new Jx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}VZ(Jx,"EPS",1e-4);function FZ(e){return(e%180+180)%180}var GZ=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=FZ(a),l=o*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},YZ={dots:[],areas:[],lines:[]},WR=xr({name:"referenceElements",initialState:YZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=yi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=yi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=yi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Uee,removeDot:$ee,addArea:zee,removeArea:Iee,addLine:qee,removeLine:Vee}=WR.actions,WZ=WR.reducer,XZ=A.createContext(void 0),ZZ=e=>{var{children:t}=e,[n]=A.useState("".concat(Fo("recharts"),"-clip")),r=RR();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return A.createElement(XZ.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:a,y:o,height:c,width:l}))),t)};function Wv(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function XR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function QZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return GZ(r,n)}function JZ(e,t,n){var r=n==="width",{x:a,y:o,width:l,height:c}=e;return t===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function Yd(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function eQ(e,t){return XR(e,t+1)}function tQ(e,t,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=t,f=0,d=1,p=l,m=function(){var x=r?.[f];if(x===void 0)return{v:XR(r,d)};var S=f,_,O=()=>(_===void 0&&(_=n(x,S)),_),T=x.coordinate,j=f===0||Yd(e,T,O,p,c);j||(f=0,p=l,d+=1),j&&(p=T+e*(O()/2+a),f+=d)},v;d<=o.length;)if(v=m(),v)return v.v;return[]}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e,t,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=t,{end:f}=t,d=function(v){var b=o[v],x,S=()=>(x===void 0&&(x=n(b,v)),x);if(v===l-1){var _=e*(b.coordinate+e*S()/2-f);o[v]=b=mn(mn({},b),{},{tickCoord:_>0?b.coordinate-_*e:b.coordinate})}else o[v]=b=mn(mn({},b),{},{tickCoord:b.coordinate});var O=Yd(e,b.tickCoord,S,c,f);O&&(f=b.tickCoord-e*(S()/2+a),o[v]=mn(mn({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)d(p);return o}function sQ(e,t,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:f,end:d}=t;if(o){var p=r[c-1],m=n(p,c-1),v=e*(p.coordinate+e*m/2-d);l[c-1]=p=mn(mn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var b=Yd(e,p.tickCoord,()=>m,f,d);b&&(d=p.tickCoord-e*(m/2+a),l[c-1]=mn(mn({},p),{},{isShow:!0}))}for(var x=o?c-1:c,S=function(T){var j=l[T],M,P=()=>(M===void 0&&(M=n(j,T)),M);if(T===0){var k=e*(j.coordinate-e*P()/2-f);l[T]=j=mn(mn({},j),{},{tickCoord:k<0?j.coordinate-k*e:j.coordinate})}else l[T]=j=mn(mn({},j),{},{tickCoord:j.coordinate});var R=Yd(e,j.tickCoord,P,f,d);R&&(f=j.tickCoord+e*(P()/2+a),l[T]=mn(mn({},j),{},{isShow:!0}))},_=0;_<x;_++)S(_);return l}function ew(e,t,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:f,tickFormatter:d,unit:p,angle:m}=e;if(!a||!a.length||!r)return[];if(fe(f)||ol.isSsr){var v;return(v=eQ(a,fe(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],x=c==="top"||c==="bottom"?"width":"height",S=p&&x==="width"?ku(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(j,M)=>{var P=typeof d=="function"?d(j.value,M):j.value;return x==="width"?QZ(ku(P,{fontSize:t,letterSpacing:n}),S,m):ku(P,{fontSize:t,letterSpacing:n})[x]},O=a.length>=2?Jt(a[1].coordinate-a[0].coordinate):1,T=JZ(o,O,x);return f==="equidistantPreserveStart"?tQ(O,T,_,a,l):(f==="preserveStart"||f==="preserveStartEnd"?b=sQ(O,T,_,a,l,f==="preserveStartEnd"):b=aQ(O,T,_,a,l),b.filter(j=>j.isShow))}var oQ=["viewBox"],lQ=["viewBox"];function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(null,arguments)}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){tw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EC(e,t){if(e==null)return{};var n,r,a=uQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tw(e,t,n){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sa extends A.Component{constructor(t){super(t),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,a=EC(t,oQ),o=this.props,{viewBox:l}=o,c=EC(o,lQ);return!Wv(r,l)||!Wv(a,c)||!Wv(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:a,height:o,orientation:l,tickSize:c,mirror:f,tickMargin:d}=this.props,p,m,v,b,x,S,_=f?-1:1,O=t.tickSize||c,T=fe(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":p=m=t.coordinate,b=r+ +!f*o,v=b-_*O,S=v-_*d,x=T;break;case"left":v=b=t.coordinate,m=n+ +!f*a,p=m-_*O,x=p-_*d,S=T;break;case"right":v=b=t.coordinate,m=n+ +f*a,p=m+_*O,x=p+_*d,S=T;break;default:p=m=t.coordinate,b=r+ +f*o,v=b+_*O,S=v+_*d,x=T;break}return{line:{x1:p,y1:v,x2:m,y2:b},tick:{x,y:S}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c}=this.props,f=Vt(Vt(Vt({},tt(this.props,!1)),tt(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!l||o==="bottom"&&l);f=Vt(Vt({},f),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var p=+(o==="left"&&!l||o==="right"&&l);f=Vt(Vt({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+a})}return A.createElement("line",$o({},f,{className:et("recharts-cartesian-axis-line",ga(c,"className"))}))}static renderTickItem(t,n,r){var a,o=et(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))a=A.cloneElement(t,Vt(Vt({},n),{},{className:o}));else if(typeof t=="function")a=t(Vt(Vt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=et(l,t.className)),a=A.createElement(Mh,$o({},n,{className:l}),r)}return a}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:o,tick:l,tickFormatter:c,unit:f}=this.props,d=ew(Vt(Vt({},this.props),{},{ticks:r}),t,n),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=tt(this.props,!1),b=tt(l,!1),x=Vt(Vt({},v),{},{fill:"none"},tt(a,!1)),S=d.map((_,O)=>{var{line:T,tick:j}=this.getTickLineCoord(_),M=Vt(Vt(Vt(Vt({textAnchor:p,verticalAnchor:m},v),{},{stroke:"none",fill:o},b),j),{},{index:O,payload:_,visibleTicksCount:d.length,tickFormatter:c});return A.createElement(On,$o({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},sc(this.props,_,O)),a&&A.createElement("line",$o({},x,T,{className:et("recharts-cartesian-axis-tick-line",ga(a,"className"))})),l&&Sa.renderTickItem(l,M,"".concat(typeof c=="function"?c(_.value,O):_.value).concat(f||"")))});return S.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:r,className:a,hide:o}=this.props;if(o)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(On,{className:et("recharts-cartesian-axis",a),ref:c=>{if(c){var f=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var d=f[0];if(d){var p=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(p!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Fn.renderCallByParent(this.props))}}tw(Sa,"displayName","CartesianAxis");tw(Sa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dQ=["x1","y1","x2","y2","key"],hQ=["offset"],pQ=["xAxisId","yAxisId"],mQ=["xAxisId","yAxisId"];function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){gQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}function Wd(e,t){if(e==null)return{};var n,r,a=bQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=e;return A.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZR(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:o,y2:l,key:c}=t,f=Wd(t,dQ),d=tt(f,!1),{offset:p}=d,m=Wd(d,hQ);n=A.createElement("line",os({},m,{x1:r,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function wQ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=e,c=Wd(e,pQ),f=a.map((d,p)=>{var m=vn(vn({},c),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(p),index:p});return ZR(r,m)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function _Q(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=e,c=Wd(e,mQ),f=a.map((d,p)=>{var m=vn(vn({},c),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(p),index:p});return ZR(r,m)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function SQ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var d=c.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==d[0]&&d.unshift(0);var p=d.map((m,v)=>{var b=!d[v+1],x=b?a+l-m:d[v+1]-m;if(x<=0)return null;var S=v%t.length;return A.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:x,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function AQ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var d=f.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==d[0]&&d.unshift(0);var p=d.map((m,v)=>{var b=!d[v+1],x=b?a+l-m:d[v+1]-m;if(x<=0)return null;var S=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:x,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var OQ=(e,t)=>{var{xAxis:n,width:r,height:a,offset:o}=e;return W2(ew(vn(vn(vn({},Sa.defaultProps),n),{},{ticks:X2(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,t)},TQ=(e,t)=>{var{yAxis:n,width:r,height:a,offset:o}=e;return W2(ew(vn(vn(vn({},Sa.defaultProps),n),{},{ticks:X2(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,t)},jQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function QR(e){var t=kb(),n=Rb(),r=nD(),a=vn(vn({},Dr(e,jQ)),{},{x:fe(e.x)?e.x:r.left,y:fe(e.y)?e.y:r.top,width:fe(e.width)?e.width:r.width,height:fe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:f,width:d,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:b}=a,x=Rn(),S=ge(I=>EE(I,"xAxis",o,x)),_=ge(I=>EE(I,"yAxis",l,x));if(!fe(d)||d<=0||!fe(p)||p<=0||!fe(c)||c!==+c||!fe(f)||f!==+f)return null;var O=a.verticalCoordinatesGenerator||OQ,T=a.horizontalCoordinatesGenerator||TQ,{horizontalPoints:j,verticalPoints:M}=a;if((!j||!j.length)&&typeof T=="function"){var P=v&&v.length,k=T({yAxis:_?vn(vn({},_),{},{ticks:P?v:_.ticks}):void 0,width:t,height:n,offset:r},P?!0:m);Du(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(j=k)}if((!M||!M.length)&&typeof O=="function"){var R=b&&b.length,D=O({xAxis:S?vn(vn({},S),{},{ticks:R?b:S.ticks}):void 0,width:t,height:n,offset:r},R?!0:m);Du(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(M=D)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(xQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),A.createElement(SQ,os({},a,{horizontalPoints:j})),A.createElement(AQ,os({},a,{verticalPoints:M})),A.createElement(wQ,os({},a,{offset:r,horizontalPoints:j,xAxis:S,yAxis:_})),A.createElement(_Q,os({},a,{offset:r,verticalPoints:M,xAxis:S,yAxis:_})))}QR.displayName="CartesianGrid";function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){EQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EQ(e,t,n){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MQ={xAxis:{},yAxis:{},zAxis:{}},JR=xr({name:"cartesianAxis",initialState:MQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=MC(MC({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:DQ,removeXAxis:kQ,addYAxis:RQ,removeYAxis:NQ,addZAxis:Kee,removeZAxis:Hee,updateYAxisWidth:BQ}=JR.actions,LQ=JR.reducer,UQ=["children"],$Q=["dangerouslySetInnerHTML","ticks"];function eN(e,t,n){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function tN(e,t){if(e==null)return{};var n,r,a=qQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VQ(e){var t=vt(),n=A.useMemo(()=>{var{children:o}=e,l=tN(e,UQ);return l},[e]),r=ge(o=>Ci(o,n.id)),a=n===r;return A.useEffect(()=>(t(DQ(n)),()=>{t(kQ(n))}),[n,t]),a?e.children:null}var KQ=e=>{var{xAxisId:t,className:n}=e,r=ge(tD),a=Rn(),o="xAxis",l=ge(b=>hl(b,o,t,a)),c=ge(b=>zk(b,o,t,a)),f=ge(b=>Bk(b,t)),d=ge(b=>j7(b,t));if(f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:m}=e,v=tN(e,$Q);return A.createElement(Sa,y0({},v,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:et("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:c}))},HQ=e=>{var t,n,r,a,o;return A.createElement(VQ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},A.createElement(KQ,e))};class nw extends A.Component{render(){return A.createElement(HQ,this.props)}}eN(nw,"displayName","XAxis");eN(nw,"defaultProps",{allowDataOverflow:Vn.allowDataOverflow,allowDecimals:Vn.allowDecimals,allowDuplicatedCategory:Vn.allowDuplicatedCategory,height:Vn.height,hide:!1,mirror:Vn.mirror,orientation:Vn.orientation,padding:Vn.padding,reversed:Vn.reversed,scale:Vn.scale,tickCount:Vn.tickCount,type:Vn.type,xAxisId:0});var FQ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,f=a+o,d=l+f+c+(n?r:0);return Math.round(d)}return 0},GQ=["dangerouslySetInnerHTML","ticks"];function nN(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}function XQ(e,t){if(e==null)return{};var n,r,a=ZQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ZQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QQ(e){var t=vt();return A.useEffect(()=>(t(RQ(e)),()=>{t(NQ(e))}),[e,t]),null}var JQ=e=>{var t,{yAxisId:n,className:r,width:a,label:o}=e,l=A.useRef(null),c=A.useRef(null),f=ge(tD),d=Rn(),p=vt(),m="yAxis",v=ge(j=>hl(j,m,n,d)),b=ge(j=>Lk(j,n)),x=ge(j=>E7(j,n)),S=ge(j=>zk(j,m,n,d));if(A.useLayoutEffect(()=>{var j;if(!(a!=="auto"||!b||Vx(o)||A.isValidElement(o))){var M=l.current,P=M==null||(j=M.tickRefs)===null||j===void 0?void 0:j.current,{tickSize:k,tickMargin:R}=M.props,D=FQ({ticks:P,label:c.current,labelGapWithTick:5,tickSize:k,tickMargin:R});Math.round(b.width)!==Math.round(D)&&p(BQ({id:n,width:D}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b?.width,b,p,o,n,a]),b==null||x==null)return null;var{dangerouslySetInnerHTML:_,ticks:O}=e,T=XQ(e,GQ);return A.createElement(Sa,b0({},T,{ref:l,labelRef:c,scale:v,x:x.x,y:x.y,width:b.width,height:b.height,className:et("recharts-".concat(m," ").concat(m),r),viewBox:f,ticks:S}))},eJ=e=>{var t,n,r,a,o;return A.createElement(A.Fragment,null,A.createElement(QQ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),A.createElement(JQ,e))},tJ={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,hide:!1,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tickCount:Kn.tickCount,type:Kn.type,width:Kn.width,yAxisId:0};class rw extends A.Component{render(){return A.createElement(eJ,this.props)}}nN(rw,"displayName","YAxis");nN(rw,"defaultProps",tJ);var Xv={exports:{}},Zv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function nJ(){if(DC)return Zv;DC=1;var e=nl();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Zv.useSyncExternalStoreWithSelector=function(f,d,p,m,v){var b=a(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=l(function(){function _(P){if(!O){if(O=!0,T=P,P=m(P),v!==void 0&&x.hasValue){var k=x.value;if(v(k,P))return j=k}return j=P}if(k=j,n(T,P))return k;var R=m(P);return v!==void 0&&v(k,R)?(T=P,k):(T=P,j=R)}var O=!1,T,j,M=p===void 0?null:p;return[function(){return _(d())},M===null?void 0:function(){return _(M())}]},[d,p,m,v]);var S=r(f,b[0],b[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},Zv}var kC;function rJ(){return kC||(kC=1,Xv.exports=nJ()),Xv.exports}rJ();function iJ(e){e()}function aJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iJ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var RC={notify(){},get:()=>[]};function sJ(e,t){let n,r=RC,a=0,o=!1;function l(S){p();const _=r.subscribe(S);let O=!1;return()=>{O||(O=!0,_(),m())}}function c(){r.notify()}function f(){x.onStateChange&&x.onStateChange()}function d(){return o}function p(){a++,n||(n=e.subscribe(f),r=aJ())}function m(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=RC)}function v(){o||(o=!0,p())}function b(){o&&(o=!1,m())}const x={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return x}var oJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lJ=oJ(),uJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cJ=uJ(),fJ=()=>lJ||cJ?A.useLayoutEffect:A.useEffect,dJ=fJ(),hJ=Symbol.for("react-redux-context"),pJ=typeof globalThis<"u"?globalThis:{};function mJ(){if(!A.createContext)return{};const e=pJ[hJ]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var gJ=mJ();function vJ(e){const{children:t,context:n,serverState:r,store:a}=e,o=A.useMemo(()=>{const f=sJ(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=A.useMemo(()=>a.getState(),[a]);dJ(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||gJ;return A.createElement(c.Provider,{value:o},t)}var yJ=vJ,bJ=(e,t)=>t,iw=F([bJ,nt,IF,tn,tR,Pi,PG,Kt],NG),aw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},rN=yr("mouseClick"),iN=lc();iN.startListening({actionCreator:rN,effect:(e,t)=>{var n=e.payload,r=iw(t.getState(),aw(n));r?.activeIndex!=null&&t.dispatch(I7({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var x0=yr("mouseMove"),aN=lc();aN.startListening({actionCreator:x0,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=Rx(r,r.tooltip.settings.shared),o=iw(r,aw(n));a==="axis"&&(o?.activeIndex!=null?t.dispatch(Yk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Gk()))}});function xJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var NC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},sN=xr({name:"rootProps",initialState:NC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:NC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),wJ=sN.reducer,{updateOptions:_J}=sN.actions,oN=xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:SJ}=oN.actions,AJ=oN.reducer,lN=yr("keyDown"),uN=yr("focus"),sw=lc();sw.startListening({actionCreator:lN,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(Nx(a,js(n))),c=Pi(n);if(o==="Enter"){var f=Kd(n,"axis","hover",String(a.index));t.dispatch(f0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var d=D7(n),p=d==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,v=l+m*p;if(!(c==null||v>=c.length||v<0)){var b=Kd(n,"axis","hover",String(v));t.dispatch(f0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});sw.startListening({actionCreator:uN,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=Kd(n,"axis","hover",String(o));t.dispatch(f0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var hr=yr("externalEvent"),cN=lc();cN.startListening({actionCreator:hr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:wG(n),activeDataKey:aR(n),activeIndex:bs(n),activeLabel:iR(n),activeTooltipIndex:bs(n),isTooltipActive:_G(n)};e.payload.handler(r,e.payload.reactEvent)}}});var OJ=F([pl],e=>e.tooltipItemPayloads),TJ=F([OJ,bc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:o}=a;if(o!=null){var l=t(o,n);return l}}}),fN=yr("touchMove"),dN=lc();dN.startListening({actionCreator:fN,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=Rx(r,r.tooltip.settings.shared);if(a==="axis"){var o=iw(r,aw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(Yk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0],f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(J2),p=(l=f.getAttribute(eD))!==null&&l!==void 0?l:void 0,m=TJ(t.getState(),d,p);t.dispatch(Fk({activeDataKey:p,activeIndex:d,activeCoordinate:m}))}}});var jJ=O2({brush:qZ,cartesianAxis:LQ,chartData:ZG,graphicalItems:kW,layout:P8,legend:gV,options:FG,polarAxis:vW,polarOptions:AJ,referenceElements:WZ,rootProps:wJ,tooltip:q7}),EJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return t8({reducer:jJ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([iN.middleware,aN.middleware,sw.middleware,cN.middleware,dN.middleware]),devTools:{serialize:{replacer:xJ},name:"recharts-".concat(n)}})};function hN(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Rn(),o=A.useRef(null);if(a)return n;o.current==null&&(o.current=EJ(t,r));var l=Sb;return A.createElement(yJ,{context:l,store:o.current},n)}function pN(e){var{layout:t,width:n,height:r,margin:a}=e,o=vt(),l=Rn();return A.useEffect(()=>{l||(o(j8(t)),o(E8({width:n,height:r})),o(T8(a)))},[o,l,t,n,r,a]),null}function mN(e){var t=vt();return A.useEffect(()=>{t(_J(e))},[t,e]),null}var CJ=["children"];function PJ(e,t){if(e==null)return{};var n,r,a=MJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(null,arguments)}var DJ={width:"100%",height:"100%"},kJ=A.forwardRef((e,t)=>{var n=kb(),r=Rb(),a=sD();if(!Xo(n)||!Xo(r))return null;var{children:o,otherAttributes:l,title:c,desc:f}=e,d,p;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0,A.createElement(fb,Xd({},l,{title:c,desc:f,role:p,tabIndex:d,width:n,height:r,style:DJ,ref:t}),o)}),RJ=e=>{var{children:t}=e,n=ge(mh);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return A.createElement(fb,{width:r,height:a,x:l,y:o},t)},BC=A.forwardRef((e,t)=>{var{children:n}=e,r=PJ(e,CJ),a=Rn();return a?A.createElement(RJ,null,n):A.createElement(kJ,Xd({ref:t},r),n)});function NJ(){var e=vt(),[t,n]=A.useState(null),r=ge(iV);return A.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),o=a.width/t.offsetWidth;Qn(o)&&o!==r&&e(C8(o))}},[t,e,r]),n}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){LJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zJ=A.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:b,onTouchMove:x,onTouchStart:S,style:_,width:O}=e,T=vt(),[j,M]=A.useState(null),[P,k]=A.useState(null);eY();var R=NJ(),D=A.useCallback(Q=>{R(Q),typeof t=="function"&&t(Q),M(Q),k(Q)},[R,t,M,k]),I=A.useCallback(Q=>{T(rN(Q)),T(hr({handler:o,reactEvent:Q}))},[T,o]),J=A.useCallback(Q=>{T(x0(Q)),T(hr({handler:d,reactEvent:Q}))},[T,d]),W=A.useCallback(Q=>{T(Gk()),T(hr({handler:p,reactEvent:Q}))},[T,p]),H=A.useCallback(Q=>{T(x0(Q)),T(hr({handler:m,reactEvent:Q}))},[T,m]),ie=A.useCallback(()=>{T(uN())},[T]),oe=A.useCallback(Q=>{T(lN(Q.key))},[T]),me=A.useCallback(Q=>{T(hr({handler:l,reactEvent:Q}))},[T,l]),q=A.useCallback(Q=>{T(hr({handler:c,reactEvent:Q}))},[T,c]),G=A.useCallback(Q=>{T(hr({handler:f,reactEvent:Q}))},[T,f]),se=A.useCallback(Q=>{T(hr({handler:v,reactEvent:Q}))},[T,v]),be=A.useCallback(Q=>{T(hr({handler:S,reactEvent:Q}))},[T,S]),B=A.useCallback(Q=>{T(fN(Q)),T(hr({handler:x,reactEvent:Q}))},[T,x]),X=A.useCallback(Q=>{T(hr({handler:b,reactEvent:Q}))},[T,b]);return A.createElement(fR.Provider,{value:j},A.createElement(YM.Provider,{value:P},A.createElement("div",{className:et("recharts-wrapper",r),style:BJ({position:"relative",cursor:"default",width:O,height:a},_),onClick:I,onContextMenu:me,onDoubleClick:q,onFocus:ie,onKeyDown:oe,onMouseDown:G,onMouseEnter:J,onMouseLeave:W,onMouseMove:H,onMouseUp:se,onTouchEnd:X,onTouchMove:B,onTouchStart:be,ref:D},n)))}),IJ=["children","className","width","height","style","compact","title","desc"];function qJ(e,t){if(e==null)return{};var n,r,a=VJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gN=A.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:o,style:l,compact:c,title:f,desc:d}=e,p=qJ(e,IJ),m=tt(p,!1);return c?A.createElement(BC,{otherAttributes:m,title:f,desc:d},n):A.createElement(zJ,{className:r,style:l,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(BC,{otherAttributes:m,title:f,desc:d,ref:t},A.createElement(ZZ,null,n)))}),KJ=["width","height"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function HJ(e,t){if(e==null)return{};var n,r,a=FJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GJ={top:5,right:5,bottom:5,left:5},YJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GJ,reverseStackOrder:!1,syncMethod:"index"},WJ=A.forwardRef(function(t,n){var r,a=Dr(t.categoricalChartProps,YJ),{width:o,height:l}=a,c=HJ(a,KJ);if(!Xo(o)||!Xo(l))return null;var{chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,categoricalChartProps:v}=t,b={chartName:f,defaultTooltipEventType:d,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return A.createElement(hN,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},A.createElement(GR,{chartData:v.data}),A.createElement(pN,{width:o,height:l,layout:a.layout,margin:a.margin}),A.createElement(mN,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(gN,w0({},c,{width:o,height:l,ref:n})))}),XJ=["axis","item"],ZJ=A.forwardRef((e,t)=>A.createElement(WJ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XJ,tooltipPayloadSearcher:dR,categoricalChartProps:e,ref:t}));function QJ(e){var t=vt();return A.useEffect(()=>{t(SJ(e))},[t,e]),null}var JJ=["width","height","layout"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}function eee(e,t){if(e==null)return{};var n,r,a=tee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nee={top:5,right:5,bottom:5,left:5},ree={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},iee=A.forwardRef(function(t,n){var r,a=Dr(t.categoricalChartProps,ree),{width:o,height:l,layout:c}=a,f=eee(a,JJ);if(!Xo(o)||!Xo(l))return null;var{chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v}=t,b={chartName:d,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return A.createElement(hN,{preloadedState:{options:b},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},A.createElement(GR,{chartData:a.data}),A.createElement(pN,{width:o,height:l,layout:c,margin:a.margin}),A.createElement(mN,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(QJ,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),A.createElement(gN,_0({width:o,height:l},f,{ref:n})))}),aee=["item"],see={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},oee=A.forwardRef((e,t)=>{var n=Dr(e,see);return A.createElement(iee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:aee,tooltipPayloadSearcher:dR,categoricalChartProps:n,ref:t})});const UC=({plan:e,comparisonPlan:t})=>{const[n,r]=A.useState(null),[a,o]=A.useState(!1);if(A.useEffect(()=>{if(!e){r(null);return}(async()=>{o(!0);try{const v=await fa.getPlanWithDetails(e.id);v.success&&v.data&&r(v.data)}catch(v){console.error("Error loading metrics:",v)}finally{o(!1)}})()},[e]),!e)return w.jsx("div",{className:"metrics-panel empty",children:w.jsxs("div",{className:"empty-state",children:[w.jsx("span",{className:"empty-icon",children:"📊"}),w.jsx("h3",{children:"בחר תוכנית"}),w.jsx("p",{children:"בחר תוכנית כדי לראות את המדדים שלה"})]})});if(a)return w.jsxs("div",{className:"metrics-panel loading",children:[w.jsx("div",{className:"panel-header",children:w.jsx("h3",{children:"מדדי תוכנית"})}),w.jsxs("div",{className:"loading-content",children:[w.jsx("div",{className:"skeleton-loader"}),w.jsx("div",{className:"skeleton-loader"}),w.jsx("div",{className:"skeleton-loader"})]})]});const l=n?.metrics||{},c=n?.landUse||[],f={residential:"#4CAF50",commercial:"#2196F3",industrial:"#FF9800",mixed_use:"#9C27B0",public:"#F44336",open_space:"#8BC34A",parking:"#607D8B"},d=(m,v=1)=>m==null?"0":m.toLocaleString("he-IL",{minimumFractionDigits:v,maximumFractionDigits:v}),p=(m,v)=>{if(!v||v===0)return null;const b=(m-v)/v*100;return{direction:b>0?"up":b<0?"down":"same",percentage:Math.abs(b)}};return w.jsxs(Ho.div,{className:"metrics-panel",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[w.jsxs("div",{className:"panel-header",children:[w.jsx("h3",{children:"📊 מדדי תוכנית"}),w.jsxs("div",{className:"plan-info",children:[w.jsx("span",{className:"plan-name",children:e.plan_name}),w.jsx("span",{className:"plan-type",children:e.plan_type})]})]}),w.jsxs("div",{className:"metrics-grid",children:[w.jsx(Co,{title:"יחס שטח בנוי",value:l.floor_area_ratio||0,unit:"FAR",icon:"🏢",trend:t?p(l.floor_area_ratio,t.metrics?.floor_area_ratio):null}),w.jsx(Co,{title:"צפיפות",value:l.density||0,unit:"יח'/הקטר",icon:"🏘️",trend:t?p(l.density,t.metrics?.density):null}),w.jsx(Co,{title:"סה״כ יחידות",value:l.total_units||0,unit:"יח״ד",icon:"🏠",trend:t?p(l.total_units,t.metrics?.total_units):null}),w.jsx(Co,{title:"גובה ממוצע",value:l.avg_height||0,unit:"מ׳",icon:"📏",trend:t?p(l.avg_height,t.metrics?.avg_height):null}),w.jsx(Co,{title:"מספר בניינים",value:l.total_buildings||0,unit:"בניינים",icon:"🏗️"}),w.jsx(Co,{title:"שטח רצפה כולל",value:l.total_floor_area||0,unit:"מ״ר",icon:"📐",decimals:0})]}),c.length>0&&w.jsxs("div",{className:"land-use-section",children:[w.jsx("h4",{children:"🗺️ פילוח שימושי קרקע"}),w.jsx("div",{className:"land-use-chart",children:w.jsx(vR,{width:"100%",height:200,children:w.jsxs(oee,{children:[w.jsx(Zx,{data:c,dataKey:"percentage",nameKey:"land_use_type",cx:"50%",cy:"50%",outerRadius:70,innerRadius:30,paddingAngle:2,children:c.map((m,v)=>w.jsx(xc,{fill:f[m.land_use_type]||"#666"},`cell-${v}`))}),w.jsx(gR,{formatter:(m,v)=>[`${m.toFixed(1)}%`,Qv(v)]}),w.jsx(uc,{formatter:m=>Qv(m)})]})})}),w.jsx("div",{className:"land-use-breakdown",children:c.map((m,v)=>w.jsxs("div",{className:"land-use-item",children:[w.jsx("div",{className:"land-use-color",style:{backgroundColor:f[m.land_use_type]||"#666"}}),w.jsx("span",{className:"land-use-label",children:Qv(m.land_use_type)}),w.jsxs("span",{className:"land-use-value",children:[m.percentage.toFixed(1),"% (",d(m.area_sqm,0)," מ״ר)"]})]},v))})]}),t&&w.jsxs("div",{className:"comparison-section",children:[w.jsxs("h4",{children:["⚖️ השוואה עם ",t.plan_name]}),w.jsx("div",{className:"comparison-metrics"})]})]})},Co=({title:e,value:t,unit:n,icon:r,trend:a,decimals:o=1})=>w.jsxs(Ho.div,{className:"metric-card",whileHover:{scale:1.02,y:-2},transition:{duration:.2},children:[w.jsxs("div",{className:"metric-header",children:[w.jsx("span",{className:"metric-icon",children:r}),w.jsx("span",{className:"metric-title",children:e})]}),w.jsxs("div",{className:"metric-value",children:[w.jsx("span",{className:"value",children:t.toLocaleString("he-IL",{minimumFractionDigits:o,maximumFractionDigits:o})}),w.jsx("span",{className:"unit",children:n}),a&&a.direction!=="same"&&w.jsxs("span",{className:`trend ${a.direction}`,children:[a.direction==="up"?"↗":"↘"," ",a.percentage.toFixed(1),"%"]})]})]}),Qv=e=>({residential:"מגורים",commercial:"מסחר",industrial:"תעשייה",mixed_use:"שימוש מעורב",public:"ציבורי",open_space:"שטח פתוח",parking:"חניות"})[e]||e,lee=({projectId:e,onClose:t})=>{const{plans:n,selectedPlan:r,selectPlan:a,syncStatus:o,loading:l}=j5({projectId:e}),[c,f]=A.useState(!1),[d,p]=A.useState([]),[m,v]=A.useState(null),[b,x]=A.useState(!1),S=T=>{c?p(j=>j.includes(T.id)?j.filter(M=>M!==T.id):[...j,T.id].slice(-2)):a(T)},_=async T=>{try{const j=await fa.createPlan({...T,project_id:e});j.success&&j.data&&(a(j.data),x(!1))}catch(j){console.error("Error creating plan:",j)}},O=()=>{if(c&&d.length>0)return n.find(T=>T.id===d[0])};return w.jsxs("div",{className:"urban-dashboard",children:[w.jsxs("header",{className:"dashboard-header",children:[w.jsxs("div",{className:"header-left",children:[w.jsx("h1",{children:"🏗️ לוח בקרת תוכניות עירוניות"}),w.jsxs("div",{className:`sync-status ${o}`,children:[w.jsx("span",{className:"status-indicator"}),w.jsx("span",{className:"status-text",children:o==="connected"?"מחובר":o==="connecting"?"מתחבר...":"לא מחובר"})]})]}),w.jsxs("div",{className:"header-controls",children:[w.jsx(E5,{plans:n,selectedPlan:r,onPlanChange:S,compareMode:c,onCompareToggle:()=>f(!c),loading:l}),w.jsx("button",{className:"create-plan-btn",onClick:()=>x(!0),children:"➕ תוכנית חדשה"}),t&&w.jsx("button",{className:"close-dashboard-btn",onClick:t,children:"✕"})]})]}),w.jsxs("div",{className:"dashboard-layout",children:[w.jsxs("aside",{className:"left-panel",children:[w.jsx(UC,{plan:r,comparisonPlan:O()}),m&&w.jsxs("div",{className:"building-details-panel",children:[w.jsx("h4",{children:"פרטי בניין"}),w.jsx("button",{onClick:()=>v(null),children:"✕"})]})]}),w.jsx("main",{className:"main-content",children:l?w.jsxs("div",{className:"loading-main",children:[w.jsx("div",{className:"loading-spinner-large"}),w.jsx("p",{children:"טוען תוכניות..."})]}):n.length===0?w.jsx("div",{className:"empty-main",children:w.jsxs("div",{className:"empty-state-large",children:[w.jsx("span",{className:"empty-icon-large",children:"🏗️"}),w.jsx("h2",{children:"אין תוכניות זמינות"}),w.jsx("p",{children:"צור תוכנית חדשה כדי להתחיל"}),w.jsx("button",{className:"create-first-plan-btn",onClick:()=>x(!0),children:"צור תוכנית ראשונה"})]})}):c&&d.length>0?w.jsxs("div",{className:"comparison-view",children:[w.jsx("h3",{children:"השוואת תוכניות"}),w.jsx("div",{className:"comparison-grid",children:d.map(T=>{const j=n.find(M=>M.id===T);return j?w.jsxs("div",{className:"comparison-item",children:[w.jsx("h4",{children:j.plan_name}),w.jsx(UC,{plan:j})]},T):null})})]}):r?w.jsxs("div",{className:"plan-view",children:[w.jsxs("div",{className:"plan-header",children:[w.jsx("h2",{children:r.plan_name}),w.jsxs("div",{className:"plan-meta",children:[w.jsx("span",{className:"plan-type",children:r.plan_type}),w.jsx("span",{className:"plan-status",children:r.status})]})]}),w.jsxs("div",{className:"plan-content",children:[w.jsx("div",{className:"plan-visualization",children:w.jsxs("div",{className:"visualization-placeholder",children:[w.jsx("span",{children:"🗺️"}),w.jsx("p",{children:"תצוגת תוכנית תלת-ממדית"}),w.jsx("small",{children:"יוטמע עם מפת Cesium הקיימת"})]})}),r.description&&w.jsxs("div",{className:"plan-description",children:[w.jsx("h4",{children:"תיאור התוכנית"}),w.jsx("p",{children:r.description})]})]})]}):w.jsx("div",{className:"no-selection",children:w.jsxs("div",{className:"no-selection-state",children:[w.jsx("span",{className:"no-selection-icon",children:"👆"}),w.jsx("h3",{children:"בחר תוכנית"}),w.jsx("p",{children:"בחר תוכנית מהרשימה למעלה כדי לראות את הפרטים"})]})})}),w.jsxs("aside",{className:"right-panel",children:[w.jsxs("div",{className:"tools-panel",children:[w.jsx("h4",{children:"🛠️ כלים"}),w.jsxs("div",{className:"tool-buttons",children:[w.jsx("button",{className:"tool-btn",children:"📏 מדידות"}),w.jsx("button",{className:"tool-btn",children:"📊 דוחות"}),w.jsx("button",{className:"tool-btn",children:"💾 ייצא נתונים"}),w.jsx("button",{className:"tool-btn",children:"🔄 סנכרן"})]})]}),w.jsxs("div",{className:"recent-activity",children:[w.jsx("h4",{children:"📋 פעילות אחרונה"}),w.jsxs("div",{className:"activity-list",children:[w.jsxs("div",{className:"activity-item",children:[w.jsx("span",{className:"activity-time",children:"לפני 5 דקות"}),w.jsx("span",{className:"activity-text",children:"תוכנית עודכנה"})]}),w.jsxs("div",{className:"activity-item",children:[w.jsx("span",{className:"activity-time",children:"לפני שעה"}),w.jsx("span",{className:"activity-text",children:"מדדים חושבו מחדש"})]})]})]})]})]}),w.jsx(tM,{children:b&&w.jsx(uee,{onClose:()=>x(!1),onCreate:_})})]})},uee=({onClose:e,onCreate:t})=>{const[n,r]=A.useState({plan_name:"",plan_type:"alternative",description:""}),a=o=>{o.preventDefault(),n.plan_name.trim()&&t(n)};return w.jsx(Ho.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:w.jsxs(Ho.div,{className:"modal-content",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h3",{children:"צור תוכנית חדשה"}),w.jsx("button",{onClick:e,children:"✕"})]}),w.jsxs("form",{onSubmit:a,className:"create-plan-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"שם התוכנית"}),w.jsx("input",{type:"text",value:n.plan_name,onChange:o=>r(l=>({...l,plan_name:o.target.value})),placeholder:"הכנס שם לתוכנית...",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"סוג תוכנית"}),w.jsxs("select",{value:n.plan_type,onChange:o=>r(l=>({...l,plan_type:o.target.value})),children:[w.jsx("option",{value:"baseline",children:"תוכנית בסיס"}),w.jsx("option",{value:"alternative",children:"תוכנית חלופית"}),w.jsx("option",{value:"proposed",children:"תוכנית מוצעת"}),w.jsx("option",{value:"approved",children:"תוכנית מאושרת"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"תיאור (אופציונלי)"}),w.jsx("textarea",{value:n.description,onChange:o=>r(l=>({...l,description:o.target.value})),placeholder:"תאר את התוכנית...",rows:3})]}),w.jsxs("div",{className:"form-actions",children:[w.jsx("button",{type:"submit",className:"create-btn",children:"צור תוכנית"}),w.jsx("button",{type:"button",onClick:e,className:"cancel-btn",children:"ביטול"})]})]})]})})},cee=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(null),[a,o]=A.useState([]),[l,c]=A.useState([]),[f,d]=A.useState(!0),[p,m]=A.useState(null);A.useEffect(()=>{(async()=>{try{let{data:O,error:T}=await we.from("projects").select("*").limit(1);if(T)throw T;let j;if(!O||O.length===0){const{data:k,error:R}=await we.from("projects").insert({name:"La Guardia Tel Aviv",description:"Urban development project in Tel Aviv",city:"Tel Aviv"}).select().single();if(R)throw R;j=k.id}else j=O[0].id;m(j);const{data:M,error:P}=await we.from("building_plans").select("*").eq("project_id",j);if(P)throw P;(!M||M.length===0)&&await v(j),await S(j)}catch(O){console.error("Error initializing data:",O)}finally{d(!1)}})()},[]);const v=async _=>{try{const O=[{project_id:_,plan_name:"תוכנית בסיס - La Guardia",plan_type:"baseline",status:"approved",description:"תוכנית הבסיס המקורית עם 4 בניינים בגובה 8 קומות",version:1},{project_id:_,plan_name:"תוכנית חלופית A - גובה מוגבר",plan_type:"alternative",status:"review",description:"תוכנית חלופית עם 3 בניינים בגובה 12 קומות",version:1},{project_id:_,plan_name:"תוכנית חלופית B - צפיפות נמוכה",plan_type:"alternative",status:"draft",description:"תוכנית עם 6 בניינים בגובה 6 קומות ושטחים ירוקים מוגדלים",version:1},{project_id:_,plan_name:"תוכנית מוצעת - היברידית",plan_type:"proposed",status:"review",description:"שילוב של התוכניות החלופיות עם איזון בין גובה וצפיפות",version:1}],{data:T,error:j}=await we.from("building_plans").upsert(O,{onConflict:"project_id,plan_name,version"}).select();if(j)throw j;for(const M of T)await b(M.id,M.plan_type),await x(M.id,M.plan_type);console.log("✅ Sample plans created successfully!")}catch(O){console.error("Error creating sample plans:",O)}},b=async(_,O)=>{const T={baseline:[{metric_type:"far",metric_value:2.1,unit:"ratio"},{metric_type:"density",metric_value:85,unit:"units/hectare"},{metric_type:"units_total",metric_value:320,unit:"units"},{metric_type:"height_avg",metric_value:28,unit:"meters"},{metric_type:"coverage",metric_value:35,unit:"percentage"},{metric_type:"parking_ratio",metric_value:1.2,unit:"spaces/unit"}],alternative:O==="alternative"?[{metric_type:"far",metric_value:2.8,unit:"ratio"},{metric_type:"density",metric_value:110,unit:"units/hectare"},{metric_type:"units_total",metric_value:415,unit:"units"},{metric_type:"height_avg",metric_value:42,unit:"meters"},{metric_type:"coverage",metric_value:28,unit:"percentage"},{metric_type:"parking_ratio",metric_value:1,unit:"spaces/unit"}]:[{metric_type:"far",metric_value:1.8,unit:"ratio"},{metric_type:"density",metric_value:65,unit:"units/hectare"},{metric_type:"units_total",metric_value:245,unit:"units"},{metric_type:"height_avg",metric_value:21,unit:"meters"},{metric_type:"coverage",metric_value:25,unit:"percentage"},{metric_type:"parking_ratio",metric_value:1.5,unit:"spaces/unit"}],proposed:[{metric_type:"far",metric_value:2.4,unit:"ratio"},{metric_type:"density",metric_value:95,unit:"units/hectare"},{metric_type:"units_total",metric_value:360,unit:"units"},{metric_type:"height_avg",metric_value:35,unit:"meters"},{metric_type:"coverage",metric_value:30,unit:"percentage"},{metric_type:"parking_ratio",metric_value:1.1,unit:"spaces/unit"}]},M=(T[O]||T.baseline).map(k=>({plan_id:_,...k})),{error:P}=await we.from("plan_metrics").insert(M);if(P)throw P},x=async(_,O)=>{const T={baseline:[{land_use_type:"residential",area_sqm:12e3,percentage:60,color_hex:"#4CAF50"},{land_use_type:"commercial",area_sqm:3e3,percentage:15,color_hex:"#2196F3"},{land_use_type:"public",area_sqm:2e3,percentage:10,color_hex:"#F44336"},{land_use_type:"open_space",area_sqm:2500,percentage:12.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}],alternative:O==="alternative"?[{land_use_type:"residential",area_sqm:14e3,percentage:70,color_hex:"#4CAF50"},{land_use_type:"commercial",area_sqm:2500,percentage:12.5,color_hex:"#2196F3"},{land_use_type:"public",area_sqm:1500,percentage:7.5,color_hex:"#F44336"},{land_use_type:"open_space",area_sqm:1500,percentage:7.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}]:[{land_use_type:"residential",area_sqm:1e4,percentage:50,color_hex:"#4CAF50"},{land_use_type:"commercial",area_sqm:2e3,percentage:10,color_hex:"#2196F3"},{land_use_type:"public",area_sqm:2e3,percentage:10,color_hex:"#F44336"},{land_use_type:"open_space",area_sqm:5e3,percentage:25,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:1e3,percentage:5,color_hex:"#607D8B"}],proposed:[{land_use_type:"residential",area_sqm:13e3,percentage:65,color_hex:"#4CAF50"},{land_use_type:"commercial",area_sqm:2800,percentage:14,color_hex:"#2196F3"},{land_use_type:"public",area_sqm:1800,percentage:9,color_hex:"#F44336"},{land_use_type:"open_space",area_sqm:2e3,percentage:10,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:400,percentage:2,color_hex:"#607D8B"}]},M=(T[O]||T.baseline).map(k=>({plan_id:_,...k})),{error:P}=await we.from("plan_land_use").insert(M);if(P)throw P},S=async _=>{try{const{data:O,error:T}=await we.from("building_plans").select("*").eq("project_id",_).order("created_date",{ascending:!1});if(T)throw T;t(O||[]),O&&O.length>0&&r(O[0])}catch(O){console.error("Error fetching plans:",O)}};return A.useEffect(()=>{if(!n)return;(async()=>{try{const{data:O,error:T}=await we.from("plan_metrics").select("*").eq("plan_id",n.id);if(T)throw T;o(O||[]);const{data:j,error:M}=await we.from("plan_land_use").select("*").eq("plan_id",n.id);if(M)throw M;c(j||[])}catch(O){console.error("Error fetching plan details:",O)}})()},[n]),f?w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#666"},children:"🏗️ יוצר נתוני דוגמה..."}):w.jsxs("div",{style:{fontFamily:"Arial, sans-serif",padding:"20px",direction:"rtl"},children:[w.jsx("h1",{children:"🏗️ La Guardia Tel Aviv - בדיקת תוכניות בנייה"}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsxs("h2",{children:["📋 תוכניות זמינות (",e.length,")"]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:e.map(_=>w.jsxs("div",{onClick:()=>r(_),style:{border:n?.id===_.id?"3px solid #3b82f6":"1px solid #ddd",borderRadius:"8px",padding:"15px",cursor:"pointer",backgroundColor:n?.id===_.id?"#f0f9ff":"white",transition:"all 0.2s ease"},children:[w.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:_.plan_name}),w.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"8px"},children:[w.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:_.plan_type==="baseline"?"#10b981":_.plan_type==="proposed"?"#8b5cf6":"#3b82f6",color:"white"},children:_.plan_type}),w.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:_.status==="approved"?"#10b981":_.status==="review"?"#f59e0b":"#6b7280",color:"white"},children:_.status})]}),w.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:_.description}),w.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"#999"},children:["נוצר: ",new Date(_.created_date).toLocaleDateString("he-IL")]})]},_.id))})]}),n&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsxs("h2",{children:["📊 מדדי תוכנית: ",n.plan_name]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:a.map(_=>w.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",textAlign:"center",border:"1px solid #e9ecef"},children:[w.jsx("h4",{style:{margin:"0 0 10px 0",textTransform:"capitalize",color:"#495057"},children:$C(_.metric_type)}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#212529"},children:typeof _.metric_value=="number"?_.metric_value.toFixed(1):_.metric_value}),w.jsx("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"},children:_.unit})]},_.metric_type))})]}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"🏘️ פילוח שימושי קרקע"}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:l.map(_=>w.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"8px",border:`3px solid ${_.color_hex}`,position:"relative"},children:[w.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",width:"20px",height:"20px",backgroundColor:_.color_hex,borderRadius:"50%"}}),w.jsx("h4",{style:{margin:"0 0 10px 0",textTransform:"capitalize",color:"#333"},children:fee(_.land_use_type)}),w.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:_.color_hex},children:[_.percentage.toFixed(1),"%"]}),w.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:[_.area_sqm.toLocaleString()," מ״ר"]})]},_.land_use_type))})]}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"⚡ השוואה מהירה"}),w.jsx("div",{style:{overflowX:"auto"},children:w.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:"8px",overflow:"hidden"},children:[w.jsx("thead",{children:w.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[w.jsx("th",{style:{padding:"12px",textAlign:"right",borderBottom:"2px solid #dee2e6"},children:"מדד"}),e.map(_=>w.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #dee2e6",backgroundColor:n?.id===_.id?"#e3f2fd":"#f8f9fa"},children:_.plan_name},_.id))]})}),w.jsx("tbody",{children:["far","density","units_total","height_avg"].map(_=>w.jsxs("tr",{children:[w.jsx("td",{style:{padding:"12px",fontWeight:"bold",borderBottom:"1px solid #dee2e6"},children:$C(_)}),e.map(O=>w.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6",backgroundColor:n?.id===O.id?"#f0f9ff":"white"},children:n?.id===O.id?a.find(T=>T.metric_type===_)?.metric_value?.toFixed(1)||"N/A":"..."},O.id))]},_))})]})})]})]}),w.jsxs("div",{style:{backgroundColor:"#f1f3f4",padding:"15px",borderRadius:"8px",marginTop:"30px",fontSize:"12px",color:"#666"},children:[w.jsx("h3",{children:"🔧 מידע דיבוג"}),w.jsxs("p",{children:["סה״כ תוכניות: ",e.length]}),w.jsxs("p",{children:["תוכנית נבחרת: ",n?.plan_name||"אין"]}),w.jsxs("p",{children:["מדדים נטענו: ",a.length]}),w.jsxs("p",{children:["סוגי שימושי קרקע: ",l.length]}),w.jsxs("p",{children:["מזהה פרויקט: ",p]})]})]})},$C=e=>({far:"יחס שטח בנוי",density:"צפיפות",units_total:"סה״כ יחידות",height_avg:"גובה ממוצע",coverage:"אחוז כיסוי",parking_ratio:"יחס חניות"})[e]||e,fee=e=>({residential:"מגורים",commercial:"מסחר",public:"ציבורי",open_space:"שטח פתוח",parking:"חניות",industrial:"תעשייה",mixed_use:"שימוש מעורב"})[e]||e;/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),zC=e=>{const t=hee(e);return t.charAt(0).toUpperCase()+t.slice(1)},vN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),pee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},f)=>A.createElement("svg",{ref:f,...mee,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vN("lucide",a),...!o&&!pee(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>A.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=(e,t)=>{const n=A.forwardRef(({className:r,...a},o)=>A.createElement(gee,{ref:o,iconNode:t,className:vN(`lucide-${dee(zC(e))}`,`lucide-${e}`,r),...a}));return n.displayName=zC(e),n};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yee=ow("dollar-sign",vee);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],xee=ow("trending-down",bee);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_ee=ow("trending-up",wee),See=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(null),[a,o]=A.useState([]),[l,c]=A.useState([]),[f,d]=A.useState([]),[p,m]=A.useState(!0),[v,b]=A.useState(null);A.useEffect(()=>{(async()=>{try{let{data:I,error:J}=await we.from("projects").select("*").eq("name","הקצאת ציבור תל אביב").limit(1);if(J)throw J;let W;if(!I||I.length===0){const{data:oe,error:me}=await we.from("projects").insert({name:"הקצאת ציבור תל אביב",description:"פרויקט הקצאת שטחים למבני ציבור במרכז תל אביב",city:"Tel Aviv"}).select().single();if(me)throw me;W=oe.id}else W=I[0].id;b(W);const{data:H,error:ie}=await we.from("building_plans").select("*").eq("project_id",W);if(ie)throw ie;(!H||H.length===0)&&await x(W),await T(W)}catch(I){console.error("Error initializing data:",I)}finally{m(!1)}})()},[]);const x=async D=>{try{const I=[{project_id:D,plan_name:"תוכנית A - הקצאה מינימלית",plan_type:"baseline",status:"approved",description:"הקצאה של 40% לשטחי ציבור. מתאימה לפיתוח מהיר עם השקעה נמוכה. דגש על יעילות כלכלית ומקסום הכנסות עירוניות. כוללת: בית עירייה, מרכז בריאות, בית ספר יסודי.",version:1},{project_id:D,plan_name:"תוכנית B - הקצאה מורחבת",plan_type:"alternative",status:"review",description:"הקצאה של 50% לשטחי ציבור. מתמקדת בשירותי קהילה מתקדמים ואיכות חיים גבוהה. כוללת: מרכז תרבות, ספרייה, מתחם ספורט, גן ילדים, מרכז קשישים. השקעה גבוהה יותר אך תמורה חברתית משמעותית.",version:1},{project_id:D,plan_name:"תוכנית C - איזון כלכלי-חברתי",plan_type:"alternative",status:"draft",description:"הקצאה של 45% לשטחי ציבור. פתרון מאוזן המשלב יעילות כלכלית עם מענה לצרכי הקהילה. כוללת שילוב של מבני ציבור ומסחר בקומות התחתונות. ROI חיובי תוך 7 שנים.",version:1},{project_id:D,plan_name:"תוכנית D - חדשנות וקיימות",plan_type:"proposed",status:"review",description:"הקצאה של 42.5% לשטחי ציבור עם טכנולוגיות חכמות. מבני ציבור ירוקים, מערכות אנרגיה מתחדשת, חניות חכמות. השקעה בטכנולוגיה לחיסכון ארוך טווח. פתרון עתידני ובר-קיימא.",version:1}],{data:J,error:W}=await we.from("building_plans").insert(I).select();if(W)throw W;for(const H of J)await S(H.id,H.plan_type),await _(H.id,H.plan_type),await O(H.plan_name,H.plan_type);console.log("✅ Sample public allocation plans created successfully!")}catch(I){console.error("Error creating sample plans:",I)}},S=async(D,I)=>{const J={baseline:[{metric_type:"far",metric_value:1.8,unit:"ratio"},{metric_type:"employment",metric_value:2500,unit:"jobs"},{metric_type:"units_total",metric_value:180,unit:"units"},{metric_type:"height_avg",metric_value:25,unit:"meters"},{metric_type:"coverage",metric_value:40,unit:"percentage"},{metric_type:"public_services",metric_value:35,unit:"percentage"}],alternative:I==="alternative"?[{metric_type:"far",metric_value:2.2,unit:"ratio"},{metric_type:"employment",metric_value:3200,unit:"jobs"},{metric_type:"units_total",metric_value:220,unit:"units"},{metric_type:"height_avg",metric_value:32,unit:"meters"},{metric_type:"coverage",metric_value:35,unit:"percentage"},{metric_type:"public_services",metric_value:45,unit:"percentage"}]:[{metric_type:"far",metric_value:2,unit:"ratio"},{metric_type:"employment",metric_value:2800,unit:"jobs"},{metric_type:"units_total",metric_value:200,unit:"units"},{metric_type:"height_avg",metric_value:28,unit:"meters"},{metric_type:"coverage",metric_value:38,unit:"percentage"},{metric_type:"public_services",metric_value:40,unit:"percentage"}],proposed:[{metric_type:"far",metric_value:2.1,unit:"ratio"},{metric_type:"employment",metric_value:2900,unit:"jobs"},{metric_type:"units_total",metric_value:210,unit:"units"},{metric_type:"height_avg",metric_value:30,unit:"meters"},{metric_type:"coverage",metric_value:37,unit:"percentage"},{metric_type:"public_services",metric_value:42,unit:"percentage"}]},H=(J[I]||J.baseline).map(oe=>({plan_id:D,...oe})),{error:ie}=await we.from("plan_metrics").insert(H);if(ie)throw ie},_=async(D,I)=>{const J={baseline:[{land_use_type:"public",area_sqm:8e3,percentage:40,color_hex:"#F44336"},{land_use_type:"commercial",area_sqm:6e3,percentage:30,color_hex:"#2196F3"},{land_use_type:"residential",area_sqm:4e3,percentage:20,color_hex:"#4CAF50"},{land_use_type:"open_space",area_sqm:1500,percentage:7.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}],alternative:I==="alternative"?[{land_use_type:"public",area_sqm:1e4,percentage:50,color_hex:"#F44336"},{land_use_type:"commercial",area_sqm:5e3,percentage:25,color_hex:"#2196F3"},{land_use_type:"residential",area_sqm:3e3,percentage:15,color_hex:"#4CAF50"},{land_use_type:"open_space",area_sqm:1500,percentage:7.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}]:[{land_use_type:"public",area_sqm:9e3,percentage:45,color_hex:"#F44336"},{land_use_type:"commercial",area_sqm:5500,percentage:27.5,color_hex:"#2196F3"},{land_use_type:"residential",area_sqm:3500,percentage:17.5,color_hex:"#4CAF50"},{land_use_type:"open_space",area_sqm:1500,percentage:7.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}],proposed:[{land_use_type:"public",area_sqm:8500,percentage:42.5,color_hex:"#F44336"},{land_use_type:"commercial",area_sqm:5800,percentage:29,color_hex:"#2196F3"},{land_use_type:"residential",area_sqm:3700,percentage:18.5,color_hex:"#4CAF50"},{land_use_type:"open_space",area_sqm:1500,percentage:7.5,color_hex:"#8BC34A"},{land_use_type:"parking",area_sqm:500,percentage:2.5,color_hex:"#607D8B"}]},H=(J[I]||J.baseline).map(oe=>({plan_id:D,...oe})),{error:ie}=await we.from("plan_land_use").insert(H);if(ie)throw ie},O=async(D,I)=>{const J=[],W={baseline:[{name:"ארנונה ממבני ציבור",base:8e6,type:"הכנסה"},{name:"שכירות משרדי עירייה",base:12e6,type:"הכנסה"},{name:"חניות ציבוריות",base:25e5,type:"הכנסה"},{name:"אחזקת מבנים",base:-3e6,type:"הוצאה"},{name:"שירותי ניקיון",base:-15e5,type:"הוצאה"},{name:"אבטחה ושמירה",base:-2e6,type:"הוצאה"}],alternative:[{name:"ארנונה ממבני ציבור",base:1e7,type:"הכנסה"},{name:"שכירות משרדי עירייה",base:15e6,type:"הכנסה"},{name:"חניות ציבוריות",base:3e6,type:"הכנסה"},{name:"אחזקת מבנים",base:-4e6,type:"הוצאה"},{name:"שירותי ניקיון",base:-2e6,type:"הוצאה"},{name:"אבטחה ושמירה",base:-25e5,type:"הוצאה"}],proposed:[{name:"ארנונה ממבני ציבור",base:9e6,type:"הכנסה"},{name:"שכירות משרדי עירייה",base:135e5,type:"הכנסה"},{name:"חניות ציבוריות",base:28e5,type:"הכנסה"},{name:"אחזקת מבנים",base:-35e5,type:"הוצאה"},{name:"שירותי ניקיון",base:-18e5,type:"הוצאה"},{name:"אבטחה ושמירה",base:-22e5,type:"הוצאה"}]},H=W[I]||W.baseline;for(let oe=2024;oe<=2033;oe++)H.forEach(me=>{const q=me.type==="הכנסה"?1.03:1.02,G=Math.pow(q,oe-2024);J.push({plan_name:D,building_name:"מרכז ציבורי",revenue_source:me.name,annual_revenue:Math.round(me.base*G),projection_year:oe,revenue_type:me.type==="הכנסה"?"income":"expense",revenue_direction:me.type})});const{error:ie}=await we.from("revenue_summary_10_year").insert(J);ie&&console.warn("Could not insert revenue data:",ie)},T=async D=>{try{const{data:I,error:J}=await we.from("building_plans").select("*").eq("project_id",D).order("created_date",{ascending:!1});if(J)throw J;t(I||[]),I&&I.length>0&&r(I[0])}catch(I){console.error("Error fetching plans:",I)}};A.useEffect(()=>{if(!n)return;(async()=>{try{const{data:I,error:J}=await we.from("plan_metrics").select("*").eq("plan_id",n.id);if(J)throw J;o(I||[]);const{data:W,error:H}=await we.from("plan_land_use").select("*").eq("plan_id",n.id);if(H)throw H;c(W||[]);try{const{data:ie,error:oe}=await we.from("revenue_summary_10_year").select("*").eq("plan_name",n.plan_name).order("projection_year");oe||d(ie||[])}catch(ie){console.warn("Revenue data not available:",ie),d([])}}catch(I){console.error("Error fetching plan details:",I)}})()},[n]);const j=()=>{if(!f.length)return{yearlyData:[],totalRevenue:0,totalExpenses:0};const D=f.reduce((H,ie)=>{const oe=ie.projection_year;return H[oe]||(H[oe]={year:oe,income:0,expenses:0,net:0}),ie.annual_revenue>0?H[oe].income+=ie.annual_revenue:H[oe].expenses+=Math.abs(ie.annual_revenue),H[oe].net=H[oe].income-H[oe].expenses,H},{}),I=Object.values(D).sort((H,ie)=>H.year-ie.year),J=f.filter(H=>H.annual_revenue>0).reduce((H,ie)=>H+ie.annual_revenue,0),W=f.filter(H=>H.annual_revenue<0).reduce((H,ie)=>H+Math.abs(ie.annual_revenue),0);return{yearlyData:I,totalRevenue:J,totalExpenses:W}},{yearlyData:M,totalRevenue:P,totalExpenses:k}=j(),R=D=>new Intl.NumberFormat("he-IL",{style:"currency",currency:"ILS",minimumFractionDigits:0,maximumFractionDigits:0}).format(D);return p?w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#666"},children:"🏛️ יוצר נתוני הקצאת ציבור..."}):w.jsxs("div",{style:{fontFamily:"Arial, sans-serif",padding:"20px",direction:"rtl"},children:[w.jsx("h1",{children:"🏛️ הקצאת שטחים למבני ציבור - תל אביב"}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsxs("h2",{children:["📋 תוכניות זמינות (",e.length,")"]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:e.map(D=>w.jsxs("div",{onClick:()=>r(D),style:{border:n?.id===D.id?"3px solid #F44336":"1px solid #ddd",borderRadius:"8px",padding:"20px",cursor:"pointer",backgroundColor:n?.id===D.id?"#ffebee":"white",transition:"all 0.2s ease",boxShadow:n?.id===D.id?"0 4px 12px rgba(244, 67, 54, 0.2)":"0 2px 8px rgba(0,0,0,0.1)",transform:n?.id===D.id?"translateY(-2px)":"none"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[w.jsx("h3",{style:{margin:"0",color:"#333",fontSize:"18px",fontWeight:"bold"},children:D.plan_name}),n?.id===D.id&&w.jsx("span",{style:{backgroundColor:"#4CAF50",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"נבחר ✓"})]}),w.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap"},children:[w.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:D.plan_type==="baseline"?"#4CAF50":D.plan_type==="proposed"?"#9C27B0":"#F44336",color:"white"},children:D.plan_type==="baseline"?"בסיסית":D.plan_type==="proposed"?"מוצעת":"חלופית"}),w.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:D.status==="approved"?"#4CAF50":D.status==="review"?"#FF9800":"#9E9E9E",color:"white"},children:D.status==="approved"?"מאושרת":D.status==="review"?"בבדיקה":"טיוטה"}),w.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#2196F3",color:"white"},children:D.plan_name.includes("A")?"40% ציבור":D.plan_name.includes("B")?"50% ציבור":D.plan_name.includes("C")?"45% ציבור":"42.5% ציבור"})]}),w.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#555",lineHeight:"1.5",textAlign:"justify"},children:D.description}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid #eee"},children:[w.jsxs("span",{style:{fontSize:"12px",color:"#999"},children:["נוצר: ",new Date(D.created_date).toLocaleDateString("he-IL")]}),w.jsx("span",{style:{fontSize:"12px",color:n?.id===D.id?"#F44336":"#666",fontWeight:n?.id===D.id?"bold":"normal"},children:n?.id===D.id?"לחץ לפרטים מלאים ↓":"לחץ לבחירה"})]})]},D.id))}),w.jsxs("div",{style:{marginTop:"20px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("h4",{style:{margin:"0 0 8px 0",color:"#4CAF50"},children:"תוכנית A"}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"40%"}),w.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"שטח ציבורי"}),w.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"יעילות כלכלית גבוהה"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("h4",{style:{margin:"0 0 8px 0",color:"#F44336"},children:"תוכנית B"}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"50%"}),w.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"שטח ציבורי"}),w.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"שירותי קהילה מתקדמים"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("h4",{style:{margin:"0 0 8px 0",color:"#F44336"},children:"תוכנית C"}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"45%"}),w.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"שטח ציבורי"}),w.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"איזון כלכלי-חברתי"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("h4",{style:{margin:"0 0 8px 0",color:"#9C27B0"},children:"תוכנית D"}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"42.5%"}),w.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"שטח ציבורי"}),w.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"חדשנות וקיימות"})]})]})]}),w.jsxs("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#e3f2fd",borderRadius:"8px",border:"2px solid #2196F3"},children:[w.jsx("h3",{style:{margin:"0 0 15px 0",color:"#1565C0",textAlign:"center"},children:"🤔 איך לבחור את התוכנית המתאימה?"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"💰"}),w.jsx("strong",{children:"תקציב מוגבל?"}),w.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:"בחר תוכנית A - השקעה נמוכה, תמורה מהירה"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"👥"}),w.jsx("strong",{children:"דגש על קהילה?"}),w.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:"בחר תוכנית B - שירותי קהילה מתקדמים"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"⚖️"}),w.jsx("strong",{children:"איזון מושלם?"}),w.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:"בחר תוכנית C - איזון כלכלי-חברתי"})]}),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"🌱"}),w.jsx("strong",{children:"חשיבה עתידנית?"}),w.jsx("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:"בחר תוכנית D - טכנולוגיה וקיימות"})]})]})]}),n?w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:{marginBottom:"30px",padding:"25px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white",textAlign:"center"},children:[w.jsxs("h2",{style:{margin:"0 0 10px 0",fontSize:"28px"},children:["📊 ניתוח מפורט: ",n.plan_name]}),w.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:n.description.split(".")[0]})]}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsxs("h2",{children:["📊 מדדי תוכנית: ",n.plan_name]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:a.map(D=>w.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",textAlign:"center",border:"1px solid #e9ecef"},children:[w.jsx("h4",{style:{margin:"0 0 10px 0",textTransform:"capitalize",color:"#495057"},children:IC(D.metric_type)}),w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#212529"},children:typeof D.metric_value=="number"?D.metric_value.toFixed(1):D.metric_value}),w.jsx("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"},children:D.unit})]},D.metric_type))})]}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"🏘️ פילוח שימושי קרקע"}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:l.map(D=>w.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"8px",border:`3px solid ${D.color_hex}`,position:"relative"},children:[w.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",width:"20px",height:"20px",backgroundColor:D.color_hex,borderRadius:"50%"}}),w.jsx("h4",{style:{margin:"0 0 10px 0",textTransform:"capitalize",color:"#333"},children:Aee(D.land_use_type)}),w.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:D.color_hex},children:[D.percentage.toFixed(1),"%"]}),w.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"5px"},children:[D.area_sqm.toLocaleString()," מ״ר"]})]},D.land_use_type))})]}),M.length>0&&w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"💰 תחזית הכנסות והוצאות - 10 שנים"}),w.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:w.jsx(vR,{width:"100%",height:400,children:w.jsxs(ZJ,{data:M,children:[w.jsx(QR,{strokeDasharray:"3 3"}),w.jsx(nw,{dataKey:"year"}),w.jsx(rw,{tickFormatter:D=>`${(D/1e6).toFixed(1)}M`}),w.jsx(gR,{formatter:D=>[R(D),""]}),w.jsx(uc,{}),w.jsx(Ru,{dataKey:"income",fill:"#4CAF50",name:"הכנסות"}),w.jsx(Ru,{dataKey:"expenses",fill:"#F44336",name:"הוצאות"}),w.jsx(Ru,{dataKey:"net",fill:"#2196F3",name:"נטו"})]})})})]}),f.length>0&&w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"💼 סיכום כלכלי"}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[w.jsxs("div",{style:{backgroundColor:"#e8f5e8",padding:"20px",borderRadius:"8px",textAlign:"center",border:"2px solid #4CAF50"},children:[w.jsx(_ee,{size:32,color:"#4CAF50",style:{marginBottom:"10px"}}),w.jsx("h4",{style:{margin:"0",color:"#2E7D32"},children:"סה״כ הכנסות"}),w.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#1B5E20"},children:R(P)})]}),w.jsxs("div",{style:{backgroundColor:"#ffebee",padding:"20px",borderRadius:"8px",textAlign:"center",border:"2px solid #F44336"},children:[w.jsx(xee,{size:32,color:"#F44336",style:{marginBottom:"10px"}}),w.jsx("h4",{style:{margin:"0",color:"#C62828"},children:"סה״כ הוצאות"}),w.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#B71C1C"},children:R(k)})]}),w.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"20px",borderRadius:"8px",textAlign:"center",border:"2px solid #2196F3"},children:[w.jsx(yee,{size:32,color:"#2196F3",style:{marginBottom:"10px"}}),w.jsx("h4",{style:{margin:"0",color:"#1565C0"},children:"רווח נטו"}),w.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:P-k>0?"#1B5E20":"#B71C1C"},children:R(P-k)}),n.plan_type==="proposed"&&w.jsx("button",{onClick:()=>{if(window.parent&&window.parent!==window)window.parent.postMessage({action:"returnToMap",planArea:"tel-aviv-center"},"*");else{const D=document.querySelector(".close-dashboard-btn");D&&D.click(),setTimeout(()=>{const I=new CustomEvent("focusMapArea",{detail:{longitude:34.7818,latitude:32.0853,zoom:16,planName:n.plan_name}});window.dispatchEvent(I)},100)}},style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(76, 175, 80, 0.2)"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor="#45a049",D.currentTarget.style.transform="translateY(-1px)",D.currentTarget.style.boxShadow="0 4px 8px rgba(76, 175, 80, 0.3)"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="#4CAF50",D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 4px rgba(76, 175, 80, 0.2)"},title:"חזור למפה באיזור התוכנית",children:"🗺️ חזור למפה"})]})]})]}),w.jsxs("div",{style:{marginBottom:"30px"},children:[w.jsx("h2",{children:"⚡ השוואה מהירה"}),w.jsx("div",{style:{overflowX:"auto"},children:w.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:"8px",overflow:"hidden"},children:[w.jsx("thead",{children:w.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[w.jsx("th",{style:{padding:"12px",textAlign:"right",borderBottom:"2px solid #dee2e6"},children:"מדד"}),e.map(D=>w.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #dee2e6",backgroundColor:n?.id===D.id?"#ffebee":"#f8f9fa"},children:D.plan_name},D.id))]})}),w.jsx("tbody",{children:["far","employment","units_total","public_services"].map(D=>w.jsxs("tr",{children:[w.jsx("td",{style:{padding:"12px",fontWeight:"bold",borderBottom:"1px solid #dee2e6"},children:IC(D)}),e.map(I=>w.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6",backgroundColor:n?.id===I.id?"#ffebee":"white"},children:n?.id===I.id?a.find(J=>J.metric_type===D)?.metric_value?.toFixed(1)||"N/A":"..."},I.id))]},D))})]})})]})]}):null,w.jsxs("div",{style:{backgroundColor:"#f1f3f4",padding:"15px",borderRadius:"8px",marginTop:"30px",fontSize:"12px",color:"#666"},children:[w.jsx("h3",{children:"🔧 מידע דיבוג"}),w.jsxs("p",{children:["סה״כ תוכניות: ",e.length]}),w.jsxs("p",{children:["תוכנית נבחרת: ",n?.plan_name||"אין"]}),w.jsxs("p",{children:["מדדים נטענו: ",a.length]}),w.jsxs("p",{children:["סוגי שימושי קרקע: ",l.length]}),w.jsxs("p",{children:["תחזיות הכנסות: ",f.length]}),w.jsxs("p",{children:["מזהה פרויקט: ",v]})]})]})},IC=e=>({far:"יחס שטח בנוי",employment:"תעסוקה",units_total:"סה״כ יחידות",height_avg:"גובה ממוצע",coverage:"אחוז כיסוי",public_services:"שירותי ציבור"})[e]||e,Aee=e=>({residential:"מגורים",commercial:"מסחר",public:"ציבורי",open_space:"שטח פתוח",parking:"חניות",industrial:"תעשייה",mixed_use:"שימוש מעורב"})[e]||e;function Oee(){const[e,t]=A.useState(!1),[n,r]=A.useState([]),[a,o]=A.useState(null),[l,c]=A.useState(null),[f,d]=A.useState("Click 'Start Drawing' to create a building footprint."),[p,m]=A.useState(!1),[v,b]=A.useState(""),[x,S]=A.useState("osm"),[_,O]=A.useState(!0),[T,j]=A.useState(!1),[M,P]=A.useState(null),[k,R]=A.useState({x:0,y:0}),D=A.useRef(null),[I,J]=A.useState([]),[W,H]=A.useState(!1),[ie,oe]=A.useState(null),[me,q]=A.useState([]),[G,se]=A.useState(!0),[be,B]=A.useState(!0),[X,Q]=A.useState(!0),[re,pe]=A.useState(!0),[_e,Oe]=A.useState({objectPlacer:!1,layerSwitcher:!1,plansDashboard:!1,publicAllocation:!1}),[Ft,Ge]=A.useState(!1),[ue,Me]=A.useState(null),[Re,ne]=A.useState(!1),[Tt,Ie]=A.useState(!1),nn=(te,ce)=>{switch(Oe(le=>({...le,[te]:ce})),te){case"objectPlacer":B(ce);break;case"layerSwitcher":Q(ce);break;case"plansDashboard":Ge(ce);break;case"publicAllocation":Ie(ce);break}};A.useEffect(()=>{Ps(),rn()},[]),A.useEffect(()=>{(async()=>{try{const{planService:ce}=await mi(async()=>{const{planService:xe}=await Promise.resolve().then(()=>T5);return{planService:xe}},void 0),le=await ce.getProjects();if(le.success&&le.data&&le.data.length>0)Me(le.data[0].id);else{const xe=await ce.createProject({name:"Default Project",description:"Default urban planning project",city:"Tel Aviv"});xe.success&&xe.data?Me(xe.data.id):console.error("Failed to create default project:",xe.error)}}catch(ce){console.error("Error initializing project:",ce)}})()},[]);const rn=async()=>{try{const{objectsService:te}=await mi(async()=>{const{objectsService:le}=await Promise.resolve().then(()=>rg);return{objectsService:le}},void 0),ce=await te.getPlacedObjects();ce.success&&ce.data&&(console.log("טוען אובייקטים ממוקמים:",ce.data.length),q(ce.data),xt(ce.data))}catch(te){console.error("שגיאה בטעינת אובייקטים:",te)}},xt=te=>{if(!D.current||!D.current.viewer)return;const ce=D.current.viewer;te.forEach(le=>{if(le.position&&le.object_models){let xe=function(){const ae=window.Cesium.Cartesian3.fromDegrees(le.position.longitude,le.position.latitude,le.position.height||0);ce.entities.add({id:`placed-object-${le.id}`,position:ae,box:{dimensions:new window.Cesium.Cartesian3((le.scale?.x||1)*5,(le.scale?.y||1)*5,(le.scale?.z||1)*5),material:window.Cesium.Color.ORANGE.withAlpha(.7),outline:!0,outlineColor:window.Cesium.Color.BLACK},label:{text:le.name,font:"12pt sans-serif",fillColor:window.Cesium.Color.WHITE,outlineColor:window.Cesium.Color.BLACK,outlineWidth:2,style:window.Cesium.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new window.Cesium.Cartesian2(0,-50)},isPlacedObject:!0})};if(le.object_models.file_url&&D.current.add3DModel){const ae={file_url:le.object_models.file_url,longitude:le.position.longitude,latitude:le.position.latitude,height:le.position.height||0,scale:le.scale||{x:1,y:1,z:1},rotation:le.rotation||{x:0,y:0,z:0}};try{D.current.add3DModel(ae)}catch(Pe){console.warn("Failed to load 3D model, using fallback box:",Pe),xe()}}else xe()}})},Es=()=>{console.log("🎯 Starting object placement mode"),H(!0),oe(null),d("מצב מיקום פעיל - לחץ על המפה למיקום האובייקט")},wc=()=>{console.log("❌ Canceling object placement"),H(!1),oe(null),d("מיקום אובייקט בוטל")},_c=async(te,ce)=>{console.log("📍 Placing object:",te);try{const{objectsService:le}=await mi(async()=>{const{objectsService:ae}=await Promise.resolve().then(()=>rg);return{objectsService:ae}},void 0),xe=await le.placeObject(te);xe.success?(console.log("✅ Object placed successfully"),d(`אובייקט "${te.name}" הוצב בהצלחה!`),q(ae=>[...ae,xe.data]),xt([xe.data]),H(!1),oe(null)):(console.error("Failed to place object:",xe.error),d(`שגיאה במיקום אובייקט: ${xe.error}`))}catch(le){console.error("Error placing object:",le),d(`שגיאה במיקום אובייקט: ${le.message}`)}},Cs=te=>{console.log("🎯 handleObjectPositionSelect called with:",te),console.log("🔄 Setting selected position and triggering placement"),oe(te),d(`מיקום נבחר: ${te.latitude.toFixed(6)}, ${te.longitude.toFixed(6)}`),console.log("🚀 Calling handleDirectObjectPlacement immediately"),Rh(te)},Rh=async te=>{console.log("🏗️ handleDirectObjectPlacement called with:",te),console.log("🔍 Looking for form elements...");const ce=document.querySelector('#object-placer select[name="model_id"]'),le=document.querySelector('#object-placer select[name="category_id"]'),xe=document.querySelector('#object-placer input[name="objectName"]');console.log("📋 Form elements found:",{modelSelect:!!ce,categorySelect:!!le,nameInput:!!xe});const ae=ce?.value,Pe=le?.value,Ce=xe?.value||"";if(console.log("📋 Form values:",{selectedModel:ae,selectedCategory:Pe,objectName:Ce}),!ae){console.error("❌ No model selected"),d("❌ שגיאה: לא נמצא דגם נבחר"),H(!1);return}if(!Pe){console.error("❌ No category selected"),d("❌ שגיאה: לא נמצאה קטגוריה נבחרת"),H(!1);return}d("💾 שומר אובייקט במסד הנתונים..."),console.log("💾 Starting database save process...");try{const{objectsService:ze}=await mi(async()=>{const{objectsService:Ye}=await Promise.resolve().then(()=>rg);return{objectsService:Ye}},void 0);console.log("📦 Loading model data for category:",Pe);const qe=await ze.getModelsByCategory(Pe);if(!qe.success)throw new Error("Failed to get model data");const Te=qe.data.find(Ye=>Ye.id===ae);if(!Te)throw new Error("Model not found");console.log("📦 Selected model data:",Te);const Xe={model_id:ae,name:Ce||Te.name_he,position:te,scale:typeof Te.scale=="string"?JSON.parse(Te.scale):Te.scale||{x:1,y:1,z:1},rotation:typeof Te.rotation=="string"?JSON.parse(Te.rotation):Te.rotation||{x:0,y:0,z:0},properties:{}};console.log("💾 Saving object to database:",Xe);const ye=await ze.placeObject(Xe);ye.success?(console.log("✅ Object saved successfully:",ye.data),d(`✅ אובייקט "${Xe.name}" נשמר והוצב בהצלחה!`),q(Ye=>[...Ye,ye.data]),xt([ye.data]),H(!1),oe(null),xe&&(xe.value="")):(console.error("Failed to place object:",ye.error),d(`❌ שגיאה במיקום אובייקט: ${ye.error}`),H(!1))}catch(ze){console.error("Error placing object:",ze),d(`❌ שגיאה במיקום אובייקט: ${ze.message}`),H(!1)}},Ps=async()=>{try{console.log("Loading saved buildings...");const te=await Do.getAllBuildings();console.log("Load result:",te),te.success&&te.data?(console.log("טוען בניינים שמורים:",te.data.length),J(te.data),D.current&&D.current.viewer&&Sc(te.data)):console.error("Failed to load buildings:",te.error)}catch(te){console.error("שגיאה בטעינת בניינים:",te)}},Sc=te=>{if(!D.current||!D.current.viewer)return;const ce=D.current.viewer,le=l;ce.entities.values.filter(ae=>ae.id&&ae.id.startsWith("building-")&&ae.id!==le).forEach(ae=>{ce.entities.remove(ae)}),te.forEach(ae=>{if(ae.geometry_points&&ae.geometry_points.length>=3){if(console.log("מציג בניין:",ae.id),ae.id===le){const ye=ce.entities.getById(ae.id);ye&&ce.entities.remove(ye),ce.entities.values.filter(We=>We.id&&We.id.startsWith(`${ae.id}-floor-`)).forEach(We=>{ce.entities.remove(We)})}const Pe=ae.geometry_points.map(ye=>window.Cesium.Cartesian3.fromDegrees(ye.longitude,ye.latitude,ye.height||0)),Ce=parseFloat(ae.height)||30,ze=parseInt(ae.num_floors)||parseInt(ae.no_floors)||Math.max(1,Math.floor(Ce/3.5)),qe=ae.floor_colors||[],Xe=Ac(ce,ae.id,Pe,Ce,ze,qe,.9);Xe&&(Xe.show=_,ce.entities.values.filter(Ye=>Ye.id&&Ye.id.startsWith(`${ae.id}-floor-`)).forEach(Ye=>{Ye.show=_}))}})},Ac=(te,ce,le,xe,ae,Pe,Ce=.9)=>{console.log(`יוצר בניין שמור עם ${ae} קומות, גובה כולל: ${xe}מ`);const ze=Rr(le,2),qe=xe/ae,Te=te.entities.add({id:ce,isBuilding:!0});let Xe;Pe&&Pe.length===ae?Xe=Pe.map(ye=>{try{return window.Cesium.Color.fromCssColorString(ye).withAlpha(Ce)}catch{return console.warn("Invalid color string:",ye,"using default"),window.Cesium.Color.GREY.withAlpha(Ce)}}):Xe=Mi(ae,Ce);for(let ye=0;ye<ae;ye++){const Ye=ye*qe,We=(ye+1)*qe;te.entities.add({id:`${ce}-floor-${ye}`,parent:Te,polygon:{hierarchy:new window.Cesium.PolygonHierarchy(ze),height:Ye,extrudedHeight:We,material:Xe[ye],outline:!0,outlineColor:window.Cesium.Color.BLACK.withAlpha(.3),outlineWidth:1}})}return Te},Aa=(te,ce,le,xe,ae)=>{console.log("🔄 APP: Drawing state change:",{drawing:te,pointsCount:ce.length,message:ae,isDrawingNow:te}),t(te),r(ce),o(le),c(xe),d(ae)},bn=()=>{console.log("🔘 BUTTON: Start/Finish drawing clicked"),console.log("Current state - isDrawing:",e,"activeShapePoints:",n.length),D.current&&(e?(console.log("🔴 Finishing current drawing..."),D.current.finishDrawing()):(console.log("🟢 Starting new drawing session..."),D.current.startDrawing(),r([]),b("")))},kr=te=>{console.log("🏢 Building clicked:",te.id),R({x:window.innerWidth-320,y:280}),xn(te.id)},xn=async te=>{try{console.log("🔄 Loading fresh building data for:",te);const ce=await Do.getBuilding(te);if(ce.success&&ce.data)console.log("✅ Fresh building data loaded:",ce.data),console.log("🔗 Weblink in fresh data:",ce.data.weblink),P(ce.data),j(!0);else{console.warn("Building data not found for:",te);const le=I.find(xe=>xe.id===te);le?(P(le),j(!0)):(P({id:te,full_addres_q:"לא זמין",bldg_num:"לא זמין",bldg_type:"לא זמין",num_floors:"לא זמין",height:"לא זמין"}),j(!0))}}catch(ce){console.error("Error loading fresh building data:",ce);const le=I.find(xe=>xe.id===te);le&&(P(le),j(!0))}},Nh=async te=>{console.log("🏗️ CREATE BUILDING CLICKED");const ce=n.length>0?n:te;if(console.log("✅ Points to use for building:",ce.length),n.length<3){console.error("❌ Not enough points for building creation"),alert("אנא צייר תחילה מתאר בניין תקין.");return}if(!v.trim()){console.error("❌ No AI command provided"),alert("אנא הכנס פקודה עבור הבינה המלאכותית.");return}d("הבינה המלאכותית חושבת...");try{console.log("Calling AI with command:",v);const le=await Lh(v);if(console.log("AI returned building data:",le),le!==null&&D.current){const xe=D.current.viewer,{height:ae,floors:Pe}=le;a&&xe.entities.remove(a);const Ce=`building-${new Date().getTime()}`;console.log("Creating building with ID:",Ce);const ze=Ms(xe,Ce,n,ae,Pe,.9);console.log("Building entity created:",ze),o(ze),c(Ce),d(`🏗️ בונה בניין עם ${Pe} קומות... (${ae}מ)`),console.log("Saving to database...");const qe=n.map(ye=>({longitude:window.Cesium.Math.toDegrees(window.Cesium.Cartographic.fromCartesian(ye).longitude),latitude:window.Cesium.Math.toDegrees(window.Cesium.Cartographic.fromCartesian(ye).latitude),height:window.Cesium.Cartographic.fromCartesian(ye).height})),Te=Mi(Pe,1).map(ye=>{const Ye=Math.round(ye.red*255).toString(16).padStart(2,"0"),We=Math.round(ye.green*255).toString(16).padStart(2,"0"),ht=Math.round(ye.blue*255).toString(16).padStart(2,"0");return`#${Ye}${We}${ht}`});console.log("Building data to save:",{buildingId:Ce,height:ae,floors:Pe,geometryPoints:qe.length,defaultFloorColors:Te.length});const Xe=await Do.saveBuilding(Ce,{num_floors:Pe.toString(),no_floors:Pe.toString(),height:ae.toString(),ai_command:v,full_addres_q:`Building created at ${new Date().toLocaleString()}`,bldg_type:"Generated Building"},qe,v,ae,Te);console.log("Save result:",Xe),Xe.success?(console.log("Building saved successfully"),setTimeout(()=>{d(`✅ בניין הושלם ונשמר! גובה: ${ae}מ', קומות: ${Pe}`)},Pe*1e3+500),await Ps()):(console.error("Save failed:",Xe.error),d(`בניין נוצר אך השמירה נכשלה: ${Xe.error}`)),r([]),b(""),t(!1),m(!0)}else console.error("Failed to create building - no height or viewer"),d("הבינה המלאכותית לא הצליחה לקבוע פרמטרי בניין או הצופה אינו זמין.")}catch(le){console.error("Error calling Gemini API:",le),d("שגיאה בתקשורת עם הבינה המלאכותית.")}},Bh=te=>{c(te.id),m(!0),j(!1)},Lh=async te=>{console.log("Calling Gemini API with command:",te);const le="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyD7he1t-eLRUPOjUvbSfImIBLhKelaoQbw",ae={contents:[{parts:[{text:`You are an assistant for a 3D mapping application. The user has provided an instruction to create a building. Your task is to determine both the final height of the building in meters AND the number of floors. Assume a standard floor is 3.5 meters high if the user specifies floors. Respond with ONLY a JSON object in this format: {"height": 35, "floors": 10}. For example, if the user says 'make it 10 stories tall', you should respond with '{"height": 35, "floors": 10}'. If the user says 'extrude to 100 feet', you should respond with '{"height": 30.48, "floors": 9}'. If the user says 'build it 50 meters high', you should respond with '{"height": 50, "floors": 14}'. User instruction: '${te}'`}]}]};try{const Pe=await fetch(le,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!Pe.ok){const ze=await Pe.text();return console.error("API Error Response:",ze),null}const Ce=await Pe.json();if(console.log("Gemini API response:",Ce),Ce.candidates&&Ce.candidates[0]?.content?.parts[0]){const ze=Ce.candidates[0].content.parts[0].text;console.log("Raw AI response:",ze);try{const qe=ze.trim().replace(/^```json\s*/,"").replace(/\s*```$/,""),Te=JSON.parse(qe);return console.log("Parsed response:",Te),{height:parseFloat(Te.height)||0,floors:parseInt(Te.floors)||1}}catch(qe){console.error("Failed to parse JSON response:",qe);const Te=parseFloat(ze.trim());return isNaN(Te)?null:{height:Te,floors:Math.max(1,Math.floor(Te/3.5))}}}return null}catch(Pe){return console.error("Fetch error:",Pe),null}},Ms=(te,ce,le,xe,ae,Pe=.9,Ce=!0)=>{console.log(`Creating building with ${ae} floors, total height: ${xe}m`);const ze=Rr(le,2),qe=xe/ae,Te=te.entities.add({id:ce,isBuilding:!0}),Xe=Mi(ae,Pe);if(Ce){let ye=0;const Ye=()=>{if(ye<ae&&te&&!te.isDestroyed()){const We=ye*qe,ht=(ye+1)*qe,jt=te.entities.add({id:`${ce}-floor-${ye}`,parent:Te,polygon:{hierarchy:new window.Cesium.PolygonHierarchy(ze),height:We,extrudedHeight:We,material:Xe[ye],outline:!0,outlineColor:window.Cesium.Color.BLACK.withAlpha(.3),outlineWidth:1}}),Jn=te.clock.currentTime.clone(),Di=.8,Oa=()=>{if(!te||te.isDestroyed()||!jt.polygon)return;const ks=te.clock.currentTime,Ta=window.Cesium.JulianDate.secondsDifference(ks,Jn),Nr=Math.min(Ta/Di,1),ki=1-Math.pow(1-Nr,3),Nn=We+(ht-We)*ki;jt.polygon.extrudedHeight=Nn,Nr<1?requestAnimationFrame(Oa):(ye++,ye<ae?setTimeout(Ye,200):console.log(`🏗️ Building ${ce} construction completed!`))};requestAnimationFrame(Oa)}};Ye()}else for(let ye=0;ye<ae;ye++){const Ye=ye*qe,We=(ye+1)*qe;te.entities.add({id:`${ce}-floor-${ye}`,parent:Te,polygon:{hierarchy:new window.Cesium.PolygonHierarchy(ze),height:Ye,extrudedHeight:We,material:Xe[ye],outline:!0,outlineColor:window.Cesium.Color.BLACK.withAlpha(.3),outlineWidth:1}})}return Te},Mi=(te,ce=.9)=>{const le=[];for(let xe=0;xe<te;xe++){const ae=xe/Math.max(1,te-1),Pe=.15-ae*.4,Ce=.7-ae*.3,ze=.8+ae*.2,qe=window.Cesium.Color.fromHsl(Pe,Ce,ze,ce);le.push(qe)}return le},Rr=(te,ce)=>{if(te.length<3)return te;const le=[],xe=8;for(let ae=0;ae<te.length;ae++){const Pe=te[(ae-1+te.length)%te.length],Ce=te[ae],ze=te[(ae+1)%te.length],qe=window.Cesium.Cartographic.fromCartesian(Pe),Te=window.Cesium.Cartographic.fromCartesian(Ce),Xe=window.Cesium.Cartographic.fromCartesian(ze),ye=qe.longitude-Te.longitude,Ye=qe.latitude-Te.latitude,We=Xe.longitude-Te.longitude,ht=Xe.latitude-Te.latitude,jt=Math.sqrt(ye*ye+Ye*Ye),Jn=Math.sqrt(We*We+ht*ht);if(jt>0&&Jn>0){const Di=ye/jt,Oa=Ye/jt,ks=We/Jn,Ta=ht/Jn,Nr=Di*ks+Oa*Ta,ki=Math.acos(Math.max(-1,Math.min(1,Nr)));if(ki<Math.PI*.9){const Nn=ce/6371e3;for(let Br=0;Br<xe;Br++){const ja=Br/(xe-1),_r=ki*(ja-.5),kt=Nn*Math.cos(_r)*Di+Nn*Math.sin(_r)*ks,Oc=Nn*Math.cos(_r)*Oa+Nn*Math.sin(_r)*Ta,Rs=new window.Cesium.Cartographic(Te.longitude+kt,Te.latitude+Oc,Te.height);le.push(window.Cesium.Cartesian3.fromRadians(Rs.longitude,Rs.latitude,Rs.height))}}else le.push(Ce)}else le.push(Ce)}return le.length>0?le:te};A.useEffect(()=>{const te=n.length>=3,ce=v.trim().length>0,le=te&&!e&&ce;console.log("=== APP STATE UPDATE ==="),console.log("- isDrawing:",e),console.log("- activeShapePoints:",n.length),console.log("- hasPolygon:",te),console.log("- hasCommand:",ce),console.log("- canCreate:",le),console.log("========================")},[e,n,v]),A.useEffect(()=>{D.current&&I.length>0&&Sc(I)},[D.current,I,_]);const Ds=async(te,ce,le=!1)=>{if(!D.current||!D.current.viewer)return;const xe=D.current.viewer;let ae=te.floor_colors||[];if(!le)try{const Ce=await Do.getBuilding(l);Ce.success&&Ce.data&&Ce.data.floor_colors&&(ae=Ce.data.floor_colors)}catch(Ce){console.error("Error getting updated building data:",Ce)}const Pe=xe.entities.values.filter(Ce=>Ce.id&&Ce.id.startsWith(`${l}-floor-`));if(Pe.forEach((Ce,ze)=>{if(Ce.polygon&&Ce.polygon.material){let qe;if(ae&&ae[ze])try{qe=window.Cesium.Color.fromCssColorString(ae[ze]).withAlpha(ce)}catch{console.warn("Invalid color string:",ae[ze],"using default"),qe=window.Cesium.Color.GREY.withAlpha(ce)}else{const Te=Pe.length,Xe=ze/Math.max(1,Te-1),ye=.15-Xe*.4,Ye=.7-Xe*.3,We=.8+Xe*.2;qe=window.Cesium.Color.fromHsl(ye,Ye,We,ce)}Ce.polygon.material=qe}}),Pe.length===0&&te.geometry_points&&te.geometry_points.length>=3){const Ce=te.geometry_points.map(Te=>window.Cesium.Cartesian3.fromDegrees(Te.longitude,Te.latitude,Te.height||0)),ze=parseFloat(te.height)||30,qe=parseInt(te.num_floors)||parseInt(te.no_floors)||Math.max(1,Math.floor(ze/3.5));Ac(xe,te.id,Ce,ze,qe,ae,ce)}};return w.jsxs(w.Fragment,{children:[Ft&&w.jsx(lee,{projectId:ue,onClose:()=>Ge(!1)}),w.jsxs("div",{className:"app",children:[w.jsx(VC,{ref:D,isDrawing:e,activeShapePoints:n,currentLayer:x,isPlacingObject:W,onDrawingStateChange:Aa,onBuildingClick:kr,onObjectPositionSelect:Cs}),w.jsx(UB,{show:G,onToggle:se,isDrawing:e,statusMessage:f,aiCommand:v,onAiCommandChange:b,onStartDrawing:bn,onCreateBuilding:Nh,canCreate:n.length>=3&&!e&&v.trim().length>0}),X&&w.jsx(VU,{show:X,onToggle:Q,currentLayer:x,onLayerChange:S}),be&&w.jsx(FU,{show:be,onToggle:B,isPlacing:W,onStartPlacing:Es,onCancelPlacing:wc,onObjectPlace:_c,selectedPosition:ie}),p&&w.jsx(IU,{buildingId:l,onClose:()=>{m(!1),c(null)},onSave:(te,ce,le,xe=!1)=>{if(d(te),(ce||xe)&&le!==void 0&&D.current){const ae=I.find(Pe=>Pe.id===l);ae&&D.current&&D.current.viewer&&Ds(ae,le,xe)}else ce&&!xe&&Ps()}}),T&&M&&w.jsx(qU,{building:M,position:k,onEdit:Bh,onClose:()=>{j(!1),P(null)}}),w.jsx(HU,{show:re,onToggle:pe,onWidgetVisibilityChange:nn,widgetVisibility:_e})]}),w.jsxs("div",{style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",background:"rgba(38, 38, 38, 0.95)",borderRadius:"8px",padding:"10px",backdropFilter:"blur(8px)",border:"1px solid #444",zIndex:15},children:[w.jsx("div",{style:{color:"#fff",fontSize:"12px",marginBottom:"8px",textAlign:"center"},children:"חלונות"}),!G&&w.jsx("button",{className:"window-menu-btn ai-controls",onClick:()=>se(!0),children:"🏗️ יוצר בניינים"}),!be&&_e.objectPlacer&&w.jsx("button",{className:"window-menu-btn object-placer",onClick:()=>B(!0),children:"🎯 מציב אובייקטים"}),!X&&_e.layerSwitcher&&w.jsx("button",{className:"window-menu-btn layer-switcher",onClick:()=>Q(!0),children:"🗺️ שכבות מפה"}),!re&&w.jsx("button",{className:"window-menu-btn admin-panel",onClick:()=>pe(!0),children:"🔧 ניהול מערכת"}),!Ft&&_e.plansDashboard&&w.jsx("button",{className:"window-menu-btn plans-dashboard",onClick:()=>ue&&Ge(!0),children:"🏗️ לוח תוכניות"}),!Re&&w.jsx("button",{className:"window-menu-btn test-data",onClick:()=>ne(!0),style:{background:"rgba(255, 193, 7, 0.8)"},children:"🧪 בדיקת נתונים"}),!Tt&&_e.publicAllocation&&w.jsx("button",{className:"window-menu-btn public-allocation",onClick:()=>Ie(!0),style:{background:"rgba(255, 87, 34, 0.8)"},children:"🏛️ הקצאת ציבור"})]}),Re&&w.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"white",zIndex:2e3,overflow:"auto"},children:[w.jsx("button",{onClick:()=>ne(!1),style:{position:"fixed",top:"20px",right:"20px",zIndex:2001,padding:"10px 15px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"✕ סגור"}),w.jsx(cee,{})]}),Tt&&w.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"white",zIndex:2e3,overflow:"auto"},children:[w.jsx("button",{onClick:()=>Ie(!1),style:{position:"fixed",top:"20px",right:"20px",zIndex:2001,padding:"10px 15px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"✕ סגור"}),w.jsx(See,{})]})]})}NB.createRoot(document.getElementById("root")).render(w.jsx(A.StrictMode,{children:w.jsx(Oee,{})}));
